{"version":3,"sources":["components/maps/SidePanel/Topo/MyStyler.jsx","assets/data/data.js","components/maps/SidePanel/Data.jsx","components/Utils/SelectMain.jsx","components/maps/TopPanel.jsx","components/maps/AlertMsg.jsx","components/maps/RightPanel.jsx","components/Utils/RippleLoading.jsx","assets/imgs/osm.png","assets/imgs/street.png","assets/imgs/topo.jpg","components/BaseMaps/Basemaps.jsx","components/maps/ImageUpload.jsx","components/maps/PreviewData.jsx","assets/imgs/placeholder.png","components/maps/SidePanel/Export.jsx","components/maps/SidePanel/Metadata.jsx","components/maps/SidePanel/Others/MyPie.jsx","components/maps/SidePanel/Others/MyBarChart.jsx","components/maps/SidePanel/Charts.jsx","components/maps/TitlePanel.jsx","components/ThematicMap/Popup.jsx","components/maps/SidePanel/Topo/Styles.jsx","components/maps/SidePanel/Others/Select.jsx","components/maps/SidePanel/Others/Classes.jsx","components/maps/SidePanel/Others/Item.jsx","components/maps/SidePanel/Others/Range.jsx","components/ThematicMap/ThematicPreview.jsx","components/maps/SidePanel/Topo/AddData.jsx","assets/imgs/download.png","components/ThematicMap/Query.jsx","components/WorldData/WorldDataPreview.jsx","components/WorldData/Query.jsx","components/BaseMap/BaseMapPreview.jsx","components/BaseMap/Query.jsx","components/TimeSeries/TimeSeriesPreview.jsx","components/TimeSeries/Query.jsx","components/TimeSeries/Popup.jsx","components/TimeSeries/TimeSeriesData.jsx","assets/imgs/leftArrowTimeseries.svg","assets/imgs/rightArrowTimeseries.svg","components/TimeSeries/TimeSeriesSlider.jsx","assets/imgs/north-arrow.png","components/export/SearchReport.js","components/Utils/ButtonMain.jsx","components/Utils/MyError.jsx","Pages/404.jsx","assets/imgs/osllogo.png","components/Utils/modal_header.jsx","components/maps/InputMap.jsx","components/Utils/Loading.jsx","components/Utils/forgotPassword.jsx","components/Utils/loginPopUp.jsx","components/Utils/registerPopUp.jsx","components/Utils/userAccount.jsx","components/Utils/editUserDetails.jsx","components/Utils/ChangePassword.jsx","components/Utils/header.jsx","assets/imgs/bg0.jpg","assets/imgs/bg1.jpg","assets/imgs/bg2.jpg","assets/imgs/bg3.jpg","assets/imgs/bg4.jpg","assets/imgs/bg5.jpg","assets/imgs/bg6.jpg","components/Landing/Cards.jsx","assets/imgs/Logo-accent.png","components/LandingNew/CoolText.jsx","components/LandingNew/Background.jsx","Pages/LandingNew.jsx","assets/imgs/twitter.png","assets/imgs/facebook.png","assets/imgs/instagram.png","assets/imgs/linkedin.png","components/Utils/SocialMain.jsx","components/Utils/FeedBackForm.jsx","components/Utils/footerItem.jsx","assets/Doc/Public Portal Documentation.pdf","components/Utils/footer.jsx","components/Utils/pagination.jsx","components/Utils/WaveLoading.jsx","assets/imgs/folder1.png","Pages/DataPage.jsx","components/Utils/prompt.jsx","components/Utils/ReplyComment.jsx","components/Utils/Commentcontent.jsx","components/Utils/CommentsSection.jsx","Pages/SingleInstancePage.jsx","Pages/SingleCollection.jsx","assets/imgs/about_1_background.jpg","assets/imgs/about_2_background.jpg","Pages/AboutPage.jsx","components/ContactUs/Hero.jsx","Pages/ContactUsPage.jsx","Pages/Terms.jsx","Pages/PrivacyPolicy.jsx","components/maps/MapCategory.jsx","Pages/Category.jsx","Pages/Publications.jsx","Pages/StoryMapPage.jsx","components/Utils/Accordion.jsx","components/Utils/AccordionBody.jsx","Pages/FAQs.jsx","App.js","reportWebVitals.js","index.js"],"names":["MyStyler","props","_useState","useState","_useState2","_slicedToArray","active","setActive","Item","params","_jsx","onClick","name","className","children","_jsxs","BasicStyler","setStyleSelector","map","body","setBody","UniqueStyler","RangeStyler","_useState3","_useState4","layrs","setLayrs","_useState5","_useState6","columns","setColumns","_useState7","_useState8","lcolumn","setLColumn","_useState9","_useState10","lfont","setLFont","_useState11","_useState12","lcolor","setLColor","_useState13","_useState14","label","setLabel","_useState15","_useState16","title","setTitle","_useState17","_useState18","fill","setFill","_useState19","_useState20","fopacity","setFOpacity","_useState21","_useState22","sfill","setSFill","_useState23","_useState24","swidth","setSWidth","_useState25","_useState26","offsetX","setOffsetX","_useState27","_useState28","offsetY","setOffsetY","fillStyle","color","opacity","scolor","width","_props$map2","_props$map2$getAllLay","_props$map3","getAllLayers","length","item","i","get","_d$Data","colorArray","asArray","slice","setStyle","feature","resolution","txt","undefined","values_","Style","image","Circle","radius","Fill","stroke","Stroke","text","Text","toString","font","concat","d","Data","e","url","split","indexOf","style","type","useEffect","_props$map","Vector","push","_props$body$Data","_props$body$Data$i","_props$body$Data$i$st","_props$body$Data$i2","onChange","_props$map4","_props$map4$getAllLay","_props$map5","_item$getSource","features","getSource","getFeatures","Object","keys","populateColumns","target","value","id","checked","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","_useState35","_useState36","_useState37","_useState38","layerIndex","setlayerIndex","_useState39","_useState40","classes","setClasses","_props$map6","_props$map9","_props$body$Data2","_props$body$Data$i3","_props$body$Data$i3$s","ix","element","_props$map10","_props$body$Data$i4","column","_d$Data2","_props$map12","_props$map12$getAllLa","_props$map13","_props$body$Data4","fitem","clearStyle","_props$body$Data3","_props$body$Data$i5","_props$body$Data$i5$s","_props$body$Data$i6","_props$body$Data$i6$s","_props$body$Data$i6$s2","_props$body$Data$i7","_props$body$Data$i7$s","_props$map11","values","forEach","unique","Set","arr","Array","from","cls","count","getRandomColor","Math","floor","random","Theme","_useState41","_useState42","setColor","_props$map14","_props$map7","_props$map7$getAllLay","_props$map8","_item$getSource2","_useState43","_useState44","_useState45","_useState46","_useState47","_useState48","_useState49","_useState50","_useState51","_useState52","_useState53","_useState54","_useState55","_useState56","extents","setExtents","_useState57","_useState58","isNumeric","setIsNumeric","_useState59","_useState60","classification","setClassification","_useState61","_useState62","rangeOPopup","setRangePopup","_props$map18","_props$map18$getAllLa","_props$map19","_props$body$Data6","_props$map15","_props$map16","_props$body$Data5","_props$body$Data$i8","_props$body$Data$i8$s","_props$map17","_props$body$Data$i9","_d$Data3","_props$map22","some","isNaN","min","len","Infinity","Number","arrayMin","max","arrayMax","_props$body$Data7","_props$body$Data$i10","_props$body$Data$i10$","_props$body$Data$i11","_props$body$Data$i11$","_props$body$Data$i11$2","_props$body$Data$i12","_props$body$Data$i12$","_props$map23","interval","_loop","lower","upper","withCommas","toFixed","_props$body$Data$i13","_props$body$Data$i13$","_props$body$Data$i14","_props$body$Data$i14$","_props$body$Data$i14$2","_props$body$Data$i15","_props$body$Data$i15$","x","replace","_useState63","_useState64","_props$map24","RangePopup","useRef","ref","current","addRange","_props$map20","_props$map20$getAllLa","_props$map21","_item$getSource3","_Fragment","_props$body$Data8","getBasemaps","attribution","XMLParser","require","parser","WMTSCapabilities","workspaces","setWorkspaces","layers","setLayers","data","setData","selected","setSelected","setSelectedLayer","projectionExtent","getProjection","getExtent","size","getWidth","resolutions","matrixIds","z","pow","dataType","headers","Authorization","Buffer","addToMap","_x","_x2","_addToMap","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","workspace","layer","dt","xml","symbolizer","_style","_xml","_txt","_style2","_xml2","_findNested","_findNested2","_findNested3","_findNested4","_txt2","rule","fillObj","strokeObj","_findNested5","_findNested6","_findNested7","_findNested8","_txt3","_rule","_fillObj","_strokeObj","response","wrap","_context","prev","next","abrupt","setIsLoading","fetch","href","replaceAll","credentials","then","res","ok","json","sent","defaultStyle","parseFromString","findNested","n","toLowerCase","t0","t1","encodeURI","method","Error","result","read","options","optionsFromCapabilities","matrixSet","pic","TileLayer","source","WMTS","addLayer","getView","fit","tileGrid","padding","catch","t2","t3","t4","$","ajax","getUrl","success","error","xhr","when","done","vector","VectorLayer","VectorSource","GeoJSON","readFeatures","responseJSON","featureProjection","setExtent","t5","alert","stop","list","getSelected","obj","key","k","found","shape","p","a","r","PI","RegularShape","points","angle","rotation","WorkspaceItem","setDataSelector","open","setOpen","curr","SelectMain","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","onchange","setState","state","React","createRef","bind","_assertThisInitialized","_createClass","_this2","htmlFor","this","Component","TopPanel","icon","openPopup","setQuerySelector","category","AlertMsg","msg","setMsg","RightPanel","_props$body","collapsed","setCollapsed","isSmallScreen","useMediaQuery","Layers","Charts","updateBody","pChartImgUrl","setPChartImgUrl","bChartImgUrl","setBChartImgUrl","Export","instanceId","instance","Metadata","togglelayer","index","oldIndex","array_move","xd","removeLayer","old_index","new_index","splice","_props$map$getAllLaye","getVisible","Layer","setChecked","_e$url","setVisible","_params$map","_params$map$getAllLay","RippleLoading","Basemaps","images","osmPic","streetmap","topomap","Basemap","setSource","XYZ","crossOrigin","src","alt","setBaseSelector","myData","basemap","setLayer","setBasemap","ImageUpload","preview","placeholder","setImage","Thumbnail","PreviewData","_props$body$Data$","_props$body$Data$$sty","Title","Description","Dataset","Keywords","Collection","Owner","SourceLink","AcquisitionDate","handleClick","ext","downloadImg","service","setService","setError","blob","setBlob","base_url","once","mapCanvas","document","createElement","getSize","height","mapContext","getContext","prototype","getViewport","querySelectorAll","canvas","matrix","parentNode","globalAlpha","transform","match","parseFloat","CanvasRenderingContext2D","setTransform","backgroundColor","fillRect","drawImage","toDataURL","renderSync","downLoadData","isArray","_ref","_callee2","_context2","_data$layer","getWms","downLoadImage","saveData","populateDownload","_data$layer2","str","window","URL","createObjectURL","download","appendChild","click","remove","err","s_url","Download","Category","DownloadID","ID","GeoserverURL","Type","OtherInfo","JSON","stringify","console","log","fontSize","doc","jsPDF","format","unit","orientation","setFont","output","staticElement","renderToStaticMarkup","SearchReport","innerHTML","html","callback","save","MyError","_props$body2","_props$body3","_props$body4","MyPie","_props$body3$style","_props$body$style","_props$body$style$cla","_props$body2$style","_props$body2$style$cl","setTimeout","setReload","reload","ResponsiveContainer","aspect","PieChart","Pie","dataKey","nameKey","cx","cy","innerRadius","outerRadius","Tooltip","Legend","verticalAlign","forwardRef","Barchart","BarChart","margin","top","bottom","XAxis","YAxis","Label","position","textAnchor","Bar","showBarChart","setShowBarChart","showing","setShowing","piechrt","barchrt","htmlToImage","dataUrl","Button","TitlePanel","Popup","cols","setCols","pp","geometry","c","classList","add","setPopup","charAt","toUpperCase","ThematicPreview","_body$Data2","pathname","location","Status","ke_counties","setMap","dataSelector","styleSelector","mapElement","isLoading","querySelector","baseSelector","extent","Graticule","strokeStyle","latLabelStyle","textBaseline","showLabels","wrapX","graticule","setZIndex","popup","loadData","_loadData","_dt$layer","rangeStyle","overflow","filters","initialMap","Map","controls","defaultControls","extend","ZoomToExtent","ScaleLine","units","bar","renderer","view","View","projection","center","fromLonLat","zoom","on","ev","forEachFeatureAtPixel","pixel","calculateExtent","parse","_loadAllData","_body$Data","_iterator","_step","_createForOfIteratorHelper","s","f","finish","loadAllData","link","setAttribute","role","Query","AddData","selectedLayer","Select","toggleShowing","operators","operator","setOperator","setValue","uniqueStyle","_props$map3$getAllLay","_props$body3$Data","resetMap","_props$body2$Data","WorldDataPreview","_props$body$Data$d$st4","_props$body$Data$d$st5","_props$body$Data$d$st6","_props$body$Data$d$st","_props$body$Data$d$st2","_props$body$Data$d$st3","event","TimeSeriesPreview","timeSeriesData","setTimeSeriesData","setTimeSeries","dates","setDates","fillNoStyle","addToSeries","date","DataArr","DatesArr","timeSeriesDict","tar","sort","val0","val1","val2","includes","_toConsumableArray","TimeSeriesData","inputDate","setInputDate","timeSeries","loadUrl","addStyle","colormap","filename","_n$attributes","_n$attributes2","attributes","removeLayersExcept","layersToKeep","getLayers","array_","filter","TimeSeriesSlider","showCurrent","nextProduct","previousProduct","_x3","TimeSeriesItem","removedItem","_objectSpread","moveUp","moveDown","removeItem","_props$body$Data$prop","setDatesLength","start","end","timeline","setTimeline","leftArrow","rightArrow","_body$Data$","_body$Data$$style","display","gridTemplateColumns","gap","border","gridTemplateRows","textAlign","fontWeight","objectFit","marginBottom","justifyContent","flexWrap","marginLeft","textTransform","northarrow","whiteSpace","ButtonMain","NotFound","NavLink","useLocation","ModalHeader","logo2","toggleMenu","isAuthenticated","logout","setToggleLogin","setToggleRegister","InputMap","Loading","ForgotPassword","email","message","setMessage","isError","setIsError","Email","onSubmit","preventDefault","validateEmail","String","Accept","setForgot","resetPassword","LoginPopUp","Password","forgot","rfEmail","rfPassword","validatePassword","password","trim","setIsAuthenticated","localStorage","setItem","token","RegisterPopUp","cPassword","Phone","Name","rfcPassword","rfName","rfPhone","_body$Phone","UserAccount","currentUser","setToggleAccount","EditUserDetails","UserID","clear","setToggleEditDetails","setToggleChangePass","ChangePassword","NewPassword","ConfirmNewPassword","rfOldPassword","rfNewPassword","rfConfirmNewPassword","newPassword","confirmNewPassword","_body$NewPassword","Header","firstRenderDone","setFirstRender","changeToggle","toggleRegisterfromLanding","clicked","setClicked","toggleLogin","toggleRegister","showSettings","setShowSettings","toggleAccount","toggleEditDetails","toggleChangePass","headerRef","changeCss","landing","scrollY","paddingTop","paddingBottom","marginTop","background","addEventListener","setCurrentUser","Login","parent","onMouseOver","onMouseOut","SwiperCore","use","Autoplay","EffectCards","CoolText","txt1","txt2","texts","morphTime","cooldownTime","textIndex","time","Date","morph","cooldown","doMorph","fraction","textContent","setMorph","animate","requestAnimationFrame","newTime","shouldIncrementIndex","in","Background","setIndex","setCls","imgs","bg0","bg1","bg2","bg3","bg4","bg5","bg6","content","desc","setInterval","backgroundImage","Swiper","autoplay","delay","disableOnInteraction","loop","grabCursor","pagination","modules","Pagination","SwiperSlide","MySlider","LandingPage","Navigation","SocialMain","links","facebook","fbImg","instagram","igImg","twitter","trImg","linkedin","lnImg","FeedBackForm","isErr","setIsErr","rfContent","To","From","Subject","Content","validateMessage","action","rows","sendFeedBack","setShowFeedBackForm","cursor","FooterItem","show","setShow","showFeedBackForm","info","mail","num1","num2","link1","i1","link2","i2","link3","i3","link4","i4","ff","link5","i5","social","Social","Footer","pdf","totalItems","currentPage","onPageChange","totalPages","ceil","halfVisiblePages","maxVisiblePages","startPage","endPage","pageNumbers","_","handlePageChange","pageNumber","WaveLoading","criteria","DataPage","_data$data","_data$data2","setCurrentPage","crit","setCrit","loading","setLoading","setFilter","refresh","setRefresh","query","setQuery","isFixed","setIsFixed","srch","handleScroll","removeEventListener","q","v","required","MyDocument","total","updatedAt","Prompt","setReplyComment","ReplyComment","MessageID","jwt","getItem","decode","_props$currentUser","CommentID","commentID","Commentcontent","setReplies","viewReplies","replyComment","replies_url","setTotal","setInactive","inactive","today","dateTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","setTime","createdAt","CommentsSection","_data$data3","_data$data4","sNo","setSNo","instanceID","changed","Verification","update_url","SingleInstancePage","setPrompt","successMsg","setChanged","choice","setChoice","opts","BaseMapPreview","_props$currentUser2","comment","postComment","SingleCollection","pathName","AboutPage","about2Background","about1Background","Hero","currentImg","changeBackgroundImage","clearInterval","newCurrentImg","_this$state","_this$state2","urlString","ContactUsPage","decoded","now","exp","rfSubject","postMessage","Terms","PrivacyPolicy","MapCategory","PublicationsPage","_publications$result","_publications$result2","_publications$result3","publications","setPublications","innerWidth","StoryMap","firstPageBlob","setFirstPageBlob","fetchPdfFirstPage","page","viewport","canvasContext","pdfjs","getDocument","promise","getPage","scale","render","File","revokeObjectURL","_props$item","_props$item$Images","Images","StoryMapID","StoryMapPage","_data$Content","contentClass","dangerouslySetInnerHTML","__html","Accordion","arrow","setArrow","AccordionBody","file","description","FAQs","Question","Answer","App","Aos","init","useHistory","setPage","instancePage","setInstancePage","Page","Adress","pathDirectories","trackPageView","Router","Switch","Route","exact","path","StoryMapsPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.217054a1.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Vector from \"ol/layer/Vector\";\r\nimport { asArray } from \"ol/color\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport Text from \"ol/style/Text\";\r\nimport { useRef } from \"react\";\r\n\r\nexport default function MyStyler(props) {\r\n  const [active, setActive] = useState(\"Basic\");\r\n\r\n  const Item = (params) => {\r\n    return (\r\n      <p\r\n        onClick={() => {\r\n          params.setActive(params.name);\r\n        }}\r\n        className={params.active === params.name ? \"active\" : \"\"}\r\n      >\r\n        {params.name}\r\n      </p>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"bar\">\r\n        <Item name=\"Basic\" active={active} setActive={setActive} />\r\n        <Item name=\"Unique\" active={active} setActive={setActive} />\r\n        <Item name=\"Range\" active={active} setActive={setActive} />\r\n      </div>\r\n      {active === \"Basic\" && (\r\n        <BasicStyler\r\n          setStyleSelector={props.setStyleSelector}\r\n          map={props.map}\r\n          body={props.body}\r\n          setBody={props.setBody}\r\n        />\r\n      )}\r\n      {active === \"Unique\" && (\r\n        <UniqueStyler\r\n          setStyleSelector={props.setStyleSelector}\r\n          map={props.map}\r\n          body={props.body}\r\n          setBody={props.setBody}\r\n        />\r\n      )}\r\n      {active === \"Range\" && (\r\n        <RangeStyler\r\n          setStyleSelector={props.setStyleSelector}\r\n          map={props.map}\r\n          body={props.body}\r\n          setBody={props.setBody}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst BasicStyler = (props) => {\r\n  const opacity = [1, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0];\r\n  const width = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n  const font = [10, 12, 14, 16, 18, 20, 26, 30, 40];\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [lfont, setLFont] = useState(10);\r\n  const [lcolor, setLColor] = useState(\"#000000\");\r\n  const [label, setLabel] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [fill, setFill] = useState(\"#606060\");\r\n  const [fopacity, setFOpacity] = useState(1);\r\n  const [sfill, setSFill] = useState(\"#000000\");\r\n  const [swidth, setSWidth] = useState(1);\r\n  const [offsetX, setOffsetX] = useState(0);\r\n  const [offsetY, setOffsetY] = useState(12);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    let d = [];\r\n    props.map?.getAllLayers().map((item, i) => {\r\n      if (item instanceof Vector) {\r\n        d.push(item.get(\"title\"));\r\n      }\r\n    });\r\n    setLayrs(d);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (title != \"\") {\r\n      const i = props.body.Data?.map((e) => {\r\n        return e?.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (i != -1 && props.body.Data[i]?.style?.type === \"Basic\") {\r\n        const style = props.body.Data[i]?.style;\r\n        if (style.fill !== fill) {\r\n          setFill(style.fill);\r\n        }\r\n        if (style.opacity !== fopacity) {\r\n          setFOpacity(style.opacity);\r\n        }\r\n        if (style.stroke !== sfill) {\r\n          setSFill(style.stroke);\r\n        }\r\n        if (style.width !== swidth) {\r\n          setSWidth(style.width);\r\n        }\r\n        if (style.label !== label) {\r\n          setLabel(style.label);\r\n        }\r\n        if (style.lcolor !== lcolor) {\r\n          setLColor(style.lcolor);\r\n        }\r\n        if (style.lfont !== lfont) {\r\n          setLFont(style.lfont);\r\n        }\r\n        if (style.lcolumn !== lcolumn) {\r\n          setLColumn(style.lcolumn);\r\n        }\r\n        if (style.offsetX !== offsetX) {\r\n          setOffsetX(style.offsetX);\r\n        }\r\n        if (style.offsetY !== offsetY) {\r\n          setOffsetY(style.offsetY);\r\n        }\r\n      }\r\n    }\r\n  }, [title]);\r\n\r\n  function fillStyle(title, color, opacity, scolor, width) {\r\n    if (props?.map?.getAllLayers()?.length > 1) {\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          var colorArray = asArray(color ? color : fill).slice();\r\n          colorArray[3] = opacity ? opacity : fopacity;\r\n\r\n          item.setStyle((feature, resolution) => {\r\n            if (label && lcolumn !== \"\") {\r\n              let txt =\r\n                feature.values_[lcolumn] == undefined\r\n                  ? \"\"\r\n                  : feature.values_[lcolumn];\r\n              return new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: colorArray,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: scolor ? scolor : sfill,\r\n                    width: width ? width : swidth,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: sfill,\r\n                  width: swidth,\r\n                }),\r\n                text: new Text({\r\n                  text: txt.toString(),\r\n                  font: `${lfont}px sans-serif`,\r\n                  fill: new Fill({\r\n                    color: lcolor,\r\n                  }),\r\n                  offsetX: offsetX ? offsetX : 0,\r\n                  offsetY: offsetY ? offsetY : 0,\r\n                }),\r\n              });\r\n            } else {\r\n              return new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: colorArray,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: scolor ? scolor : sfill,\r\n                    width: width ? width : swidth,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: scolor ? scolor : sfill,\r\n                  width: width ? width : swidth,\r\n                }),\r\n              });\r\n            }\r\n          });\r\n\r\n          let d = props.body;\r\n          const i = d.Data?.map((e) => {\r\n            return e?.url.split(\":\")[1];\r\n          }).indexOf(title);\r\n          if (i != -1) {\r\n            d.Data[i].style = {\r\n              type: \"Basic\",\r\n              fill: fill,\r\n              opacity: fopacity,\r\n              stroke: sfill,\r\n              width: swidth,\r\n              label: label,\r\n              lcolor: lcolor,\r\n              lfont: lfont,\r\n              lcolumn: lcolumn,\r\n              offsetX: offsetX,\r\n              offsetY: offsetY,\r\n            };\r\n          }\r\n          props.setBody(d);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item?.getSource()?.getFeatures();\r\n          if (features && features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fillStyle(title, null, null, null, null);\r\n  }, [label, lcolumn, lcolor, lfont, offsetX, offsetY]);\r\n\r\n  return (\r\n    <div className=\"basic_styler\">\r\n      <h3>Select Layer</h3>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-map\"></i>\r\n        <select\r\n          onChange={(e) => {\r\n            populateColumns(e.target.value);\r\n            setTitle(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Layer\">Select Layer</option>\r\n          {layrs.length > 0 &&\r\n            layrs.map((item, i) => {\r\n              return (\r\n                <option key={i} value={item}>\r\n                  {item}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n      <h3>Style</h3>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"color\"\r\n          value={fill}\r\n          onChange={(e) => {\r\n            setFill(e.target.value);\r\n            fillStyle(title, e.target.value, null);\r\n          }}\r\n        />\r\n        <p>Fill color</p>\r\n        <p>Opacity</p>\r\n        <select\r\n          onChange={(e) => {\r\n            setFOpacity(e.target.value);\r\n            fillStyle(title, null, e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          {opacity.map((item, i) => {\r\n            return (\r\n              <option key={i} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"color\"\r\n          value={sfill}\r\n          onChange={(e) => {\r\n            setSFill(e.target.value);\r\n            fillStyle(title, null, null, e.target.value, null);\r\n          }}\r\n        />\r\n        <p>Stroke color</p>\r\n        <p>Width</p>\r\n        <select\r\n          value={swidth}\r\n          onChange={(e) => {\r\n            setSWidth(e.target.value);\r\n            fillStyle(title, null, null, null, e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          {width.map((item, i) => {\r\n            return (\r\n              <option key={i} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n      <h3>Label</h3>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <input\r\n          onChange={(e) => {\r\n            setLabel(!label);\r\n          }}\r\n          checked={label}\r\n          type=\"checkbox\"\r\n          name=\"\"\r\n          id=\"\"\r\n        />\r\n        <select\r\n          value={lcolumn}\r\n          onChange={(e) => {\r\n            setLColumn(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Column\">Select Column</option>\r\n          {columns.length > 0 &&\r\n            columns.map((item, i) => {\r\n              return (\r\n                <option key={i} value={item}>\r\n                  {item}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n        <select\r\n          value={lfont}\r\n          onChange={(e) => {\r\n            setLFont(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          {font.map((item, i) => {\r\n            return (\r\n              <option key={i} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"color\"\r\n          value={lcolor}\r\n          onChange={(e) => {\r\n            setLColor(e.target.value);\r\n          }}\r\n        />\r\n        <p>Label color</p>\r\n      </div>\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"number\"\r\n          value={offsetX}\r\n          onChange={(e) => {\r\n            setOffsetX(e.target.value);\r\n          }}\r\n        />\r\n        <p>Offset X</p>\r\n      </div>\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"number\"\r\n          value={offsetY}\r\n          onChange={(e) => {\r\n            setOffsetY(e.target.value);\r\n          }}\r\n        />\r\n        <p>Offset Y</p>\r\n      </div>\r\n      <i\r\n        onClick={() => {\r\n          props.setStyleSelector(null);\r\n        }}\r\n        className=\"fa fa-close\"\r\n      >\r\n        &#xf00d;\r\n      </i>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UniqueStyler = (props) => {\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [classes, setClasses] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let d = [];\r\n    props.map?.getAllLayers().map((item, i) => {\r\n      if (item instanceof Vector) {\r\n        d.push(item.get(\"title\"));\r\n      }\r\n    });\r\n    setLayrs(d);\r\n  }, []);\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item?.getSource()?.getFeatures();\r\n          if (features && features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const ix = props.map\r\n      ?.getAllLayers()\r\n      .map((element) => {\r\n        return element.get(\"title\");\r\n      })\r\n      .indexOf(title);\r\n    setlayerIndex(ix);\r\n\r\n    if (ix !== -1) {\r\n      const features = props.map?.getAllLayers()[ix].getSource().getFeatures();\r\n      if (features.length > 0) {\r\n        setColumns(Object.keys(features[0].values_));\r\n      }\r\n    }\r\n\r\n    const i = props.body.Data?.map((e) => {\r\n      return e?.url.split(\":\")[1];\r\n    }).indexOf(title);\r\n    if (i != -1 && props.body.Data[i]?.style?.type === \"Unique\") {\r\n      const style = props.body.Data[i]?.style;\r\n      setLColumn(style.column);\r\n    }\r\n  }, [title]);\r\n\r\n  useEffect(() => {\r\n    if (layerIndex !== -1) {\r\n      let d = props.body;\r\n      const i = d.Data?.map((e) => {\r\n        return e?.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (i != -1) {\r\n        d.Data[i].style = {\r\n          type: \"Unique\",\r\n          classes: classes,\r\n          column: lcolumn,\r\n        };\r\n        props.setBody(d);\r\n      }\r\n    }\r\n  }, [classes]);\r\n\r\n  useEffect(() => {\r\n    clearStyle(title);\r\n    if (layerIndex != -1 && lcolumn != \"geometry\" && lcolumn != \"too_many\") {\r\n      const i = props.body.Data?.map((e) => {\r\n        return e?.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n\r\n      if (\r\n        i !== -1 &&\r\n        props.body.Data[i]?.style?.type === \"Unique\" &&\r\n        props.body.Data[i]?.style?.classes?.length > 0\r\n      ) {\r\n        setClasses(props.body.Data[i]?.style?.classes);\r\n        return;\r\n      } else {\r\n        const features = props?.map\r\n          ?.getAllLayers()\r\n          [layerIndex].getSource()\r\n          .getFeatures();\r\n        let values = [];\r\n        features.forEach((element) => {\r\n          values.push(element.values_[lcolumn]);\r\n        });\r\n        let unique = new Set(values);\r\n        const arr = Array.from(unique);\r\n\r\n        if (arr.length < 21) {\r\n          let cls = [];\r\n          arr.map((i) => {\r\n            let count = 0;\r\n            features.forEach((element) => {\r\n              if (element.values_[lcolumn] === i) {\r\n                count++;\r\n              }\r\n            });\r\n\r\n            cls.push({ name: i, color: getRandomColor(), count: count });\r\n          });\r\n          setClasses(cls);\r\n\r\n          if (i != -1) {\r\n            let d = props.body;\r\n            d.Data[i].style.type = \"Unique\";\r\n            d.Data[i].style.column = lcolumn;\r\n            d.Data[i].style.classes = cls;\r\n            props.setBody(d);\r\n          }\r\n        } else {\r\n          setClasses([]);\r\n          setLColumn(\"Max classes: 20\");\r\n        }\r\n      }\r\n    }\r\n  }, [lcolumn]);\r\n\r\n  const getRandomColor = () => {\r\n    var letters = \"0123456789ABCDEF\";\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  };\r\n\r\n  function clearStyle(title) {\r\n    if (props?.map?.getAllLayers()?.length > 1) {\r\n      props.map?.getAllLayers().map((item) => {\r\n        if (item.get(\"title\") === title) {\r\n          item\r\n            .getSource()\r\n            .getFeatures()\r\n            .map((fitem) => {\r\n              fitem.setStyle((feature, resolution) => {\r\n                return new Style({\r\n                  image: new Circle({\r\n                    radius: 6,\r\n                    fill: new Fill({\r\n                      color: \"#F0A04B\",\r\n                    }),\r\n                    stroke: new Stroke({\r\n                      color: \"#3A98B9\",\r\n                      width: 1,\r\n                    }),\r\n                  }),\r\n                  fill: new Fill({\r\n                    color: \"#F0A04B\",\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: \"#3A98B9\",\r\n                    width: 1,\r\n                  }),\r\n                });\r\n              });\r\n            });\r\n\r\n          const i = props.body.Data?.map((e) => {\r\n            return e?.url.split(\":\")[1];\r\n          }).indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            let d = props.body;\r\n            d.Data[i].style = {\r\n              type: \"Basic\",\r\n              fill: \"#F0A04B\",\r\n              stroke: \"#3A98B9\",\r\n              width: 1,\r\n            };\r\n            props.setBody(d);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  const Theme = (params) => {\r\n    const [color, setColor] = useState(params.item.color);\r\n\r\n    useEffect(() => {\r\n      if (lcolumn != \"\") {\r\n        const i = params.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(params.item.name);\r\n        if (i !== -1) {\r\n          let d = params.classes;\r\n          d[i].color = color;\r\n          params.setClasses(d);\r\n        }\r\n        props.map\r\n          ?.getAllLayers()\r\n          [layerIndex].getSource()\r\n          .getFeatures()\r\n          .map((item) => {\r\n            if (\r\n              lcolumn != \"geometry\" &&\r\n              item.values_[lcolumn] === params.item.name\r\n            ) {\r\n              item.setStyle(\r\n                new Style({\r\n                  image: new Circle({\r\n                    radius: 6,\r\n                    fill: new Fill({\r\n                      color: color,\r\n                    }),\r\n                    stroke: new Stroke({\r\n                      color: color,\r\n                      width: 1,\r\n                    }),\r\n                  }),\r\n                  fill: new Fill({\r\n                    color: color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: color,\r\n                    width: 1,\r\n                  }),\r\n                })\r\n              );\r\n            }\r\n          });\r\n      }\r\n    }, [color]);\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"color\"\r\n          value={color}\r\n          onChange={(e) => {\r\n            setColor(e.target.value);\r\n          }}\r\n        />\r\n        <p>{params.item.name}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"basic_styler\">\r\n      <h3>Select Layer</h3>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-map\"></i>\r\n        <select\r\n          onChange={(e) => {\r\n            populateColumns(e.target.value);\r\n            setTitle(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Layer\">Select Layer</option>\r\n          {layrs.length > 0 &&\r\n            layrs.map((item, i) => {\r\n              return (\r\n                <option key={i} value={item}>\r\n                  {item}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n      <h3>Select Column</h3>\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-bars\"></i>\r\n        <select\r\n          value={lcolumn}\r\n          onChange={(e) => {\r\n            setLColumn(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Column\">Select Column</option>\r\n          {columns.length > 0 &&\r\n            columns.map((item, i) => {\r\n              if (item !== \"geometry\") {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              }\r\n            })}\r\n        </select>\r\n      </div>\r\n      <hr />\r\n      <h3>Classes</h3>\r\n      <div className=\"classes\">\r\n        {classes.length > 0 &&\r\n          classes.map((item, i) => {\r\n            return (\r\n              <Theme\r\n                key={i}\r\n                item={item}\r\n                classes={classes}\r\n                setClasses={setClasses}\r\n              />\r\n            );\r\n          })}\r\n        {lcolumn === \"geometry\" && <p>This column is not supported</p>}\r\n        {lcolumn === \"too_many\" && <p>Classes exceed the maximum (100)</p>}\r\n      </div>\r\n      <i\r\n        onClick={() => {\r\n          props.setStyleSelector(null);\r\n        }}\r\n        className=\"fa fa-close\"\r\n      >\r\n        &#xf00d;\r\n      </i>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst RangeStyler = (props) => {\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [classes, setClasses] = useState([]);\r\n  const [extents, setExtents] = useState([]);\r\n  const [isNumeric, setIsNumeric] = useState(false);\r\n  const [classification, setClassification] = useState(\"Select Classification\");\r\n  const [rangeOPopup, setRangePopup] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let d = [];\r\n    props.map?.getAllLayers().map((item, i) => {\r\n      if (item instanceof Vector) {\r\n        d.push(item.get(\"title\"));\r\n      }\r\n    });\r\n    setLayrs(d);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (title != \"\") {\r\n      const ix = props.map\r\n        ?.getAllLayers()\r\n        .map((element) => {\r\n          return element.get(\"title\");\r\n        })\r\n        .indexOf(title);\r\n      setlayerIndex(ix);\r\n\r\n      if (ix != -1) {\r\n        const features = props.map\r\n          ?.getAllLayers()\r\n          [ix].getSource()\r\n          .getFeatures();\r\n        if (features?.length > 0) {\r\n          setColumns(Object.keys(features[0].values_));\r\n        }\r\n      }\r\n\r\n      const i = props.body.Data?.map((e) => {\r\n        return e?.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (i != -1 && props.body.Data[i]?.style?.type === \"Range\") {\r\n        const style = props.body.Data[i]?.style;\r\n        setLColumn(style.column);\r\n        setClassification(style.classification);\r\n      }\r\n    }\r\n  }, [title]);\r\n\r\n  useEffect(() => {\r\n    if (layerIndex !== -1) {\r\n      let d = props.body;\r\n      const i = d.Data?.map((e) => {\r\n        return e?.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (i != -1) {\r\n        d.Data[i].style = {\r\n          type: \"Range\",\r\n          classes: classes,\r\n          column: lcolumn,\r\n          classification: classification,\r\n        };\r\n        props.setBody(d);\r\n      }\r\n    }\r\n  }, [classes]);\r\n\r\n  function clearStyle(title) {\r\n    if (props?.map?.getAllLayers()?.length > 1) {\r\n      props.map?.getAllLayers().map((item) => {\r\n        if (item.get(\"title\") === title) {\r\n          item\r\n            .getSource()\r\n            .getFeatures()\r\n            .map((fitem) => {\r\n              fitem.setStyle((feature, resolution) => {\r\n                return new Style({\r\n                  image: new Circle({\r\n                    radius: 6,\r\n                    fill: new Fill({\r\n                      color: \"#F0A04B\",\r\n                    }),\r\n                    stroke: new Stroke({\r\n                      color: \"#3A98B9\",\r\n                      width: 1,\r\n                    }),\r\n                  }),\r\n                  fill: new Fill({\r\n                    color: \"#F0A04B\",\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: \"#3A98B9\",\r\n                    width: 1,\r\n                  }),\r\n                });\r\n              });\r\n            });\r\n\r\n          const i = props.body.Data?.map((e) => {\r\n            return e?.url.split(\":\")[1];\r\n          }).indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            let d = props.body;\r\n            d.Data[i].style = {\r\n              type: \"Basic\",\r\n              fill: \"#F0A04B\",\r\n              stroke: \"#3A98B9\",\r\n              width: 1,\r\n            };\r\n            props.setBody(d);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item?.getSource()?.getFeatures();\r\n          if (features && features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (layerIndex != -1 && lcolumn != \"geometry\" && lcolumn != \"too_many\") {\r\n      const features = props?.map\r\n        ?.getAllLayers()\r\n        [layerIndex].getSource()\r\n        .getFeatures();\r\n\r\n      let values = [];\r\n      features.forEach((element) => {\r\n        values.push(element.values_[lcolumn]);\r\n      });\r\n\r\n      setIsNumeric(values.some(isNaN));\r\n      setClasses([]);\r\n      if (values.some(isNaN)) return;\r\n\r\n      let min = arrayMin(values);\r\n      let max = arrayMax(values);\r\n      setExtents([min, max]);\r\n    }\r\n  }, [lcolumn]);\r\n\r\n  useEffect(() => {\r\n    const i = props.body.Data?.map((e) => {\r\n      return e?.url.split(\":\")[1];\r\n    }).indexOf(title);\r\n\r\n    if (classification === \"Equal Interval\") {\r\n      if (\r\n        i !== -1 &&\r\n        props.body.Data[i]?.style?.type === \"Range\" &&\r\n        props.body.Data[i]?.style?.classes?.length > 0\r\n      ) {\r\n        setClasses(props.body.Data[i]?.style?.classes);\r\n        return;\r\n      } else {\r\n        let range = extents[1] - extents[0];\r\n        let classes = 5;\r\n        let interval = range / classes;\r\n        let cls = [];\r\n\r\n        const features = props?.map\r\n          ?.getAllLayers()\r\n          [layerIndex].getSource()\r\n          .getFeatures();\r\n\r\n        for (let i = 1; i < classes + 1; i++) {\r\n          let lower = extents[0] + interval * (i - 1);\r\n          let upper = extents[0] + interval * i;\r\n          let count = 0;\r\n          features.forEach((element) => {\r\n        \r\n            if (\r\n              element.values_[lcolumn] >= lower &&\r\n              element.values_[lcolumn] <= upper\r\n            ) {\r\n              count++;\r\n            }\r\n          });\r\n\r\n          cls.push({\r\n            name: `${withCommas(Number(lower).toFixed(2))} - ${withCommas(\r\n              Number(upper).toFixed(2)\r\n            )}`,\r\n            color: getRandomColor(),\r\n            min: Number(lower).toFixed(2),\r\n            max: Number(upper).toFixed(2),\r\n            count: count,\r\n          });\r\n        }\r\n        setClasses(cls);\r\n\r\n        if (i != -1) {\r\n          let d = props.body;\r\n          d.Data[i].style.type = \"Range\";\r\n          d.Data[i].style.column = lcolumn;\r\n          d.Data[i].style.classes = cls;\r\n          d.Data[i].style.classification = classification;\r\n          props.setBody(d);\r\n        }\r\n      }\r\n    } else if (classification === \"Custom Interval\") {\r\n      if (\r\n        i !== -1 &&\r\n        props.body.Data[i]?.style?.type === \"Range\" &&\r\n        props.body.Data[i]?.style?.classes?.length > 0\r\n      ) {\r\n        setClasses(props.body.Data[i]?.style?.classes);\r\n        return;\r\n      }\r\n    } else {\r\n      setClasses([]);\r\n      clearStyle(title);\r\n    }\r\n  }, [classification]);\r\n\r\n  function addRange(name, min, max) {\r\n    let cls = classes;\r\n    cls.push({\r\n      name: name,\r\n      color: getRandomColor(),\r\n      min: min,\r\n      max: max,\r\n    });\r\n    setClasses(cls);\r\n    const i = props.body.Data?.map((e) => {\r\n      return e?.url.split(\":\")[1];\r\n    }).indexOf(title);\r\n    if (i != -1) {\r\n      let d = props.body;\r\n      d.Data[i].style.type = \"Range\";\r\n      d.Data[i].style.column = lcolumn;\r\n      d.Data[i].style.classes = cls;\r\n      d.Data[i].style.classification = classification;\r\n      props.setBody(d);\r\n    }\r\n  }\r\n\r\n  function removeClass() {\r\n    setClasses([]);\r\n    clearStyle(title);\r\n  }\r\n\r\n  const getRandomColor = () => {\r\n    var letters = \"0123456789ABCDEF\";\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  };\r\n  function withCommas(x) {\r\n    return x?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n  function arrayMin(arr) {\r\n    var len = arr.length,\r\n      min = Infinity;\r\n    while (len--) {\r\n      if (Number(arr[len]) < min) {\r\n        min = Number(arr[len]);\r\n      }\r\n    }\r\n    return min;\r\n  }\r\n\r\n  function arrayMax(arr) {\r\n    var len = arr.length,\r\n      max = -Infinity;\r\n    while (len--) {\r\n      if (Number(arr[len]) > max) {\r\n        max = Number(arr[len]);\r\n      }\r\n    }\r\n    return max;\r\n  }\r\n\r\n  const Theme = (params) => {\r\n    const [color, setColor] = useState(params.item.color);\r\n\r\n    useEffect(() => {\r\n      if (lcolumn != \"\" && layerIndex !== -1) {\r\n        const i = params.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(params.item.name);\r\n        if (i !== -1) {\r\n          let d = params.classes;\r\n          d[i].color = color;\r\n          params.setClasses(d);\r\n        }\r\n        props.map\r\n          ?.getAllLayers()\r\n          [layerIndex].getSource()\r\n          .getFeatures()\r\n          .map((item) => {\r\n            if (\r\n              Number(item.values_[lcolumn]) >= params.item.min &&\r\n              Number(item.values_[lcolumn]) < params.item.max\r\n            ) {\r\n              item.setStyle(\r\n                new Style({\r\n                  image: new Circle({\r\n                    radius: 6,\r\n                    fill: new Fill({\r\n                      color: color,\r\n                    }),\r\n                    stroke: new Stroke({\r\n                      color: color,\r\n                      width: 1,\r\n                    }),\r\n                  }),\r\n                  fill: new Fill({\r\n                    color: color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: color,\r\n                    width: 1,\r\n                  }),\r\n                })\r\n              );\r\n            }\r\n          });\r\n      }\r\n    }, [color]);\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <input\r\n          type=\"color\"\r\n          value={color}\r\n          onChange={(e) => {\r\n            setColor(e.target.value);\r\n          }}\r\n        />\r\n        <p>{params.item.name}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const RangePopup = (params) => {\r\n    const name = useRef();\r\n    const min = useRef();\r\n    const max = useRef();\r\n\r\n    return (\r\n      <div className=\"range_popup\">\r\n        <div className=\"container\">\r\n          <h3>Range</h3>\r\n          <hr />\r\n          <div className=\"div2equal\">\r\n            <p>\r\n              Min: <b>{params.extents[0]}</b>\r\n            </p>\r\n            <p>\r\n              Max: <b>{params.extents[1]}</b>\r\n            </p>\r\n          </div>\r\n          <hr />\r\n          <div className=\"columns\">\r\n            <p>Name</p>\r\n            <p>Min</p>\r\n            <p>Max</p>\r\n          </div>\r\n          <div className=\"columns\">\r\n            <input ref={name} type=\"text\" />\r\n            <input ref={min} type=\"number\" />\r\n            <input ref={max} type=\"number\" />\r\n          </div>\r\n          <button\r\n            onClick={() => {\r\n              if (\r\n                name.current.value != \"\" &&\r\n                min.current.value != \"\" &&\r\n                max.current.value != \"\"\r\n              ) {\r\n                params.addRange(\r\n                  name.current.value,\r\n                  min.current.value,\r\n                  max.current.value\r\n                );\r\n                setRangePopup(null);\r\n              }\r\n            }}\r\n          >\r\n            <i className=\"fa fa-check \"></i>\r\n          </button>\r\n          <i\r\n            onClick={() => {\r\n              setRangePopup(null);\r\n            }}\r\n            className=\"fa fa-close\"\r\n          >\r\n            &#xf00d;\r\n          </i>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"basic_styler\">\r\n      <h3>Select Layer</h3>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-map\"></i>\r\n        <select\r\n          onChange={(e) => {\r\n            populateColumns(e.target.value);\r\n            setTitle(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Layer\">Select Layer</option>\r\n          {layrs.length > 0 &&\r\n            layrs.map((item, i) => {\r\n              return (\r\n                <option key={i} value={item}>\r\n                  {item}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n      <h3>Select Column</h3>\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-bars\"></i>\r\n        <select\r\n          value={lcolumn}\r\n          onChange={(e) => {\r\n            setLColumn(e.target.value);\r\n            setClasses([]);\r\n            clearStyle(title);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Column\">Select Column</option>\r\n          {columns.length > 0 &&\r\n            columns.map((item, i) => {\r\n              if (item !== \"geometry\") {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              }\r\n            })}\r\n        </select>\r\n      </div>\r\n      <h3>Select Classification</h3>\r\n      <div className=\"row\">\r\n        <i className=\"fa fa-pie-chart\">&#xf200;</i>\r\n        <select\r\n          value={classification}\r\n          onChange={(e) => {\r\n            setClassification(e.target.value);\r\n          }}\r\n          name=\"\"\r\n          id=\"\"\r\n        >\r\n          <option value=\"Select Classification<\">Select Classification</option>\r\n          <option value=\"Equal Interval\">Equal Interval</option>\r\n          <option value=\"Custom Interval\">Custom Interval</option>\r\n        </select>\r\n      </div>\r\n      <hr />\r\n      <h3>Classes</h3>\r\n      <div className=\"classes\">\r\n        {classification === \"Custom Interval\" && (\r\n          <>\r\n            <div className=\"buttons\">\r\n              <i\r\n                onClick={() => {\r\n                  if (lcolumn !== \"\") {\r\n                    setRangePopup(true);\r\n                  }\r\n                }}\r\n                className=\"fa fa-plus-square\"\r\n              ></i>\r\n              <i\r\n                onClick={() => {\r\n                  removeClass();\r\n                }}\r\n                className=\"fa fa-minus-square\"\r\n              ></i>\r\n            </div>\r\n          </>\r\n        )}\r\n        {classes &&\r\n          classes.length > 0 &&\r\n          classes.map((item, i) => {\r\n            return (\r\n              <Theme\r\n                key={i}\r\n                item={item}\r\n                classes={classes}\r\n                setClasses={setClasses}\r\n              />\r\n            );\r\n          })}\r\n\r\n        {isNumeric && title != \"\" && lcolumn != \"\" && (\r\n          <p>No numeric values detected in this column</p>\r\n        )}\r\n      </div>\r\n      {rangeOPopup && extents.length > 1 && (\r\n        <RangePopup extents={extents} addRange={addRange} />\r\n      )}\r\n      <i\r\n        onClick={() => {\r\n          props.setStyleSelector(null);\r\n        }}\r\n        className=\"fa fa-close\"\r\n      >\r\n        &#xf00d;\r\n      </i>\r\n    </div>\r\n  );\r\n};\r\n","const getBasemaps = [\r\n  {\r\n    name: \"OpenStreetMap\",\r\n    attribution:\r\n      '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n    url: \"https://tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n  },\r\n  //Not working\r\n  // {\r\n  //   name: \"OpenTopoMap\",\r\n  //   attribution:\r\n  //     'Map data: &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)',\r\n  //   url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\r\n  // },\r\n  // {\r\n  //   name: \"Stadia.AlidadeSmoothDark\",\r\n  //   attribution:\r\n  //     '&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\r\n  //   url: \"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png\",\r\n  // },\r\n  // {\r\n  //   name: \"TopoMap\",\r\n  //   attribution:\r\n  //     \"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012\",\r\n  //   url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}\",\r\n  // },\r\n  {\r\n    name: \"TopoMap\",\r\n    attribution:\r\n      \"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012\",\r\n    url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}\",\r\n  },\r\n  {\r\n    name: \"Imagery\",\r\n    attribution:\r\n      \"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\",\r\n    url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n  },\r\n];\r\n\r\nexport default getBasemaps;\r\n","import { useEffect, useState } from \"react\";\r\nimport ButtonMain from \"../../Utils/ButtonMain\";\r\nimport $ from \"jquery\";\r\nimport Select from \"../../Utils/SelectMain\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport TileWMS from \"ol/source/TileWMS\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { get as getProjection } from \"ol/proj.js\";\r\nimport { getTopLeft, getWidth } from \"ol/extent.js\";\r\nimport proj4 from \"proj4\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport { RegularShape } from \"ol/style.js\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\n\r\nexport default function Data(props) {\r\n  var XMLParser = require(\"react-xml-parser\");\r\n  const parser = new WMTSCapabilities();\r\n  const [workspaces, setWorkspaces] = useState([]);\r\n  const [layers, setLayers] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [selectedLayer, setSelectedLayer] = useState(null);\r\n  const projection = getProjection(\"EPSG:900913\");\r\n  const projectionExtent = projection.getExtent();\r\n  const size = getWidth(projectionExtent) / 256;\r\n  const resolutions = new Array(14);\r\n  const matrixIds = new Array(14);\r\n  for (let z = 0; z < 14; ++z) {\r\n    resolutions[z] = size / Math.pow(2, z + 1);\r\n    matrixIds[z] = \"EPSG:900913:\" + z;\r\n  }\r\n\r\n  let dataType = \"\";\r\n  let headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n  useEffect(() => {\r\n    fetch(\"/geoserver/rest/workspaces\", {\r\n      credentials: \"include\",\r\n      headers: headers,\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.workspaces.workspace.length > 0) {\r\n          let list = [];\r\n          data.workspaces.workspace.forEach((item) => {\r\n            list.push(item.name);\r\n          });\r\n          setWorkspaces(list);\r\n          setSelected(list[0]);\r\n        }\r\n      })\r\n      .catch((e) => {});\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      fetch(`/geoserver/rest/workspaces/${selected}/layers`, {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.layers !== \"\" && data.layers.layer.length > 0) {\r\n            let list = [];\r\n            data.layers.layer.forEach((item) => {\r\n              list.push(item.name);\r\n            });\r\n            setLayers(list);\r\n            setData(data.layers.layer);\r\n            setSelectedLayer(list[0]);\r\n          }\r\n        })\r\n        .catch((e) => {});\r\n    }\r\n  }, [selected]);\r\n\r\n  async function addToMap(workspace, layer) {\r\n    if (workspace === null && layer === null) return;\r\n\r\n    const i = data\r\n      .map((e) => {\r\n        return e.name;\r\n      })\r\n      .indexOf(layer);\r\n\r\n    if (i !== -1) {\r\n      props.setIsLoading(true);\r\n      try {\r\n        const dt = await fetch(\r\n          data[i].href\r\n            .replace(\"http://geoserver:8080\", \"\")\r\n            .replaceAll(\"+\", \" \"),\r\n          {\r\n            credentials: \"include\",\r\n            headers: headers,\r\n          }\r\n        ).then((res) => {\r\n          if (res.ok) return res.json();\r\n        });\r\n        dataType = dt.layer.type;\r\n        if (dataType === \"RASTER\") {\r\n          let cls = [];\r\n          try {\r\n            const style = await fetch(`${dt.layer.defaultStyle.href}`, {\r\n              credentials: \"include\",\r\n              headers: headers,\r\n            }).then((res) => {\r\n              if (res.ok) return res.json();\r\n            });\r\n\r\n            const xml = await fetch(\r\n              `/geoserver/rest/workspaces/${workspace}/styles/${style.style.name}.sld`,\r\n              {\r\n                credentials: \"include\",\r\n                headers: headers,\r\n              }\r\n            ).then((res) => {\r\n              if (res.ok) return res.text();\r\n            });\r\n            const txt = new XMLParser().parseFromString(xml);\r\n            var symbolizer = findNested(txt, \"name\", \"ChannelSelection\");\r\n\r\n            if (symbolizer != undefined) {\r\n              symbolizer.children.map((i) => {\r\n                const n = findNested(i, \"name\", \"SourceChannelName\");\r\n                cls.push({\r\n                  name: \"Band \" + n.value,\r\n                  color: i.name.replace(\"Channel\", \"\").toLowerCase(),\r\n                  count: 1,\r\n                });\r\n             \r\n              });\r\n            \r\n            }\r\n          } catch (error) {\r\n            try {\r\n              const style = await fetch(`${dt.layer.defaultStyle.href}`, {\r\n                credentials: \"include\",\r\n                headers: headers,\r\n              }).then((res) => {\r\n                if (res.ok) return res.json();\r\n              });\r\n\r\n              const xml = await fetch(\r\n                `/geoserver/rest/styles/${style.style.name}.sld`,\r\n                {\r\n                  credentials: \"include\",\r\n                  headers: headers,\r\n                }\r\n              ).then((res) => {\r\n                if (res.ok) return res.text();\r\n              });\r\n              const txt = new XMLParser().parseFromString(xml);\r\n              var symbolizer = findNested(txt, \"name\", \"ChannelSelection\");\r\n\r\n              if (symbolizer != undefined) {\r\n                symbolizer.children.map((i) => {\r\n                  const n = findNested(i, \"name\", \"SourceChannelName\");\r\n                  cls.push({\r\n                    name: \"Band \" + n.value,\r\n                    color: i.name.replace(\"Channel\", \"\").toLowerCase(),\r\n                    count: 1,\r\n                  });\r\n               \r\n                });\r\n               \r\n              }\r\n            } catch (error) {}\r\n          }\r\n\r\n          fetch(\r\n            encodeURI(\r\n              `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n            ),\r\n            {\r\n              method: \"get\",\r\n              credentials: \"include\",\r\n            }\r\n          )\r\n            .then((res) => {\r\n              if (!res.ok) {\r\n                throw Error(\"Could not fetch messages!!!\");\r\n              }\r\n              return res.text();\r\n            })\r\n            .then((text) => {\r\n              const result = parser.read(text);\r\n              const options = optionsFromCapabilities(result, {\r\n                layer: `${workspace}:${layer}`,\r\n                matrixSet: \"EPSG:900913\",\r\n              });\r\n\r\n              const pic = new TileLayer({\r\n                title: layer,\r\n                opacity: 1,\r\n                source: new WMTS(options),\r\n              });\r\n              props.map.addLayer(pic);\r\n              props.map.getView().fit(options.tileGrid.getExtent(), {\r\n                padding: [100, 100, 100, 100],\r\n              });\r\n              let d = props.body;\r\n              d.Data.push({\r\n                url: `${workspace}:${layer}`,\r\n                style: {\r\n                  type: \"Unique\",\r\n                  classes: cls,\r\n                },\r\n              });\r\n              props.setBody(d);\r\n              props.setIsLoading(false);\r\n            })\r\n            .catch((e) => {});\r\n        } else if (dataType === \"VECTOR\") {\r\n          let shape;\r\n          let radius;\r\n          let fill;\r\n          let stroke;\r\n          try {\r\n            const style = await fetch(`${dt.layer.defaultStyle.href}`, {\r\n              credentials: \"include\",\r\n              headers: headers,\r\n            }).then((res) => {\r\n              if (res.ok) return res.json();\r\n            });\r\n\r\n            let xml;\r\n\r\n            try {\r\n              xml = await fetch(\r\n                `/geoserver/rest/styles/${style.style.name}.sld`,\r\n                {\r\n                  credentials: \"include\",\r\n                  headers: headers,\r\n                }\r\n              ).then((res) => {\r\n            \r\n                if (res.ok) return res.text();\r\n              });\r\n\r\n              const txt = new XMLParser().parseFromString(xml);\r\n              const rule = findNested(txt, \"name\", \"Rule\");\r\n\r\n              var symbolizer = findNested(rule, \"name\", \"PointSymbolizer\");\r\n              if (symbolizer == undefined) {\r\n                symbolizer = findNested(rule, \"name\", \"LineSymbolizer\");\r\n                if (symbolizer == undefined) {\r\n                  symbolizer = findNested(rule, \"name\", \"PolygonSymbolizer\");\r\n                }\r\n              }\r\n\r\n              shape = findNested(rule, \"name\", \"WellKnownName\")?.value;\r\n              radius = findNested(rule, \"name\", \"Size\")?.value;\r\n              const fillObj = findNested(rule, \"name\", \"Fill\");\r\n              if (fillObj != undefined)\r\n                fill = findNested(fillObj, \"name\", \"CssParameter\")?.value;\r\n              const strokeObj = findNested(rule, \"name\", \"Stroke\");\r\n              if (strokeObj != undefined)\r\n                stroke = findNested(strokeObj, \"name\", \"CssParameter\")?.value;\r\n            } catch (error) {\r\n              try {\r\n                xml = await fetch(\r\n                  `/geoserver/rest/workspaces/${workspace}/styles/${style.style.name}.sld`,\r\n                  {\r\n                    credentials: \"include\",\r\n                    headers: headers,\r\n                  }\r\n                ).then((res) => {\r\n            \r\n                  if (res.ok) return res.text();\r\n                });\r\n\r\n                const txt = new XMLParser().parseFromString(xml);\r\n                const rule = findNested(txt, \"name\", \"Rule\");\r\n                var symbolizer = findNested(rule, \"name\", \"PointSymbolizer\");\r\n                if (symbolizer == undefined) {\r\n                  symbolizer = findNested(rule, \"name\", \"LineSymbolizer\");\r\n                  if (symbolizer == undefined) {\r\n                    symbolizer = findNested(rule, \"name\", \"PolygonSymbolizer\");\r\n                  }\r\n                }\r\n\r\n                shape = findNested(rule, \"name\", \"WellKnownName\")?.value;\r\n                radius = findNested(rule, \"name\", \"Size\")?.value;\r\n                const fillObj = findNested(rule, \"name\", \"Fill\");\r\n                if (fillObj != undefined)\r\n                  fill = findNested(fillObj, \"name\", \"CssParameter\")?.value;\r\n                const strokeObj = findNested(rule, \"name\", \"Stroke\");\r\n                if (strokeObj != undefined)\r\n                  stroke = findNested(strokeObj, \"name\", \"CssParameter\")?.value;\r\n              } catch (error) {}\r\n            }\r\n          } catch (error) {}\r\n\r\n          var response = $.ajax({\r\n            url: encodeURI(getUrl(workspace, layer)),\r\n            dataType: \"json\",\r\n            success: {},\r\n            error: function (xhr) {\r\n              props.setIsLoading(false);\r\n            },\r\n          });\r\n          $.when(response).done(function (data) {\r\n            props.setIsLoading(false);\r\n            if (data.features.length !== 0) {\r\n              const vector = new VectorLayer({\r\n                title: layer,\r\n                source: new VectorSource({\r\n                  features: new GeoJSON({}).readFeatures(\r\n                    response.responseJSON,\r\n                    {\r\n                      featureProjection: props.map.getView().getProjection(),\r\n                    }\r\n                  ),\r\n                }),\r\n              });\r\n              props.setExtent(vector.getSource().getExtent());\r\n              props.map.getView().fit(vector.getSource().getExtent(), {\r\n                padding: [100, 100, 100, 100],\r\n              });\r\n              vector.setStyle(fillStyle(radius, fill, stroke, \"square\"));\r\n              props.map.addLayer(vector);\r\n              let d = props.body;\r\n              d.Data.push({\r\n                url: `${workspace}:${layer}`,\r\n                style: {\r\n                  type: \"Basic\",\r\n                  fill: fill,\r\n                  stroke: stroke,\r\n                  width: 1,\r\n                  radius: radius,\r\n                },\r\n              });\r\n              props.setBody(d);\r\n            }\r\n          });\r\n        } else props.setIsLoading(false);\r\n      } catch (e) {\r\n        alert(\"Invalid Layer!\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  const getSelected = (value) => {\r\n    setSelected(value);\r\n  };\r\n\r\n  const getRandomColor = () => {\r\n    var letters = \"0123456789ABCDEF\";\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  };\r\n\r\n  function findNested(obj, key, value) {\r\n    if (obj[key] === value) {\r\n      return obj;\r\n    } else {\r\n      var keys = Object.keys(obj);\r\n      for (var i = 0, len = keys.length; i < len; i++) {\r\n        var k = keys[i];\r\n        if (obj[k] && typeof obj[k] == \"object\") {\r\n          var found = findNested(obj[k], key, value);\r\n          if (found) {\r\n            return found;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function fillStyle(radius, fill, stroke, shape) {\r\n    let p = 0;\r\n    let a = 0;\r\n    let r = 0;\r\n    switch (shape) {\r\n      case \"circle\":\r\n        p = 1;\r\n        a = 0;\r\n        break;\r\n      case \"square\":\r\n        p = 4;\r\n        a = Math.PI / 4;\r\n        break;\r\n      case \"triangle\":\r\n        p = 3;\r\n        a = 0;\r\n        r = Math.PI / 4;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return new Style({\r\n      image:\r\n        shape == \"circle\"\r\n          ? new Circle({\r\n              radius: radius,\r\n              fill: new Fill({\r\n                color: fill,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: stroke,\r\n                width: 1,\r\n              }),\r\n            })\r\n          : new RegularShape({\r\n              radius: radius,\r\n              points: p,\r\n              angle: a,\r\n              rotation: r,\r\n              fill: new Fill({\r\n                color: fill,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: stroke,\r\n                width: 1,\r\n              }),\r\n            }),\r\n      fill: new Fill({\r\n        color: fill,\r\n      }),\r\n      stroke: new Stroke({\r\n        color: stroke,\r\n        width: 1,\r\n      }),\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"dcont\">\r\n        <h3>Add Data</h3>\r\n        <hr />\r\n        {workspaces.map((item, i) => {\r\n          return (\r\n            <WorkspaceItem\r\n              key={i}\r\n              workspace={item}\r\n              getSelected={getSelected}\r\n              layers={layers}\r\n              addToMap={addToMap}\r\n            />\r\n          );\r\n        })}\r\n        <i\r\n          onClick={() => {\r\n            props.setDataSelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d;\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst WorkspaceItem = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const Item = (params) => {\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          props.addToMap(params.workspace, params.layer);\r\n        }}\r\n        className=\"item\"\r\n      >\r\n        <i className=\"fa fa-map\"></i>\r\n        <p>{params.layer}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={()=>{\r\n        props.getSelected(props.workspace);\r\n        setOpen((curr)=>(!curr))\r\n      }}\r\n      className=\"workspace_item\"\r\n    >\r\n      <div className=\"top\">\r\n        <p>{props.workspace}</p> <i className=\"fa fa-angle-down\"></i>\r\n      </div>\r\n      <div className=\"content\">\r\n        {open &&\r\n          props.layers &&\r\n          props.layers.map((item, i) => {\r\n            return <Item key={i} workspace={props.workspace} layer={item} />;\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default class SelectMain extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: props.selected ? props.selected : undefined,\r\n    };\r\n    this.value = React.createRef();\r\n    this.onchange = this.onchange.bind(this);\r\n  }\r\n\r\n  onchange = () => {\r\n    this.setState({ selected: this.value.current.value });\r\n    this.props.getSelected(this.value.current.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"select\">\r\n        <label htmlFor=\"select\">{this.props.label}</label>\r\n        <select\r\n          ref={this.value}\r\n          onChange={() => {\r\n            this.onchange();\r\n          }}\r\n          value={this.state.selected}\r\n        >\r\n          {this.props.data.map((item) => {\r\n            return (\r\n              <option key={item} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport Charts from \"./SidePanel/Charts\";\r\nimport Data from \"./SidePanel/Data\";\r\nimport DataTopo from \"./SidePanel/DataTopo\";\r\nimport Export from \"./SidePanel/Export\";\r\nimport Layers from \"./SidePanel/Layers\";\r\nimport Metadata from \"./SidePanel/Metadata\";\r\nimport Bar from \"./SidePanel/Others/Bar\";\r\nimport MyStyler from \"./SidePanel/Topo/MyStyler\";\r\nimport Styles from \"./SidePanel/Topo/Styles\";\r\n\r\nexport default function TopPanel(props) {\r\n  const [selected, setSelected] = useState(\"Add Data\");\r\n\r\n  return (\r\n    <div className=\"top_panel\">\r\n      <Item\r\n        txt=\"Add Data\"\r\n        icon=\"fa-database\"\r\n        selected={selected}\r\n        setSelected={setSelected}\r\n        openPopup={() => {\r\n          props.setDataSelector(true);\r\n          props.setStyleSelector(null);\r\n          props.setQuerySelector(null);\r\n        }}\r\n      />\r\n      {props.category !== \"BaseMap\" && (\r\n        <Item\r\n          txt=\"Style Data\"\r\n          icon=\"fa-map\"\r\n          selected={selected}\r\n          setSelected={setSelected}\r\n          openPopup={() => {\r\n            props.setDataSelector(null);\r\n            props.setStyleSelector(true);\r\n            props.setQuerySelector(null);\r\n          }}\r\n        />\r\n      )}\r\n      {props.category !== \"BaseMap\" && (\r\n        <Item\r\n          txt=\"Query\"\r\n          icon=\"fa-search\"\r\n          selected={selected}\r\n          setSelected={setSelected}\r\n          openPopup={() => {\r\n            props.setQuerySelector(true);\r\n            props.setStyleSelector(null);\r\n            props.setDataSelector(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <p\r\n      onClick={() => {\r\n        props.openPopup();\r\n        props.setSelected(props.txt);\r\n      }}\r\n      className={props.txt === props.selected ? \"active\" : \"\"}\r\n    >\r\n      <i className={\"fa \" + props.icon}></i> {props.txt}\r\n    </p>\r\n  );\r\n};\r\n","export default function AlertMsg(props) {\r\n  return (\r\n    <div className=\"model\">\r\n      <div className=\"alert\">\r\n        <p>{props.msg}</p>\r\n        <h4 onClick={()=>{props.setMsg(null)}}>Okay</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport Charts from \"./SidePanel/Charts\";\r\nimport Export from \"./SidePanel/Export\";\r\nimport Metadata from \"./SidePanel/Metadata\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\n\r\nexport default function RightPanel(props) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [active, setActive] = useState(\"Layers\");\r\n\r\n  const isSmallScreen = useMediaQuery(\"(max-width: 640px)\");\r\n  const isMediumScreen = useMediaQuery(\r\n    \"(min-width: 641px) and (max-width: 1024px)\"\r\n  );\r\n  const isLargeScreen = useMediaQuery(\"(min-width: 1025px)\");\r\n\r\n\r\n  useEffect(() => {\r\n    isSmallScreen && setCollapsed(true);\r\n  }, [isSmallScreen]);\r\n\r\n  return (\r\n    <div className=\"right_panel\">\r\n      <div className=\"outer\">\r\n        <i\r\n          onClick={() => {\r\n            setCollapsed(!collapsed);\r\n          }}\r\n          className={collapsed ? \"fa fa-angle-left\" : \"fa fa-angle-right\"}\r\n        ></i>\r\n\r\n        <div\r\n          data-aos={collapsed ? \"fade-right\" : \"fade-right\"}\r\n          className=\"collapsible\"\r\n        >\r\n          {!collapsed && (\r\n            <>\r\n              <div className={props.category !== \"BaseMap\" ? \"bar4\" : \"bar3\"}>\r\n                <Item\r\n                  txt=\"Layers\"\r\n                  active={active}\r\n                  setCollapsed={setCollapsed}\r\n                  collapsed={collapsed}\r\n                  setActive={setActive}\r\n                />\r\n                {props.category !== \"BaseMap\" && (\r\n                  <Item\r\n                    txt=\"Analysis\"\r\n                    active={active}\r\n                    setCollapsed={setCollapsed}\r\n                    collapsed={collapsed}\r\n                    setActive={setActive}\r\n                  />\r\n                )}\r\n                <Item\r\n                  txt=\"Export\"\r\n                  setCollapsed={setCollapsed}\r\n                  collapsed={collapsed}\r\n                  active={active}\r\n                  setActive={setActive}\r\n                />\r\n                <Item\r\n                  txt=\"Metadata\"\r\n                  setCollapsed={setCollapsed}\r\n                  collapsed={collapsed}\r\n                  active={active}\r\n                  setActive={setActive}\r\n                />\r\n              </div>\r\n              {active === \"Layers\" && props.map && props.body && (\r\n                <Layers\r\n                  map={props.map}\r\n                  body={props.body}\r\n                  setBody={props.setBody}\r\n                />\r\n              )}\r\n              {active === \"Analysis\" && (\r\n                <Charts\r\n                  body={props.body?.Data[0]}\r\n                  updateBody={props.updateBody}\r\n                  pChartImgUrl={props.pChartImgUrl}\r\n                  setPChartImgUrl={props.setPChartImgUrl}\r\n                  bChartImgUrl={props.bChartImgUrl}\r\n                  setBChartImgUrl={props.setBChartImgUrl}\r\n                />\r\n              )}\r\n              {active === \"Export\" && props.body && (\r\n                <Export\r\n                  body={props.body}\r\n                  updateBody={props.updateBody}\r\n                  instanceId={props.instanceId}\r\n                  instance={props.body}\r\n                  map={props.map}\r\n                  setIsLoading={props.setIsLoading}\r\n                  pChartImgUrl={props.pChartImgUrl}\r\n                  setPChartImgUrl={props.setPChartImgUrl}\r\n                  bChartImgUrl={props.bChartImgUrl}\r\n                  setBChartImgUrl={props.setBChartImgUrl}\r\n                />\r\n              )}\r\n              {active === \"Metadata\" && (\r\n                <Metadata body={props.body} updateBody={props.updateBody} />\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <p\r\n      onClick={() => {\r\n        if (props.txt === props.active) {\r\n          props.setCollapsed(!props.collapsed);\r\n        } else props.setCollapsed(false);\r\n        props.setActive(props.txt);\r\n      }}\r\n      className={props.txt === props.active ? \"active\" : \"\"}\r\n    >\r\n      {props.txt}\r\n    </p>\r\n  );\r\n};\r\n\r\nconst Layers = (props) => {\r\n  const [layrs, setLayrs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.map.getAllLayers().length !== layrs.length) {\r\n      let d = [];\r\n      props.map.getAllLayers()?.map((item, i) => {\r\n        d.push({\r\n          title: item.get(\"title\"),\r\n          index: i,\r\n          checked: item.getVisible(),\r\n        });\r\n      });\r\n      setLayrs(d);\r\n    }\r\n  }, [props.map, props.map.getAllLayers(), layrs]);\r\n\r\n  function togglelayer(index, oldIndex) {\r\n    if (props.map) {\r\n      if (props.body.Data.length > 1) {\r\n        let x = array_move(props.body.Data, index, oldIndex);\r\n        let xd = props.body;\r\n        xd.Data = x;\r\n        props.setBody(xd);\r\n      }\r\n      let d = array_move(props.map.getAllLayers(), index, oldIndex);\r\n      setLayrs([]);\r\n\r\n      props.map.getAllLayers().map((layer) => {\r\n        props.map.removeLayer(layer);\r\n      });\r\n      d.map((layer) => {\r\n        props.map.addLayer(layer);\r\n      });\r\n    }\r\n  }\r\n\r\n  function array_move(arr, old_index, new_index) {\r\n    if (new_index >= arr.length) {\r\n      var k = new_index - arr.length + 1;\r\n      while (k--) {\r\n        arr.push(undefined);\r\n      }\r\n    }\r\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n    return arr;\r\n  }\r\n\r\n  const Layer = (params) => {\r\n    const [checked, setChecked] = useState(params.item.checked);\r\n    const [data, setData] = useState([]);\r\n    const [column, setColumn] = useState(null);\r\n\r\n    useEffect(() => {\r\n      if (params.item.title !== \"Basemap\") {\r\n        const i = params.body.Data.map((e) => {\r\n          return e?.url?.split(\":\")[1];\r\n        }).indexOf(params.item.title);\r\n        if (i !== -1) {\r\n          if (params.body.Data[i].style.type === \"Basic\") {\r\n            setData([\r\n              { name: \"Simple Fill\", color: params.body.Data[i].style.fill },\r\n            ]);\r\n          } else {\r\n            setData(params.body.Data[i].style.classes);\r\n          }\r\n        }\r\n      }\r\n    }, []);\r\n\r\n    return (\r\n      <>\r\n        <div className=\"item\">\r\n          <i\r\n            onClick={() => {\r\n              props.map.getAllLayers().map((layer) => {\r\n                if (layer.get(\"title\") === params.item.title) {\r\n                  setLayrs([]);\r\n                  props.map.removeLayer(layer);\r\n                }\r\n              });\r\n            }}\r\n            className=\"fa fa-close\"\r\n          >\r\n            &#xf00d;\r\n          </i>\r\n          <input\r\n            onChange={(e) => {\r\n              setChecked(e.target.checked);\r\n              params.map\r\n                .getAllLayers()\r\n                [params.item.index].setVisible(e.target.checked);\r\n            }}\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            id=\"\"\r\n            checked={checked}\r\n          />\r\n          <p>{params.item.title}</p>\r\n          <i\r\n            onClick={() => {\r\n              if (params.item.index !== 0) {\r\n                params.togglelayer(params.item.index, params.item.index - 1);\r\n              }\r\n            }}\r\n            className=\"fa fa-angle-double-up\"\r\n          ></i>\r\n          <i\r\n            onClick={() => {\r\n              if (params.item.index + 1 < params?.map?.getAllLayers()?.length) {\r\n                params.togglelayer(params.item.index, params.item.index + 1);\r\n              }\r\n            }}\r\n            className=\"fa fa-angle-double-down\"\r\n          ></i>\r\n        </div>\r\n        {data?.length > 0 &&\r\n          data.map((item, i) => {\r\n            return <Theme key={i} item={item} body={params.body} />;\r\n          })}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const Theme = (params) => {\r\n    return (\r\n      <div className=\"theme\">\r\n        <input\r\n          onChange={(e) => {}}\r\n          value={params.item.color}\r\n          type=\"color\"\r\n          name=\"\"\r\n          id=\"\"\r\n        />\r\n        <p>{params.item.name}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"r_layers\">\r\n      <div>\r\n        <h4>Map Layers</h4>\r\n        <hr />\r\n      </div>\r\n      <div className=\"scr\">\r\n        {layrs.length > 0 &&\r\n          layrs.map((item) => {\r\n            return (\r\n              <Layer\r\n                key={item.index}\r\n                togglelayer={togglelayer}\r\n                item={item}\r\n                map={props.map}\r\n                body={props.body}\r\n              />\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default function RippleLoading(props) {\r\n  return (\r\n    <div className=\"ripple\">\r\n      <div className=\"container\">\r\n        <div className=\"lds-ripple\">\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/osm.ebcd365c.png\";","export default __webpack_public_path__ + \"static/media/street.aca1e19e.png\";","export default \"data:image/jpeg;base64,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\"","import XYZ from \"ol/source/XYZ\";\r\nimport { useEffect } from \"react\";\r\nimport osmPic from \"../../assets/imgs/osm.png\";\r\nimport sat from \"../../assets/imgs/satellite.png\";\r\nimport streetmap from \"../../assets/imgs/street.png\";\r\nimport topomap from \"../../assets/imgs/topo.jpg\";\r\nimport stadia from \"../../assets/imgs/stadia.jpg\";\r\nimport myData from \"../../assets/data/data\";\r\n\r\nexport default function Basemaps(props) {\r\n  // const images = [osmPic, topomap, stadia, streetmap, sat];\r\n  const images = [osmPic, streetmap, topomap];\r\n  const Basemap = (params) => {\r\n    useEffect(() => {\r\n      if (params.selected === params.index) {\r\n        params.layer.setSource(\r\n          new XYZ({\r\n            url: params.url,\r\n            crossOrigin: \"anonymous\",\r\n          })\r\n        );\r\n      }\r\n    }, [params.selected]);\r\n\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          params.setSelected(params.index);\r\n        }}\r\n        className={params.selected === params.index ? \"active\" : \"item \"}\r\n      >\r\n        <img src={params.image} alt=\"\" />\r\n        <p>{params.label}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"layers\">\r\n      <div className=\"cont\">\r\n        <i\r\n          onClick={() => {\r\n            props.setBaseSelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d;\r\n        </i>\r\n        <div className=\"basemaps\">\r\n          {myData.map((item, index) => {\r\n            return (\r\n              <Basemap\r\n                key={index}\r\n                index={index}\r\n                label={item.name}\r\n                image={images[index]}\r\n                layer={props.basemap}\r\n                setLayer={props.setBasemap}\r\n                url={item.url}\r\n                selected={props.selected}\r\n                setSelected={props.setSelected}\r\n                category={props.category}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import placeholder from \"../../assets/imgs/placeholder.png\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function ImageUpload(props) {\r\n  const file = useRef();\r\n  const preview = useRef();\r\n  const [image, setImage] = useState(placeholder);\r\n\r\n  useEffect(() => {\r\n    if (props.body.Thumbnail !== \"\") {\r\n      if (typeof props.body.Thumbnail !== \"object\") {\r\n        setImage(\"/api/\" + props.body.Thumbnail);\r\n      }\r\n    }\r\n  }, [props.body.Thumbnail]);\r\n\r\n  return (\r\n    <div className=\"photo\">\r\n      <div className=\"img\">\r\n        <img ref={preview} src={image} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import ImageUpload from \"./ImageUpload\";\r\n\r\nexport default function PreviewData(props) {\r\n  return (\r\n    <div className=\"desc\">\r\n      <h2>{props.body.Title}</h2>\r\n\r\n      <div className=\"div2equal\">\r\n        <div>\r\n          <div className=\"description\">\r\n            <p>{props.body.Description}</p>\r\n          </div>\r\n\r\n          <h4>\r\n            <span>Dataset: </span>\r\n            {props.body.Dataset}\r\n          </h4>\r\n          <h4>\r\n            <span>Keywords: </span>\r\n            {props.body.Keywords}\r\n          </h4>\r\n          <h4>\r\n            <span>Collection: </span>\r\n            {props.body.Collection ? props.body.Collection : `None`}\r\n          </h4>\r\n          <h4>\r\n            <span>Owner: </span>\r\n            {props.body.Owner}\r\n          </h4>\r\n          {props.body.SourceLink && <h4>\r\n            <span>Link: </span>\r\n            <a className=\"sourcelink\" href={props.body.SourceLink} target=\"_blank\">Go to Source</a>\r\n          </h4>}\r\n          <h4>\r\n            <span>Date of Capture: </span>\r\n            {props.body.AcquisitionDate ? props.body.AcquisitionDate : `N/A`}\r\n          </h4>\r\n          <h4>\r\n            <span>Classification Type: </span>\r\n            {props.body?.Data[0]?.style?.type} Classification\r\n          </h4>\r\n        </div>\r\n        <ImageUpload\r\n          preview={true}\r\n          body={props.body}\r\n          updateBody={props.updateBody}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/placeholder.51044263.png\";","import { useEffect, useRef, useState } from \"react\";\r\nimport downloadImg from \"../../../assets/imgs/download.png\";\r\nimport MyError from \"../../Utils/MyError\";\r\nimport jsPDF from \"jspdf\";\r\nimport SearchReport from \"../../export/SearchReport\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <div className=\"exp\" onClick={() => props.handleClick(props.ext)}>\r\n      <img src={downloadImg} alt=\"\" />\r\n      <p>{props.txt}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Export(props) {\r\n  const [service, setService] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [blob, setBlob] = useState(null);\r\n  const base_url = \"https://geoserver-service-OSL.OSL.go.ke\";\r\n  const headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n\r\n  const reportTemplateRef = useRef(null);\r\n\r\n  const handleGeneratePdf = () => {\r\n    const doc = new jsPDF({\r\n      format: \"A3\",\r\n      unit: \"px\",\r\n      orientation: \"landscape\",\r\n    });\r\n\r\n    // Adding the fonts.\r\n    doc.setFont(\"Inter-Regular\", \"normal\");\r\n    const output = document.createElement(\"p\");\r\n    const staticElement = renderToStaticMarkup(\r\n      <SearchReport body={props.body} blob={blob} />\r\n    );\r\n    output.innerHTML = staticElement;\r\n\r\n    doc.html(output, {\r\n      async callback(doc) {\r\n        await doc.save(\"document\");\r\n      },\r\n    });\r\n    populateDownload(\"pdf\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.map.once(\"rendercomplete\", function () {\r\n      const mapCanvas = document.createElement(\"canvas\");\r\n      const size = props.map.getSize();\r\n      mapCanvas.width = size[0];\r\n      mapCanvas.height = size[1];\r\n      const mapContext = mapCanvas.getContext(\"2d\");\r\n      Array.prototype.forEach.call(\r\n        props.map\r\n          .getViewport()\r\n          .querySelectorAll(\".ol-layer canvas, canvas.ol-layer\"),\r\n        function (canvas) {\r\n          if (canvas.width > 0) {\r\n            const opacity =\r\n              canvas.parentNode.style.opacity || canvas.style.opacity;\r\n            mapContext.globalAlpha = opacity === \"\" ? 1 : Number(opacity);\r\n            let matrix;\r\n            const transform = canvas.style.transform;\r\n            if (transform) {\r\n              // Get the transform parameters from the style's transform matrix\r\n              matrix = transform\r\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n                .split(\",\")\r\n                .map(Number);\r\n            } else {\r\n              matrix = [\r\n                parseFloat(canvas.style.width) / canvas.width,\r\n                0,\r\n                0,\r\n                parseFloat(canvas.style.height) / canvas.height,\r\n                0,\r\n                0,\r\n              ];\r\n            }\r\n            // Apply the transform to the export map context\r\n            CanvasRenderingContext2D.prototype.setTransform.apply(\r\n              mapContext,\r\n              matrix\r\n            );\r\n            const backgroundColor = canvas.parentNode.style.backgroundColor;\r\n            if (backgroundColor) {\r\n              mapContext.fillStyle = backgroundColor;\r\n              mapContext.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n            mapContext.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n      );\r\n      mapContext.globalAlpha = 1;\r\n      mapContext.setTransform(1, 0, 0, 1, 0, 0);\r\n      setBlob(mapCanvas.toDataURL());\r\n    });\r\n    props.map.renderSync();\r\n  }, []);\r\n\r\n  const downLoadData = (ext) => {\r\n    setError(\"\");\r\n    if (Array.isArray(props.body.Data)) {\r\n      props.body.Data.forEach(async (item) => {\r\n        await fetch(`/geoserver/rest/layers/${item.url.split(\":\")[1]}.json`, {\r\n          credentials: \"include\",\r\n          headers: headers,\r\n        })\r\n          .then((res) => {\r\n            if (res.ok) return res.json();\r\n          })\r\n          .then((data) => {\r\n            if (data?.layer?.type === \"RASTER\") {\r\n              if (\r\n                ext === \"zip\" ||\r\n                ext === \"json\" ||\r\n                ext === \"GML2\" ||\r\n                ext === \"csv\" ||\r\n                ext === \"WFS\"\r\n              ) {\r\n                setError(\"Unsuported format for this data type\");\r\n              } else {\r\n                if (ext === \"WMS\") {\r\n                  let d = service;\r\n                  d = d + \"=> \" + base_url + getWms(item.url, ext) + \"\\n\";\r\n                  setService(d);\r\n                } else downLoadImage(item.url, ext);\r\n              }\r\n            } else {\r\n              if (ext === \"WFS\") {\r\n                let d = service;\r\n                d =\r\n                  d +\r\n                  \"=> \" +\r\n                  base_url +\r\n                  `/geoserver/${\r\n                    item.url.split(\":\")[0]\r\n                  }/wms?request=GetMap&layers=${item.url}&format=image/png`;\r\n                d = d + \"=> \" + base_url + getUrl(item.url) + \"\\n\";\r\n                setService(d);\r\n              } else {\r\n                if (\r\n                  ext === \"shape-zip\" ||\r\n                  ext === \"json\" ||\r\n                  ext === \"GML2\" ||\r\n                  ext === \"csv\" ||\r\n                  ext === \"WFS\"\r\n                ) {\r\n                  saveData(item.url, ext);\r\n                } else downLoadImage(item.url, ext);\r\n              }\r\n            }\r\n          })\r\n          .catch((e) => {});\r\n        populateDownload(ext);\r\n      });\r\n    } else {\r\n      fetch(\r\n        `/geoserver/rest/layers/${props.body.Data[0].url.split(\":\")[1]}.json`,\r\n        {\r\n          credentials: \"include\",\r\n          headers: headers,\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data?.layer?.type === \"RASTER\") {\r\n            if (\r\n              ext === \"shape-zip\" ||\r\n              ext === \"json\" ||\r\n              ext === \"GML2\" ||\r\n              ext === \"CSV\" ||\r\n              ext === \"WFS\"\r\n            ) {\r\n              setError(\"Unsuported format for this data type\");\r\n            } else {\r\n              if (ext === \"WMS\") {\r\n                let d = service;\r\n                d =\r\n                  d +\r\n                  \"=> \" +\r\n                  base_url +\r\n                  `/geoserver/${\r\n                    props.body.Data[0].url.split(\":\")[0]\r\n                  }/wms?request=GetMap&layers=${\r\n                    props.body.Data[0].url\r\n                  }&format=image/png`;\r\n                setService(d);\r\n              } else downLoadImage(props.body.Data[0].url, ext);\r\n            }\r\n          } else {\r\n            if (\r\n              ext === \"shape-zip\" ||\r\n              ext === \"json\" ||\r\n              ext === \"GML2\" ||\r\n              ext === \"csv\" ||\r\n              ext === \"WFS\"\r\n            ) {\r\n              saveData(props.body.Data[0].url, ext);\r\n            } else downLoadImage(props.body.Data[0].url, ext);\r\n          }\r\n        })\r\n        .catch((e) => {});\r\n    }\r\n  };\r\n\r\n  function saveData(str, ext) {\r\n    let url = getUrl(str).slice(0, getUrl(str).length - 4) + ext;\r\n    fetch(url, {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        return res.blob();\r\n      })\r\n      .then((blob) => {\r\n        var url = window.URL.createObjectURL(blob);\r\n        var a = document.createElement(\"a\");\r\n        a.href = url;\r\n        const name =\r\n          ext === \"shape-zip\"\r\n            ? str.split(\":\")[1] + \".zip\"\r\n            : str.split(\":\")[1] + \".\" + ext;\r\n        a.download = name;\r\n        document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\r\n        a.click();\r\n\r\n        a.remove(); //afterwards we remove the element again\r\n      })\r\n      .catch((err) => {});\r\n  }\r\n\r\n  const downLoadImage = (s_url, ext) => {\r\n    let url = getWms(s_url, ext);\r\n    fetch(url, {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        return res.blob();\r\n      })\r\n      .then((blob) => {\r\n        var url = window.URL.createObjectURL(blob);\r\n        var a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = s_url.split(\":\")[1];\r\n        document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\r\n        a.click();\r\n        a.remove(); //afterwards we remove the element again\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  function getWms(url, ext) {\r\n    return `/geoserver/wms/reflect?layers=${url}&format=image/${ext}&width=800`;\r\n  }\r\n\r\n  function getUrl(url) {\r\n    return `/geoserver/${\r\n      url.split(\":\")[0]\r\n    }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n  }\r\n\r\n  function getPDF() {}\r\n\r\n  const populateDownload = (ext) => {\r\n    let d = {\r\n      Download: props.body.Dataset,\r\n      Category: props.body.Category,\r\n      Theme: \"Thematic Map\",\r\n      DownloadID: props.body.ID,\r\n      GeoserverURL: props.body.Data[0].url,\r\n      Type: ext,\r\n      OtherInfo: props.body.Owner,\r\n    };\r\n    fetch(`/api/downloads/create`, {\r\n      method: \"post\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(d),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"Download not created\");\r\n      })\r\n      .then((data) => {})\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"s_panel\">\r\n      <h4>Export Dataset</h4>\r\n      <hr />\r\n      <p style={{ fontSize: \"small\" }}>{error}</p>\r\n      {props.body?.Data[0]?.url ? (\r\n        <>\r\n          <h5>Vector Data</h5>\r\n          <Item\r\n            ext=\"shape-zip\"\r\n            handleClick={downLoadData}\r\n            txt=\"Esri Shapefiles (SHP)\"\r\n          />\r\n          <Item\r\n            ext=\"GML2\"\r\n            handleClick={downLoadData}\r\n            txt=\"Geography Markup Language (GML)\"\r\n          />\r\n          <Item\r\n            ext=\"CSV\"\r\n            handleClick={downLoadData}\r\n            txt=\"Comma Separated Values (CSV)\"\r\n          />\r\n          <Item ext=\"json\" handleClick={downLoadData} txt=\"GeoJSON\" />\r\n\r\n          <div className=\"div2equal\">\r\n            <div>\r\n              <h5>Web Services</h5>\r\n              <Item ext=\"WFS\" txt=\"WFS\" handleClick={downLoadData} />\r\n              <Item ext=\"WMS\" txt=\"WMS\" handleClick={downLoadData} />\r\n            </div>\r\n            <div>\r\n              <h5>Raster Data</h5>\r\n              <Item ext=\"tiff\" handleClick={downLoadData} txt=\"GeoTiff\" />\r\n              <Item ext=\"png\" handleClick={downLoadData} txt=\"PNG\" />\r\n              <Item ext=\"jpeg\" handleClick={downLoadData} txt=\"JPEG\" />\r\n            </div>\r\n            <div>\r\n              <h5>Reports</h5>\r\n              <Item ext=\"pdf\" handleClick={handleGeneratePdf} txt=\"PDF\" />\r\n            </div>\r\n          </div>\r\n          {service && (\r\n            <div className=\"link\">\r\n              <label>Copy the link below</label>\r\n              <input type=\"text\" value={service} />\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <MyError txt=\"Please load some Data first!!!\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import MyError from \"../../Utils/MyError\";\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <div className=\"exp\">\r\n      <b>\r\n        <p>{props.label}</p>\r\n      </b>\r\n      <p>{props.txt}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Metadata(props) {\r\n  return (\r\n    <div className=\"s_panel\">\r\n      <h4>Metadata</h4>\r\n      <hr />\r\n\r\n      {props.body ? (\r\n        <>\r\n          <Item label=\"Name of Dataset\" txt={props.body?.Dataset} />\r\n          <Item label=\"Theme\" txt={props.body?.Category} />\r\n          <Item label=\"Data Owner\" txt={props.body?.Owner} />\r\n          <Item label=\"Keywords\" txt={props.body.Keywords} />\r\n          <Item label=\"Data Type\" txt={props.body?.Type} />\r\n        </>\r\n      ) : (\r\n        <MyError txt=\"Please load some data first!!!\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, forwardRef, useState } from \"react\";\r\nimport { Legend, Pie, PieChart, ResponsiveContainer, Tooltip } from \"recharts\";\r\nimport MyError from \"../../../Utils/MyError\";\r\n\r\nconst MyPie = (props, ref) => {\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    if (props.body?.style?.classes?.length > 0) {\r\n      let d = [];\r\n      props.body?.style?.classes?.forEach((item) => {\r\n        d.push({ name: item.name, value: item.count, fill: item.color });\r\n      });\r\n      setData(d);\r\n      setTimeout(props.setReload(!props.reload), 1);\r\n    }\r\n  }, [props.body?.style?.classes]);\r\n\r\n  return (\r\n    <div>\r\n      {data.length > 0 ? (\r\n        <div ref={ref}>\r\n          <ResponsiveContainer width=\"100%\" aspect={1}>\r\n            <PieChart width=\"100%\" height=\"100%\" padding-top=\"4px\">\r\n              <Pie\r\n                data={data}\r\n                dataKey=\"value\"\r\n                nameKey=\"name\"\r\n                cx=\"50%\"\r\n                cy=\"40%\"\r\n                innerRadius=\"0%\"\r\n                outerRadius=\"80%\"\r\n                fill=\"#82ca9d\"\r\n              />\r\n              <Tooltip />\r\n              <Legend verticalAlign=\"bottom\" height=\"30%\" fontSize=\"10px\" />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      ) : (\r\n        <MyError\r\n          txt=\"No charts to display at the moment. Go to layers to style your\r\n        data\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default forwardRef(MyPie);\r\n","import {forwardRef, React, useEffect, useState} from \"react\";\r\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Label } from \"recharts\";\r\n\r\nconst Barchart = (props, ref) => {\r\n\r\n    const [data, setData] = useState([]);\r\n    useEffect(() => {\r\n      if (props.body.style.classes?.length > 0) {\r\n        let d = [];\r\n        props.body.style.classes.forEach((item) => {\r\n          d.push({ name: item.name, value: item.count, fill: item.color });\r\n        });\r\n        setData(d);\r\n        setTimeout(props.setReload(!props.reload), 10);\r\n      }\r\n    }, [props.body.style.classes]);\r\n\r\n    return (\r\n      <div>\r\n        {data && (\r\n          <div ref={ref}>\r\n            <BarChart\r\n              width={400}\r\n              height={250}\r\n              data={data}\r\n              margin={{\r\n                top: 5,\r\n                bottom: 5,\r\n              }}\r\n              id=\"myChart\"\r\n            >\r\n              <XAxis dataKey=\"name\">\r\n                {/* <Label\r\n                  value=\"Facility\"\r\n                  position=\"insideBottom\"\r\n                  style={{ textAnchor: \"middle\" }}\r\n                /> */}\r\n              </XAxis>\r\n              <YAxis>\r\n                <Label\r\n                  angle={-90}\r\n                  value=\"Count\"\r\n                  position=\"insideLeft\"\r\n                  style={{ textAnchor: \"middle\" }}\r\n                />\r\n              </YAxis>\r\n              <Tooltip />\r\n              <Bar dataKey=\"value\" />\r\n            </BarChart>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default forwardRef(Barchart);","import MyPie from \"./Others/MyPie\";\r\nimport Barchart from \"./Others/MyBarChart\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport * as htmlToImage from \"html-to-image\";\r\nimport { compose } from \"ol/transform\";\r\n\r\nexport default function Charts(props) {\r\n  const [showBarChart, setShowBarChart] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [showing, setShowing] = useState(\"Pie Chart\");\r\n  const piechrt = useRef(null);\r\n  const barchrt = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (piechrt.current) {\r\n      htmlToImage\r\n        .toPng(piechrt.current)\r\n        .then(function (dataUrl) {\r\n          props.setPChartImgUrl(dataUrl);\r\n        })\r\n        .catch(function (error) {\r\n          console.error(\"oops, something went wrong!\", error);\r\n        });\r\n    }\r\n    if (barchrt.current) {\r\n      htmlToImage\r\n        .toPng(barchrt.current)\r\n        .then(function (dataUrl) {\r\n          props.setBChartImgUrl(dataUrl);\r\n        })\r\n        .catch(function (error) {\r\n          console.error(\"oops, something went wrong!\", error);\r\n        });\r\n    }\r\n  }, [props.pChartImgUrl, props.bChartImgUrl, reload]);\r\n\r\n  const pieChart = () => {\r\n    setShowBarChart(false);\r\n  };\r\n\r\n  const barChart = () => {\r\n    setShowBarChart(true);\r\n  };\r\n\r\n  const Button = (params) => {\r\n    return (\r\n      <button\r\n        onClick={() => {\r\n          setShowing(params.txt);\r\n          params.handleClick();\r\n        }}\r\n        style={{ backgroundColor: showing === params.txt ? \"#74465c\" : \"gray\" }}\r\n      >\r\n        {params.txt}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"charts\">\r\n      <h4>Charts</h4>\r\n      <hr />\r\n      <div className=\"scr\">\r\n        <Button handleClick={pieChart} txt=\"Pie Chart\" />\r\n        <Button handleClick={barChart} txt=\"Bar Graph\" />\r\n      </div>\r\n      <div className=\"area\">\r\n        {!showBarChart && (\r\n          <MyPie\r\n            reload={reload}\r\n            setReload={setReload}\r\n            ref={piechrt}\r\n            body={props.body}\r\n          />\r\n        )}\r\n        {showBarChart && (\r\n          <Barchart\r\n            reload={reload}\r\n            setReload={setReload}\r\n            ref={barchrt}\r\n            body={props.body}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport Charts from \"./SidePanel/Charts\";\r\nimport Data from \"./SidePanel/Data\";\r\nimport DataTopo from \"./SidePanel/DataTopo\";\r\nimport Export from \"./SidePanel/Export\";\r\nimport Layers from \"./SidePanel/Layers\";\r\nimport Metadata from \"./SidePanel/Metadata\";\r\nimport Bar from \"./SidePanel/Others/Bar\";\r\nimport MyStyler from \"./SidePanel/Topo/MyStyler\";\r\nimport Styles from \"./SidePanel/Topo/Styles\";\r\n\r\nexport default function TitlePanel(props) {\r\n  const [selected, setSelected] = useState(\"Add Data\");\r\n\r\n  return (\r\n    <div className=\"title_panel\">\r\n      <h3>{props.title}</h3>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function Popup(props) {\r\n  const [cols, setCols] = useState(null);\r\n  const pp = useRef();\r\n\r\n  useEffect(() => {\r\n    if (props.data) {\r\n   \r\n      let d = props.data;\r\n      delete d.geometry;\r\n      const c = Object.keys(d);\r\n      setCols(c);\r\n    }\r\n  }, [props.data]);\r\n\r\n  return (\r\n    <div ref={pp} className=\"popup\">\r\n      <div className=\"container\">\r\n        <i\r\n          className=\"fa fa-times\"\r\n          onClick={() => {\r\n            pp.current.classList.add(`zoom_out`);\r\n            setTimeout(() => {\r\n              props.setPopup(null);\r\n            }, 1000);\r\n          }}\r\n        ></i>\r\n        <h3>Feature Details</h3>\r\n        {/* <hr /> */}\r\n        <div className=\"div2equal\">\r\n          {cols &&\r\n            cols.map((e) => {\r\n              return (\r\n                <p>\r\n                  <b>{e.charAt(0).toUpperCase() + e.slice(1)}: </b>\r\n                  {props.data[e]}\r\n                </p>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import MyError from \"../../../Utils/MyError\";\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <div className=\"ls\">\r\n      <div\r\n        className=\"prev\"\r\n        onClick={() => {\r\n          props.openStyler(props.index);\r\n        }}\r\n        style={{\r\n          backgroundColor: props.body.styles[props.index].fillColor,\r\n          border: `1px solid ${props.body.styles[props.index].color}`,\r\n        }}\r\n      ></div>\r\n      <label>{props.item.split(\":\")[1]}</label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Styles(props) {\r\n\r\n \r\n  return (\r\n    <div className=\"items\">\r\n      <h3>Map Layers</h3>\r\n      <p>Style map layers.</p>\r\n\r\n      <div className=\"styles\">\r\n        {props.body.data.url && props.body.data.url?.length > 0 ? (\r\n          props.body.data.url.map((item, index) => {\r\n            return (\r\n              <Item\r\n                key={index}\r\n                item={item}\r\n                index={index}\r\n                body={props.body}\r\n                updateBody={props.updateBody}\r\n                openStyler={props.openStyler}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <MyError txt=\"Please add some layers!\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {  } from \"react\";\r\n\r\nexport default class Select extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: props.selected ? props.selected : undefined,\r\n    };\r\n    this.value = React.createRef();\r\n    this.onchange = this.onchange.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      this.props.label === \"Select Column\" &&\r\n      prevProps.selected !== this.props.body.style.column\r\n    ) {\r\n      this.setState({ selected: this.props.body.style.column });\r\n    }\r\n  }\r\n\r\n  onchange = () => {\r\n    let d = this.props.body;\r\n    if (this.props.label === \"Select Column\") {\r\n      d.style.column = this.value.current.value;\r\n      if (this.props.body.style.classification === \"Unique Classification\") {\r\n        d.style.classes = this.props.calculateUniqueClasses(\r\n          this.value.current.value\r\n        );\r\n      } else {\r\n        d.style.classes = this.props.calculateRangeClasses(\r\n          this.value.current.value\r\n        );\r\n      }\r\n    } else {\r\n      let keys = Object.keys(this.props.body.data.layer.features[0].properties);\r\n      d.style.column = keys[0];\r\n      if (this.value.current.value === \"Unique Classification\") {\r\n        d.style.classes = this.props.calculateUniqueClasses(keys[0]);\r\n      } else {\r\n        d.style.classes = this.props.calculateRangeClasses(keys[0]);\r\n      }\r\n      d.style.classification = this.value.current.value;\r\n    }\r\n    this.props.updateBody(d);\r\n    this.setState({ selected: this.value.current.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"select\">\r\n        <label htmlFor=\"select\">{this.props.label}</label>\r\n        <select\r\n          ref={this.value}\r\n          onChange={() => {\r\n            this.onchange();\r\n          }}\r\n          value={this.state.selected}\r\n        >\r\n          {this.props.data.map((item) => {\r\n            return (\r\n              <option key={item} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Classes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: this.props.item.color,\r\n      checked: this.props.item.enabled,\r\n    };\r\n    this.getColor = this.getColor.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  getColor = (value) => {\r\n    const pos = this.props.body.style.classes\r\n      .map(function (e) {\r\n        return e.name;\r\n      })\r\n      .indexOf(this.props.item.name);\r\n\r\n    if (pos !== -1) {\r\n      let bd = this.props.body;\r\n      bd.style.classes[pos].color = value.target.value;\r\n      this.props.updateBody(bd);\r\n    }\r\n    this.setState({ value: value.target.value });\r\n  };\r\n\r\n  onChange = (value) => {\r\n    const pos = this.props.body.style.classes\r\n      .map(function (e) {\r\n        return e.name;\r\n      })\r\n      .indexOf(this.props.item.name);\r\n\r\n    if (pos !== -1) {\r\n      let bd = this.props.body;\r\n      bd.style.classes[pos].enabled = value.target.checked;\r\n      this.props.updateBody(bd);\r\n    }\r\n    this.setState({ checked: value.target.checked });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"classes\">\r\n        <input\r\n          className=\"cb\"\r\n          checked={this.state.checked}\r\n          type=\"checkbox\"\r\n          onChange={(e) => this.onChange(e)}\r\n        />\r\n        <input\r\n          onChange={(e) => this.getColor(e)}\r\n          className=\"cr\"\r\n          type=\"color\"\r\n          name=\"\"\r\n          id=\"\"\r\n          value={this.state.value}\r\n        />\r\n        <p>{this.props.item.name}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Item extends React.Component {\r\n    render() {\r\n    return (\r\n      <div className=\"lyr\">\r\n        <input checked={this.props.checked} type=\"checkbox\" name=\"\" id=\"\" />\r\n        <div className=\"div\"></div>\r\n        <p>{this.props.name}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Range extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: this.props.item.color,\r\n      min: this.props.item.min,\r\n      max: this.props.item.max,\r\n      label: this.props.item.name,\r\n      checked: this.props.item.enabled,\r\n    };\r\n    this.color = React.createRef();\r\n    this.min = React.createRef();\r\n    this.max = React.createRef();\r\n    this.label = React.createRef();\r\n    this.getColor = this.getColor.bind(this);\r\n    this.getMin = this.getMin.bind(this);\r\n    this.getMax = this.getMax.bind(this);\r\n    this.getLabel = this.getLabel.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  getMin = () => {\r\n    this.setState({ min: this.min.current.value });\r\n  };\r\n\r\n  minOut = () => {\r\n    let d = this.props.body;\r\n    d.style.classes[this.props.id].min = parseInt(this.min.current.value);\r\n    d.style.classes[this.props.id].count =\r\n      this.props.calculateCustomRangeClasses(\r\n        parseInt(this.min.current.value),\r\n        parseInt(this.max.current.value)\r\n      );\r\n    const txt = this.label.current.value.split(\"-\");\r\n    if (txt.length > 1) {\r\n      this.setState({\r\n        label: `${this.withCommas(this.min.current.value)} - ${txt[0]}`,\r\n      });\r\n      d.style.classes[this.props.id].name = this.label.current.value;\r\n    }\r\n\r\n    this.props.updateBody(d);\r\n  };\r\n\r\n  getMax = () => {\r\n    this.setState({ max: this.max.current.value });\r\n  };\r\n\r\n  maxOut = () => {\r\n    let d = this.props.body;\r\n    d.style.classes[this.props.id].max = parseInt(this.max.current.value);\r\n    d.style.classes[this.props.id].count =\r\n      this.props.calculateCustomRangeClasses(\r\n        parseInt(this.min.current.value),\r\n        parseInt(this.max.current.value)\r\n      );\r\n    const txt = this.label.current.value.split(\"-\");\r\n    if (txt.length > 1) {\r\n      this.setState({\r\n        label: `${txt[0]} - ${this.withCommas(this.max.current.value)}`,\r\n      });\r\n      d.style.classes[this.props.id].name = this.label.current.value;\r\n    }\r\n\r\n    this.props.updateBody(d);\r\n  };\r\n\r\n  removeClass = () => {\r\n    let d = this.props.body;\r\n    d.style.classes.splice(this.props.id, 1);\r\n    this.props.updateBody(d);\r\n  };\r\n\r\n  getLabel = () => {\r\n    this.setState({ label: this.label.current.value });\r\n  };\r\n\r\n  labelOut = () => {\r\n    let d = this.props.body;\r\n    d.style.classes[this.props.id].name = this.label.current.value;\r\n    this.props.updateBody(d);\r\n  };\r\n\r\n  getColor = (value) => {\r\n    const pos = this.props.body.style.classes\r\n      .map(function (e) {\r\n        return e.name;\r\n      })\r\n      .indexOf(this.props.item.name);\r\n\r\n    if (pos !== -1) {\r\n      let bd = this.props.body;\r\n      bd.style.classes[pos].color = value.target.value;\r\n      this.props.updateBody(bd);\r\n    }\r\n    this.setState({ value: value.target.value });\r\n  };\r\n\r\n  onChange = (value) => {\r\n    const pos = this.props.body.style.classes\r\n      .map(function (e) {\r\n        return e.name;\r\n      })\r\n      .indexOf(this.props.item.name);\r\n\r\n    if (pos !== -1) {\r\n      let bd = this.props.body;\r\n      bd.style.classes[pos].enabled = value.target.checked;\r\n      this.props.updateBody(bd);\r\n    }\r\n    this.setState({ checked: value.target.checked });\r\n  };\r\n\r\n  withCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"range\">\r\n        <i\r\n          onClick={() => {\r\n            this.removeClass();\r\n          }}\r\n          className=\"fa fa-minus-square\"\r\n        ></i>\r\n        <input\r\n          ref={this.color}\r\n          onChange={(e) => this.getColor(e)}\r\n          className=\"cr\"\r\n          type=\"color\"\r\n          name=\"\"\r\n          id=\"\"\r\n          value={this.state.value}\r\n        />\r\n        <input\r\n          ref={this.min}\r\n          onChange={() => this.getMin()}\r\n          type=\"number\"\r\n          value={this.state.min}\r\n          onBlur={(e) => {\r\n            this.minOut();\r\n          }}\r\n        />\r\n        <input\r\n          ref={this.max}\r\n          onChange={() => this.getMax()}\r\n          type=\"number\"\r\n          value={this.state.max}\r\n          onBlur={(e) => {\r\n            this.maxOut();\r\n          }}\r\n        />\r\n        <input\r\n          ref={this.label}\r\n          onChange={() => this.getLabel()}\r\n          type=\"text\"\r\n          placeholder=\"label\"\r\n          value={this.state.label}\r\n          onBlur={(e) => {\r\n            this.labelOut();\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"../../Styles/NewInstancesPage.scss\";\r\nimport \"../../Styles/SingleInstancePage.scss\";\r\nimport TopPanel from \"../maps/TopPanel\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Graticule from \"ol/layer/Graticule\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport AlertMsg from \"../maps/AlertMsg\";\r\nimport View from \"ol/View\";\r\nimport XYZ from \"ol/source/XYZ\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport myData from \"../../assets/data/data\";\r\nimport Basemaps from \"../BaseMaps/Basemaps\";\r\nimport Text from \"ol/style/Text\";\r\nimport {\r\n  ScaleLine,\r\n  ZoomToExtent,\r\n  defaults as defaultControls,\r\n} from \"ol/control\";\r\nimport $ from \"jquery\";\r\nimport { fromLonLat } from \"ol/proj.js\";\r\nimport { useRef } from \"react\";\r\nimport RightPanel from \"../maps/RightPanel\";\r\nimport Data from \"../maps/SidePanel/Data\";\r\n// import RippleLoading from \"../Utils/RippleLoading\";\r\nimport MyStyler from \"../maps/SidePanel/Topo/MyStyler\";\r\nimport { Map } from \"ol\";\r\nimport { asArray } from \"ol/color\";\r\nimport Query from \"./Query\";\r\nimport PreviewData from \"../maps/PreviewData\";\r\nimport RippleLoading from \"../Utils/RippleLoading\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport TitlePanel from \"../maps/TitlePanel\";\r\nimport Popup from \"./Popup\";\r\n\r\nexport default function ThematicPreview(props) {\r\n  const parser = new WMTSCapabilities();\r\n  let template = {\r\n    Title: \"\",\r\n    Category: \"\",\r\n    Description: \"\",\r\n    Thumbnail: \"\",\r\n    Dataset: \"\",\r\n    Keywords: \"\",\r\n    Owner: \"\",\r\n    Type: \"\",\r\n    Data: [],\r\n    Status: \"\",\r\n  };\r\n\r\n  const pathname = window.location.pathname.split(\"/\")[3];\r\n  const [body, setBody] = useState(template);\r\n  const [msg, setMsg] = useState(null);\r\n  const [basemap, setBasemap] = useState(new TileLayer({ title: \"Basemap\" }));\r\n  const [ke_counties, setke_counties] = useState(\r\n    new TileLayer({ title: \"Kenya Counties\" })\r\n  );\r\n  const [map, setMap] = useState(null);\r\n  const [dataSelector, setDataSelector] = useState(null);\r\n  const [styleSelector, setStyleSelector] = useState(null);\r\n  const mapElement = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selected, setSelected] = useState(3);\r\n  const [querySelector, setQuerySelector] = useState(null);\r\n  const [baseSelector, setBaseSelector] = useState(null);\r\n  const [extent, setExtent] = useState([\r\n    4153378.2713831086, -194668.47203224793, 4183418.0234991824,\r\n    -175024.15576295764,\r\n  ]);\r\n  const [graticule, setGraticule] = useState(\r\n    new Graticule({\r\n      strokeStyle: new Stroke({\r\n        color: \"rgba(0,0,0,0.5)\",\r\n        width: 0.7,\r\n      }),\r\n      latLabelStyle: new Text({\r\n        font: \"12px Calibri,sans-serif\",\r\n        textBaseline: \"bottom\",\r\n        fill: new Fill({\r\n          color: \"rgba(0,0,0,1)\",\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"rgba(255,255,255,1)\",\r\n          width: 3,\r\n        }),\r\n      }),\r\n      showLabels: true,\r\n      wrapX: false,\r\n      title: \"Grid\",\r\n    })\r\n  );\r\n  graticule.setZIndex(1000);\r\n  const [pChartImgUrl, setPChartImgUrl] = useState();\r\n  const [bChartImgUrl, setBChartImgUrl] = useState();\r\n  const [popup, setPopup] = useState(null);\r\n  const headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n\r\n  useEffect(() => {\r\n    basemap.setSource(\r\n      new XYZ({\r\n        url: myData[0].url,\r\n        crossOrigin: \"anonymous\",\r\n      })\r\n    );\r\n\r\n    fetch(\r\n      encodeURI(\r\n        `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n      ),\r\n      {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.text();\r\n      })\r\n      .then((text) => {\r\n        const result = parser.read(text);\r\n        const options = optionsFromCapabilities(result, {\r\n          layer: `OSL_Rasters:Kenya_Counties`,\r\n          matrixSet: \"EPSG:4326\",\r\n        });\r\n\r\n        ke_counties.setSource(new WMTS(options));\r\n      })\r\n      .catch((e) => {});\r\n\r\n    const initialMap = new Map({\r\n      controls: defaultControls().extend([\r\n        new ZoomToExtent({\r\n          extent: extent,\r\n        }),\r\n        new ScaleLine({\r\n          units: \"metric\",\r\n          bar: true,\r\n          text: \"Scale\",\r\n        }),\r\n      ]),\r\n      target: mapElement.current,\r\n      layers: [basemap, ke_counties, graticule],\r\n      renderer: \"canvas\",\r\n      view: new View({\r\n        projection: \"EPSG:3857\",\r\n        center: fromLonLat([37.44535766141879, -1.6602702925857802]),\r\n        zoom: 12,\r\n      }),\r\n    });\r\n\r\n    initialMap?.on(\"moveend\", function (e) {});\r\n\r\n    initialMap.on(\"click\", function (ev) {\r\n      initialMap.forEachFeatureAtPixel(ev.pixel, function (feature) {\r\n        setPopup(feature.values_);\r\n        return true;\r\n      });\r\n    });\r\n\r\n    setExtent(initialMap.getView().calculateExtent(initialMap.getSize()));\r\n    setMap(initialMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      fetch(`/api/data/${pathname}`, {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          let d = data;\r\n          d.Data = JSON.parse(d.Data);\r\n          setBody(d);\r\n        })\r\n        .catch((err) => {});\r\n    }\r\n  }, [map]);\r\n\r\n  useEffect(() => {\r\n    async function loadAllData() {\r\n      if (body?.Data?.length > 0) {\r\n        for (const item of body.Data) {\r\n          await loadData(item);\r\n        }\r\n      }\r\n    }\r\n\r\n    loadAllData();\r\n  }, [body?.Data?.length]);\r\n\r\n  async function loadData(item) {\r\n    setIsLoading(true);\r\n    let dataType = \"\";\r\n    const dt = await fetch(\r\n      `/geoserver/rest/layers/${item?.url.split(\":\")[1]}.json`,\r\n      {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      }\r\n    ).then((res) => {\r\n      if (res.ok) return res.json();\r\n    });\r\n    dataType = dt?.layer?.type;\r\n    if (dataType === \"RASTER\") {\r\n      await fetch(\r\n        encodeURI(\r\n          `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n        ),\r\n        {\r\n          method: \"get\",\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\"Could not fetch messages!!!\");\r\n          }\r\n          return res.text();\r\n        })\r\n        .then((text) => {\r\n          const result = parser.read(text);\r\n          const options = optionsFromCapabilities(result, {\r\n            layer: `${item.url.split(\":\")[0]}:${item.url.split(\":\")[1]}`,\r\n            matrixSet: \"EPSG:900913\",\r\n          });\r\n\r\n          const pic = new TileLayer({\r\n            title: item.url.split(\":\")[1],\r\n            opacity: 1,\r\n            source: new WMTS(options),\r\n          });\r\n          map.addLayer(pic);\r\n          map.getView().fit(options.tileGrid.getExtent(), {\r\n            padding: [100, 100, 100, 100],\r\n          });\r\n          setIsLoading(false);\r\n        })\r\n        .catch((e) => {});\r\n    } else if (dataType === \"VECTOR\") {\r\n      setIsLoading(true);\r\n      var response = await $.ajax({\r\n        url: encodeURI(getUrl(item.url)),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          setIsLoading(false);\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        setIsLoading(false);\r\n        if (data.features.length !== 0) {\r\n          const vector = new VectorLayer({\r\n            title: item.url.split(\":\")[1],\r\n            source: new VectorSource({\r\n              features: new GeoJSON({}).readFeatures(data, {\r\n                featureProjection: map.getView().getProjection(),\r\n              }),\r\n            }),\r\n          });\r\n          setExtent(vector.getSource().getExtent());\r\n          map.getView().fit(vector.getSource().getExtent(), {\r\n            padding: [50, 50, 50, 50],\r\n          });\r\n          if (item.style.type === \"Basic\") {\r\n            vector.setStyle(fillStyle(vector, item.style));\r\n          } else if (item.style.type === \"Unique\") {\r\n            vector.setStyle(uniqueStyle(vector, item.style));\r\n          } else if (item.style.type === \"Range\") {\r\n            vector.setStyle(rangeStyle(vector, item.style));\r\n          }\r\n          map.addLayer(vector);\r\n        }\r\n      });\r\n    } else setIsLoading(false);\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (item.values_[style.column] == e.name) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function getUrl(url, filters) {\r\n    if (!filters) {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n    } else {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&${filters}&outputFormat=json`;\r\n    }\r\n  }\r\n\r\n  const printMap = () => {\r\n    map.once(\"rendercomplete\", function () {\r\n      const mapCanvas = document.createElement(\"canvas\");\r\n      const size = map.getSize();\r\n      mapCanvas.width = size[0];\r\n      mapCanvas.height = size[1];\r\n      const mapContext = mapCanvas.getContext(\"2d\");\r\n      Array.prototype.forEach.call(\r\n        map.getViewport().querySelectorAll(\".ol-layer canvas, canvas.ol-layer\"),\r\n        function (canvas) {\r\n          if (canvas.width > 0) {\r\n            const opacity =\r\n              canvas.parentNode.style.opacity || canvas.style.opacity;\r\n            mapContext.globalAlpha = opacity === \"\" ? 1 : Number(opacity);\r\n            let matrix;\r\n            const transform = canvas.style.transform;\r\n            if (transform) {\r\n              // Get the transform parameters from the style's transform matrix\r\n              matrix = transform\r\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n                .split(\",\")\r\n                .map(Number);\r\n            } else {\r\n              matrix = [\r\n                parseFloat(canvas.style.width) / canvas.width,\r\n                0,\r\n                0,\r\n                parseFloat(canvas.style.height) / canvas.height,\r\n                0,\r\n                0,\r\n              ];\r\n            }\r\n            // Apply the transform to the export map context\r\n            CanvasRenderingContext2D.prototype.setTransform.apply(\r\n              mapContext,\r\n              matrix\r\n            );\r\n            const backgroundColor = canvas.parentNode.style.backgroundColor;\r\n            if (backgroundColor) {\r\n              mapContext.fillStyle = backgroundColor;\r\n              mapContext.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n            mapContext.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n      );\r\n      mapContext.globalAlpha = 1;\r\n      mapContext.setTransform(1, 0, 0, 1, 0, 0);\r\n\r\n      var link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", mapCanvas.toDataURL());\r\n      link.setAttribute(\"download\", \"map.png\");\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      populateDownload();\r\n    });\r\n    map.renderSync();\r\n  };\r\n\r\n  // register screenshot as a download\r\n  const populateDownload = () => {\r\n    let d = {\r\n      Download: body.Title,\r\n      Category: body.Category,\r\n      Theme: \"Thematic\",\r\n      DownloadID: pathname,\r\n      GeoserverURL: body.Data[0].url,\r\n      Type: \"Screenshot\",\r\n      OtherInfo: body.Owner,\r\n    };\r\n    fetch(`/api/downloads/create`, {\r\n      method: \"post\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(d),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"Download not created\");\r\n      })\r\n      .then((data) => {})\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"NewInstancesPage\">\r\n      <div className=\"map\">\r\n        <div\r\n          ref={mapElement}\r\n          style={{ width: \"100%\", height: \"90vh\" }}\r\n          id=\"map\"\r\n        ></div>\r\n        {popup && <Popup data={popup} setPopup={setPopup} />}\r\n        {isLoading && <RippleLoading />}\r\n        <div\r\n          onClick={() => {\r\n            setBaseSelector(true);\r\n          }}\r\n          className=\"base_selector\"\r\n        >\r\n          <i className=\"fa fa-map\"></i>\r\n        </div>\r\n        <div className=\"download\">\r\n          <div>\r\n            <a\r\n              onClick={() => {\r\n                printMap();\r\n              }}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fa fa-camera\"></i> Screenshot\r\n            </a>\r\n          </div>\r\n        </div>\r\n        {baseSelector && (\r\n          <Basemaps\r\n            setBaseSelector={setBaseSelector}\r\n            basemap={basemap}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n          />\r\n        )}\r\n        <RightPanel\r\n          map={map}\r\n          body={body}\r\n          setBody={setBody}\r\n          pChartImgUrl={pChartImgUrl}\r\n          setPChartImgUrl={setPChartImgUrl}\r\n          bChartImgUrl={bChartImgUrl}\r\n          setBChartImgUrl={setBChartImgUrl}\r\n        />\r\n        <TopPanel\r\n          dataSelector={dataSelector}\r\n          setDataSelector={setDataSelector}\r\n          setStyleSelector={setStyleSelector}\r\n          setQuerySelector={setQuerySelector}\r\n          preview={true}\r\n        />\r\n        <TitlePanel title={body.Title} />\r\n        {dataSelector && (\r\n          <Data\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setDataSelector={setDataSelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {querySelector && body && (\r\n          <Query\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setQuerySelector={setQuerySelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {styleSelector && (\r\n          <MyStyler\r\n            map={map}\r\n            setStyleSelector={setStyleSelector}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n      </div>\r\n      <PreviewData body={body} />\r\n      {msg && <AlertMsg msg={msg} setMsg={setMsg} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Button from \"../../../Utils/ButtonMain\";\r\nimport MyError from \"../../../Utils/MyError\";\r\nimport Select from \"../../../Utils/SelectMain\";\r\n\r\nexport default function AddData(props) {\r\n  const [workspaces, setWorkspaces] = useState(null);\r\n  const [layers, setLayers] = useState(null);\r\n  const [selected, setSelected] = useState(null);\r\n  const [selectedLayer, setSelectedLayer] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const headers = {\r\n      Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n        \"base64\"\r\n      )}`,\r\n    };\r\n    fetch(\"/geoserver/rest/workspaces\", {\r\n      credentials: \"include\",\r\n      headers: headers,\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.workspaces.workspace.length > 0) {\r\n          let list = [];\r\n          data.workspaces.workspace.forEach((item) => {\r\n            list.push(item.name);\r\n          });\r\n          setWorkspaces(list);\r\n          setSelected(list[0]);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n       \r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      const headers = {\r\n        Authorization: `Basic ${Buffer.from(\r\n          \"admin:geoserver\",\r\n          \"utf-8\"\r\n        ).toString(\"base64\")}`,\r\n      };\r\n      fetch(`/geoserver/rest/workspaces/${selected}/layers`, {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.layers !== \"\" && data.layers.layer.length > 0) {\r\n            let list = [];\r\n            data.layers.layer.forEach((item) => {\r\n              list.push(item.name);\r\n            });\r\n            setLayers(list);\r\n            setSelectedLayer(list[0]);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n        \r\n        });\r\n    }\r\n  }, [selected]);\r\n\r\n  const getSelected = (value) => {\r\n    setSelected(value);\r\n  };\r\n\r\n  const getSelectedLayer = (value) => {\r\n    setSelectedLayer(value);\r\n  };\r\n\r\n  const addData = () => {\r\n    let d = props.body;\r\n    d.data.url.push(`${selected}:${selectedLayer}`);\r\n    props.updateBody(d);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p>Load data from GeoServer</p>\r\n      <div className=\"div2equal\">\r\n        {workspaces && (\r\n          <Select\r\n            data={workspaces}\r\n            getSelected={getSelected}\r\n            label=\"Select Workspace\"\r\n          />\r\n        )}\r\n        {layers && (\r\n          <Select\r\n            data={layers}\r\n            getSelected={getSelectedLayer}\r\n            label=\"Select Layer\"\r\n          />\r\n        )}\r\n      </div>\r\n      {workspaces ? (\r\n        <>\r\n          <div className=\"layers\">\r\n            <h5>Selected Workspace: {selected}</h5>\r\n            {layers ? (\r\n              <h5>Selected Layer: {selectedLayer}</h5>\r\n            ) : (\r\n              <h5>Oops! this workspace does not contain any layers</h5>\r\n            )}\r\n          </div>\r\n          {selectedLayer && <Button label=\"Add to Map\" handleClick={addData} />}\r\n\r\n          <h4\r\n            onClick={() => {\r\n              props.toggleShowing();\r\n            }}\r\n          >\r\n            Back to List\r\n          </h4>\r\n        </>\r\n      ) : (\r\n        <MyError txt=\"Ooops we could not find any workspace in your GeoServer\" />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAERSURBVHgB7ZTdDYIwEMfvGgZgBN1Ah5C4gxpdwaiJj/BmgiaOoPFjBGN0CN1ARnAAbOVAlGC1Jfjxwu+Ba4/e/3q0HECBAqRHz2q0EdgUQJjPC9Bzd4syjQdW60Q2ORcgSrIYzrg92a7mjBwMmC0Tf2whgsSSgsH4LAuhNchxSmMjdoQTZpRH25kHmox3y2raN6x3Sj73qVIz2nyCLOKvSGsw+DJFgv8nMFQLBrVORaB/SPr6VlOQRYNX3c36+C5eWYG7n5GAI3nlqMS1EhDBD2Wnkjg3nxLtM7gnQdHVFSeUZyBJkonfXlNqVJCTtEb8iajtmtQFgysIeQg0QouIHtmwAmTYjR2fAc8XfnGgQIcrl4dj8dpI1fgAAAAASUVORK5CYII=\"","import { useEffect, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { asArray } from \"ol/color\";\r\n\r\nexport default function Query(props) {\r\n  const operators = [\"=\", \">\", \"<\", \">=\", \"<=\", \"<>\", \"ILIKE\"];\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [operator, setOperator] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props?.map?.getAllLayers().length - 1 !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item instanceof VectorLayer) {\r\n          if (i != 0) {\r\n            d.push(item.get(\"title\"));\r\n          }\r\n        }\r\n      });\r\n      setLayrs(d);\r\n    }\r\n  }, [props.map, props.map.getAllLayers()]);\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = props?.body?.Data?.map((e) => {\r\n        return e.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (d !== -1) {\r\n        setlayerIndex(d);\r\n      }\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item.getSource().getFeatures();\r\n          if (features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function addToMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function resetMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getResetUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    if (operator === \"ILIKE\") {\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn} ${operator} '%${value}%'&outputFormat=json`;\r\n    } else\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn}${operator}'${value}'&outputFormat=json`;\r\n  }\r\n\r\n  function getResetUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    layer\r\n      .getSource()\r\n      .getFeatures()\r\n      .map((item) => {\r\n        const i = style.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(item.values_[style.column]);\r\n\r\n        if (i !== -1) {\r\n          item.setStyle(\r\n            new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: style.classes[i].color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.classes[i].color,\r\n                  width: 1,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: style.classes[i].color,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.classes[i].color,\r\n                width: 1,\r\n              }),\r\n            })\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"basic_styler\">\r\n        <h3>Query data</h3>\r\n        <hr />\r\n        <p>Select Layer</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-map\"></i>\r\n          <select\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              populateColumns(e.target.value);\r\n              setTitle(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Layer\">Select Layer</option>\r\n            {layrs.length > 0 &&\r\n              layrs.map((item, i) => {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              })}\r\n          </select>\r\n        </div>\r\n\r\n        <p>Select Column</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-bars\"></i>\r\n          <select\r\n            // value={lcolumn}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setLColumn(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Column</option>\r\n            {columns.length > 0 &&\r\n              columns.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Select Operator</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-percent\"></i>\r\n          <select\r\n            // value={operator}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setOperator(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Operator</option>\r\n            {operators.length > 0 &&\r\n              operators.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Your Input</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-search\"></i>\r\n          <input\r\n            className=\"query\"\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setValue(e.target.value);\r\n            }}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <p>{error}</p>\r\n        <div className=\"div2equal\">\r\n          <button\r\n            style={{ backgroundColor: \"orange\" }}\r\n            onClick={() => {\r\n              setOperator(\"Select Operator\");\r\n              setValue(\"\");\r\n              setLColumn(\"Select Column\");\r\n              resetMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-times \"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              addToMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-check \"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <i\r\n          onClick={() => {\r\n            props.setQuerySelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d; \r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"../../Styles/NewInstancesPage.scss\";\r\nimport \"../../Styles/SingleInstancePage.scss\";\r\nimport TopPanel from \"../maps/TopPanel\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Graticule from \"ol/layer/Graticule\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport AlertMsg from \"../maps/AlertMsg\";\r\nimport View from \"ol/View\";\r\nimport XYZ from \"ol/source/XYZ\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport myData from \"../../assets/data/data\";\r\nimport Basemaps from \"../BaseMaps/Basemaps\";\r\nimport Text from \"ol/style/Text\";\r\nimport {\r\n  ScaleLine,\r\n  ZoomToExtent,\r\n  defaults as defaultControls,\r\n} from \"ol/control\";\r\nimport $ from \"jquery\";\r\nimport { fromLonLat } from \"ol/proj.js\";\r\nimport { useRef } from \"react\";\r\nimport RightPanel from \"../maps/RightPanel\";\r\nimport Data from \"../maps/SidePanel/Data\";\r\n// import RippleLoading from \"../Utils/RippleLoading\";\r\nimport MyStyler from \"../maps/SidePanel/Topo/MyStyler\";\r\nimport { Map } from \"ol\";\r\nimport { asArray } from \"ol/color\";\r\nimport Query from \"./Query\";\r\nimport PreviewData from \"../maps/PreviewData\";\r\nimport RippleLoading from \"../Utils/RippleLoading\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport TitlePanel from \"../maps/TitlePanel\";\r\nimport Popup from \"../ThematicMap/Popup\";\r\n\r\nexport default function WorldDataPreview(props) {\r\n  const parser = new WMTSCapabilities();\r\n  let template = {\r\n    Title: \"\",\r\n    Category: \"\",\r\n    Description: \"\",\r\n    Thumbnail: \"\",\r\n    Dataset: \"\",\r\n    Keywords: \"\",\r\n    Owner: \"\",\r\n    Type: \"\",\r\n    Data: [],\r\n    Status: \"\",\r\n  };\r\n  const pathname = window.location.pathname.split(\"/\")[3];\r\n  const [body, setBody] = useState(template);\r\n  const [msg, setMsg] = useState(null);\r\n  const [basemap, setBasemap] = useState(new TileLayer({ title: \"Basemap\" }));\r\n  const [ke_counties, setke_counties] = useState(\r\n    new TileLayer({ title: \"Kenya Counties\" })\r\n  );\r\n  const [map, setMap] = useState(null);\r\n  const [dataSelector, setDataSelector] = useState(null);\r\n  const [styleSelector, setStyleSelector] = useState(null);\r\n  const mapElement = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selected, setSelected] = useState(3);\r\n  const [querySelector, setQuerySelector] = useState(null);\r\n  const [baseSelector, setBaseSelector] = useState(null);\r\n  const [extent, setExtent] = useState([\r\n    4153378.2713831086, -194668.47203224793, 4183418.0234991824,\r\n    -175024.15576295764,\r\n  ]);\r\n  const [graticule, setGraticule] = useState(\r\n    new Graticule({\r\n      strokeStyle: new Stroke({\r\n        color: \"rgba(0,0,0,0.5)\",\r\n        width: 0.7,\r\n      }),\r\n      latLabelStyle: new Text({\r\n        font: \"12px Calibri,sans-serif\",\r\n        textBaseline: \"bottom\",\r\n        fill: new Fill({\r\n          color: \"rgba(0,0,0,1)\",\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"rgba(255,255,255,1)\",\r\n          width: 3,\r\n        }),\r\n      }),\r\n      showLabels: true,\r\n      wrapX: false,\r\n      title: \"Grid\",\r\n    })\r\n  );\r\n  graticule.setZIndex(1000);\r\n  const [pChartImgUrl, setPChartImgUrl] = useState();\r\n  const [bChartImgUrl, setBChartImgUrl] = useState();\r\n  const [popup, setPopup] = useState(null);\r\n  const headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n\r\n  useEffect(() => {\r\n    basemap.setSource(\r\n      new XYZ({\r\n        url: myData[0].url,\r\n        crossOrigin: \"anonymous\",\r\n      })\r\n    );\r\n\r\n    fetch(\r\n      encodeURI(\r\n        `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n      ),\r\n      {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.text();\r\n      })\r\n      .then((text) => {\r\n        const result = parser.read(text);\r\n        const options = optionsFromCapabilities(result, {\r\n          layer: `OSL_Rasters:Kenya_Counties`,\r\n          matrixSet: \"EPSG:4326\",\r\n        });\r\n\r\n        ke_counties.setSource(new WMTS(options));\r\n      })\r\n      .catch((e) => {});\r\n\r\n    const initialMap = new Map({\r\n      controls: defaultControls().extend([\r\n        new ZoomToExtent({\r\n          extent: extent,\r\n        }),\r\n        new ScaleLine({\r\n          units: \"metric\",\r\n          bar: true,\r\n          text: \"Scale\",\r\n        }),\r\n      ]),\r\n      target: mapElement.current,\r\n      layers: [basemap, ke_counties, graticule],\r\n      renderer: \"canvas\",\r\n      view: new View({\r\n        projection: \"EPSG:3857\",\r\n        center: fromLonLat([37.44535766141879, -1.6602702925857802]),\r\n        zoom: 12,\r\n      }),\r\n    });\r\n\r\n    initialMap?.on(\"moveend\", function (e) {});\r\n\r\n    initialMap.on(\"click\", function (ev) {\r\n      initialMap.forEachFeatureAtPixel(ev.pixel, function (feature) {\r\n        setPopup(feature.values_);\r\n        return true;\r\n      });\r\n    });\r\n\r\n    setExtent(initialMap.getView().calculateExtent(initialMap.getSize()));\r\n    setMap(initialMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      fetch(`/api/data/${pathname}`, {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          let d = data;\r\n          d.Data = JSON.parse(d.Data);\r\n          setBody(d);\r\n        })\r\n        .catch((err) => {});\r\n    }\r\n  }, [map]);\r\n\r\n  useEffect(() => {\r\n    async function loadAllData() {\r\n      if (body?.Data?.length > 0) {\r\n        for (const item of body.Data) {\r\n          await loadData(item);\r\n        }\r\n      }\r\n    }\r\n\r\n    loadAllData();\r\n  }, [body?.Data?.length]);\r\n\r\n  async function loadData(item) {\r\n    setIsLoading(true);\r\n    let dataType = \"\";\r\n    const dt = await fetch(\r\n      `/geoserver/rest/layers/${item?.url.split(\":\")[1]}.json`,\r\n      {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      }\r\n    ).then((res) => {\r\n      if (res.ok) return res.json();\r\n    });\r\n    dataType = dt?.layer?.type;\r\n    if (dataType === \"RASTER\") {\r\n      await fetch(\r\n        encodeURI(\r\n          `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n        ),\r\n        {\r\n          method: \"get\",\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\"Could not fetch messages!!!\");\r\n          }\r\n          return res.text();\r\n        })\r\n        .then((text) => {\r\n          const result = parser.read(text);\r\n          const options = optionsFromCapabilities(result, {\r\n            layer: `${item.url.split(\":\")[0]}:${item.url.split(\":\")[1]}`,\r\n            matrixSet: \"EPSG:900913\",\r\n          });\r\n\r\n          const pic = new TileLayer({\r\n            title: item.url.split(\":\")[1],\r\n            opacity: 1,\r\n            source: new WMTS(options),\r\n          });\r\n          map.addLayer(pic);\r\n          map.getView().fit(options.tileGrid.getExtent(), {\r\n            padding: [100, 100, 100, 100],\r\n          });\r\n          setIsLoading(false);\r\n        })\r\n        .catch((e) => {});\r\n    } else if (dataType === \"VECTOR\") {\r\n      setIsLoading(true);\r\n      var response = await $.ajax({\r\n        url: encodeURI(getUrl(item.url)),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          setIsLoading(false);\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        setIsLoading(false);\r\n        if (data.features.length !== 0) {\r\n          const vector = new VectorLayer({\r\n            title: item.url.split(\":\")[1],\r\n            source: new VectorSource({\r\n              features: new GeoJSON({}).readFeatures(data, {\r\n                featureProjection: map.getView().getProjection(),\r\n              }),\r\n            }),\r\n          });\r\n          setExtent(vector.getSource().getExtent());\r\n          map.getView().fit(vector.getSource().getExtent(), {\r\n            padding: [50, 50, 50, 50],\r\n          });\r\n          if (item.style.type === \"Basic\") {\r\n            vector.setStyle(fillStyle(vector, item.style));\r\n          } else if (item.style.type === \"Unique\") {\r\n            vector.setStyle(uniqueStyle(vector, item.style));\r\n          } else if (item.style.type === \"Range\") {\r\n            vector.setStyle(rangeStyle(vector, item.style));\r\n          }\r\n          map.addLayer(vector);\r\n        }\r\n      });\r\n    } else setIsLoading(false);\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (item.values_[style.column] == e.name) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function getUrl(url, filters) {\r\n    if (!filters) {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n    } else {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&${filters}&outputFormat=json`;\r\n    }\r\n  }\r\n\r\n  const printMap = () => {\r\n    map.once(\"rendercomplete\", function () {\r\n      const mapCanvas = document.createElement(\"canvas\");\r\n      const size = map.getSize();\r\n      mapCanvas.width = size[0];\r\n      mapCanvas.height = size[1];\r\n      const mapContext = mapCanvas.getContext(\"2d\");\r\n      Array.prototype.forEach.call(\r\n        map.getViewport().querySelectorAll(\".ol-layer canvas, canvas.ol-layer\"),\r\n        function (canvas) {\r\n          if (canvas.width > 0) {\r\n            const opacity =\r\n              canvas.parentNode.style.opacity || canvas.style.opacity;\r\n            mapContext.globalAlpha = opacity === \"\" ? 1 : Number(opacity);\r\n            let matrix;\r\n            const transform = canvas.style.transform;\r\n            if (transform) {\r\n              // Get the transform parameters from the style's transform matrix\r\n              matrix = transform\r\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n                .split(\",\")\r\n                .map(Number);\r\n            } else {\r\n              matrix = [\r\n                parseFloat(canvas.style.width) / canvas.width,\r\n                0,\r\n                0,\r\n                parseFloat(canvas.style.height) / canvas.height,\r\n                0,\r\n                0,\r\n              ];\r\n            }\r\n            // Apply the transform to the export map context\r\n            CanvasRenderingContext2D.prototype.setTransform.apply(\r\n              mapContext,\r\n              matrix\r\n            );\r\n            const backgroundColor = canvas.parentNode.style.backgroundColor;\r\n            if (backgroundColor) {\r\n              mapContext.fillStyle = backgroundColor;\r\n              mapContext.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n            mapContext.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n      );\r\n      mapContext.globalAlpha = 1;\r\n      mapContext.setTransform(1, 0, 0, 1, 0, 0);\r\n\r\n      var link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", mapCanvas.toDataURL());\r\n      link.setAttribute(\"download\", \"map.png\");\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    });\r\n    map.renderSync();\r\n    populateDownload();\r\n  };\r\n\r\n  // register screenshot as a download\r\n  const populateDownload = () => {\r\n    let d = {\r\n      Download: body.Title,\r\n      Category: body.Category,\r\n      Theme: \"World Data\",\r\n      DownloadID: pathname,\r\n      GeoserverURL: body.Data[0].url,\r\n      Type: \"Screenshot\",\r\n      OtherInfo: body.Owner,\r\n    };\r\n    fetch(`/api/downloads/create`, {\r\n      method: \"post\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(d),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"Download not created\");\r\n      })\r\n      .then((data) => {})\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"NewInstancesPage\">\r\n      <div className=\"map\">\r\n        <div\r\n          ref={mapElement}\r\n          style={{ width: \"100%\", height: \"90vh\" }}\r\n          id=\"map\"\r\n        ></div>\r\n        {popup && <Popup data={popup} setPopup={setPopup} />}\r\n        {isLoading && <RippleLoading />}\r\n        <div\r\n          onClick={() => {\r\n            setBaseSelector(true);\r\n          }}\r\n          className=\"base_selector\"\r\n        >\r\n          <i className=\"fa fa-map\"></i>\r\n        </div>\r\n        <div className=\"download\">\r\n          <div>\r\n            <a\r\n              onClick={() => {\r\n                printMap();\r\n              }}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fa fa-camera\"></i> Screenshot\r\n            </a>\r\n          </div>\r\n        </div>\r\n        {baseSelector && (\r\n          <Basemaps\r\n            setBaseSelector={setBaseSelector}\r\n            basemap={basemap}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n          />\r\n        )}\r\n        <RightPanel\r\n          map={map}\r\n          body={body}\r\n          setBody={setBody}\r\n          pChartImgUrl={pChartImgUrl}\r\n          setPChartImgUrl={setPChartImgUrl}\r\n          bChartImgUrl={bChartImgUrl}\r\n          setBChartImgUrl={setBChartImgUrl}\r\n        />\r\n        <TopPanel\r\n          dataSelector={dataSelector}\r\n          setDataSelector={setDataSelector}\r\n          setStyleSelector={setStyleSelector}\r\n          setQuerySelector={setQuerySelector}\r\n          preview={true}\r\n        />\r\n        <TitlePanel title={body.Title} />\r\n        {dataSelector && (\r\n          <Data\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setDataSelector={setDataSelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {querySelector && body && (\r\n          <Query\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setQuerySelector={setQuerySelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {styleSelector && (\r\n          <MyStyler\r\n            map={map}\r\n            setStyleSelector={setStyleSelector}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n      </div>\r\n      <PreviewData body={body} />\r\n      {msg && <AlertMsg msg={msg} setMsg={setMsg} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { asArray } from \"ol/color\";\r\n\r\nexport default function Query(props) {\r\n  const operators = [\"=\", \">\", \"<\", \">=\", \"<=\", \"<>\", \"ILIKE\"];\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [operator, setOperator] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props?.map?.getAllLayers().length - 1 !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (i != 0) {\r\n          d.push(item.get(\"title\"));\r\n        }\r\n      });\r\n      setLayrs(d);\r\n    }\r\n  }, [props.map, props.map.getAllLayers()]);\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = props?.body?.Data?.map((e) => {\r\n        return e.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (d !== -1) {\r\n        setlayerIndex(d);\r\n      }\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item.getSource().getFeatures();\r\n          if (features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function addToMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style?.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function resetMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getResetUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style?.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    if (operator === \"ILIKE\") {\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn} ${operator} '%${value}%'&outputFormat=json`;\r\n    } else\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn}${operator}'${value}'&outputFormat=json`;\r\n  }\r\n\r\n  function getResetUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    layer\r\n      .getSource()\r\n      .getFeatures()\r\n      .map((item) => {\r\n        const i = style.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(item.values_[style.column]);\r\n\r\n        if (i !== -1) {\r\n          item.setStyle(\r\n            new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: style.classes[i].color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.classes[i].color,\r\n                  width: 1,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: style.classes[i].color,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.classes[i].color,\r\n                width: 1,\r\n              }),\r\n            })\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"basic_styler\">\r\n        <h3>Query data</h3>\r\n        <hr />\r\n        <p>Select Layer</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-map\"></i>\r\n          <select\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              populateColumns(e.target.value);\r\n              setTitle(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Layer\">Select Layer</option>\r\n            {layrs.length > 0 &&\r\n              layrs.map((item, i) => {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              })}\r\n          </select>\r\n        </div>\r\n\r\n        <p>Select Column</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-bars\"></i>\r\n          <select\r\n            // value={lcolumn}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setLColumn(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Column</option>\r\n            {columns.length > 0 &&\r\n              columns.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Select Operator</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-percent\"></i>\r\n          <select\r\n            // value={operator}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setOperator(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Operator</option>\r\n            {operators.length > 0 &&\r\n              operators.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Your Input</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-search\"></i>\r\n          <input\r\n            className=\"query\"\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setValue(e.target.value);\r\n            }}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <p>{error}</p>\r\n        <div className=\"div2equal\">\r\n          <button\r\n            style={{ backgroundColor: \"orange\" }}\r\n            onClick={() => {\r\n              setOperator(\"Select Operator\");\r\n              setValue(\"\");\r\n              setLColumn(\"Select Column\");\r\n              resetMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-times \"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              addToMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-check \"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <i\r\n          onClick={() => {\r\n            props.setQuerySelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d;\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"../../Styles/NewInstancesPage.scss\";\r\nimport \"../../Styles/SingleInstancePage.scss\";\r\nimport TopPanel from \"../maps/TopPanel\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Graticule from \"ol/layer/Graticule\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport AlertMsg from \"../maps/AlertMsg\";\r\nimport View from \"ol/View\";\r\nimport XYZ from \"ol/source/XYZ\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport myData from \"../../assets/data/data\";\r\nimport Basemaps from \"../BaseMaps/Basemaps\";\r\nimport Text from \"ol/style/Text\";\r\nimport {\r\n  ScaleLine,\r\n  ZoomToExtent,\r\n  defaults as defaultControls,\r\n} from \"ol/control\";\r\nimport $ from \"jquery\";\r\nimport { fromLonLat } from \"ol/proj.js\";\r\nimport { useRef } from \"react\";\r\nimport RightPanel from \"../maps/RightPanel\";\r\nimport Data from \"../maps/SidePanel/Data\";\r\n// import RippleLoading from \"../Utils/RippleLoading\";\r\nimport MyStyler from \"../maps/SidePanel/Topo/MyStyler\";\r\nimport { Map } from \"ol\";\r\nimport { asArray } from \"ol/color\";\r\nimport Query from \"./Query\";\r\nimport PreviewData from \"../maps/PreviewData\";\r\nimport RippleLoading from \"../Utils/RippleLoading\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\n\r\nexport default function ThematicPreview(props) {\r\n  const parser = new WMTSCapabilities();\r\n  const headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n  let template = {\r\n    Title: \"\",\r\n    Category: \"\",\r\n    Description: \"\",\r\n    Thumbnail: \"\",\r\n    Dataset: \"\",\r\n    Keywords: \"\",\r\n    Owner: \"\",\r\n    Type: \"\",\r\n    Data: [],\r\n    Status: \"\",\r\n  };\r\n  const pathname = window.location.pathname.split(\"/\")[3];\r\n  const [body, setBody] = useState(template);\r\n  const [msg, setMsg] = useState(null);\r\n  const [basemap, setBasemap] = useState(new TileLayer({ title: \"Basemap\" }));\r\n  const [ke_counties, setke_counties] = useState(\r\n    new TileLayer({ title: \"Kenya Counties\" })\r\n  );\r\n  const [map, setMap] = useState(null);\r\n  const [dataSelector, setDataSelector] = useState(null);\r\n  const [styleSelector, setStyleSelector] = useState(null);\r\n  const mapElement = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selected, setSelected] = useState(3);\r\n  const [querySelector, setQuerySelector] = useState(null);\r\n  const [baseSelector, setBaseSelector] = useState(null);\r\n  const [extent, setExtent] = useState([\r\n    4153378.2713831086, -194668.47203224793, 4183418.0234991824,\r\n    -175024.15576295764,\r\n  ]);\r\n  const [graticule, setGraticule] = useState(\r\n    new Graticule({\r\n      strokeStyle: new Stroke({\r\n        color: \"rgba(0,0,0,0.5)\",\r\n        width: 0.7,\r\n      }),\r\n      latLabelStyle: new Text({\r\n        font: \"12px Calibri,sans-serif\",\r\n        textBaseline: \"bottom\",\r\n        fill: new Fill({\r\n          color: \"rgba(0,0,0,1)\",\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"rgba(255,255,255,1)\",\r\n          width: 3,\r\n        }),\r\n      }),\r\n      showLabels: true,\r\n      wrapX: false,\r\n      title: \"Grid\",\r\n    })\r\n  );\r\n  graticule.setZIndex(1000);\r\n  const [pChartImgUrl, setPChartImgUrl] = useState();\r\n  const [bChartImgUrl, setBChartImgUrl] = useState();\r\n\r\n  useEffect(() => {\r\n    basemap.setSource(\r\n      new XYZ({\r\n        url: myData[4].url,\r\n        crossOrigin: \"anonymous\",\r\n      })\r\n    );\r\n\r\n    fetch(\r\n      encodeURI(\r\n        `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n      ),\r\n      {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.text();\r\n      })\r\n      .then((text) => {\r\n        const result = parser.read(text);\r\n        const options = optionsFromCapabilities(result, {\r\n          layer: `OSL_Rasters:Kenya_Counties`,\r\n          matrixSet: \"EPSG:4326\",\r\n        });\r\n\r\n        ke_counties.setSource(new WMTS(options));\r\n      })\r\n      .catch((e) => {});\r\n\r\n    const initialMap = new Map({\r\n      controls: defaultControls().extend([\r\n        new ZoomToExtent({\r\n          extent: extent,\r\n        }),\r\n        new ScaleLine({\r\n          units: \"metric\",\r\n          bar: true,\r\n          text: \"Scale\",\r\n        }),\r\n      ]),\r\n      target: mapElement.current,\r\n      layers: [basemap, ke_counties, graticule],\r\n      renderer: \"canvas\",\r\n      view: new View({\r\n        projection: \"EPSG:3857\",\r\n        center: fromLonLat([37.44535766141879, -1.6602702925857802]),\r\n        zoom: 12,\r\n      }),\r\n    });\r\n\r\n    initialMap?.on(\"moveend\", function (e) {});\r\n\r\n    initialMap?.on(\"singleclick\", function (event) {\r\n      initialMap.forEachFeatureAtPixel(\r\n        event.pixel,\r\n        function (feature, layer) {}\r\n      );\r\n    });\r\n    setExtent(initialMap.getView().calculateExtent(initialMap.getSize()));\r\n    setMap(initialMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      fetch(`/api/data/${pathname}`, {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          let d = data;\r\n          d.Data = JSON.parse(d.Data);\r\n          setBody(d);\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [map]);\r\n\r\n  useEffect(() => {\r\n    async function loadAllData() {\r\n      if (body?.Data?.length > 0) {\r\n        for (const item of body.Data) {\r\n          await loadData(item);\r\n        }\r\n      }\r\n    }\r\n\r\n    loadAllData();\r\n  }, [body?.Data?.length]);\r\n\r\n  async function loadData(item) {\r\n    setIsLoading(true);\r\n    let dataType = \"\";\r\n    const dt = await fetch(\r\n      `/geoserver/rest/layers/${item?.url.split(\":\")[1]}.json`,\r\n      {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      }\r\n    ).then((res) => {\r\n      if (res.ok) return res.json();\r\n    });\r\n    dataType = dt?.layer?.type;\r\n    if (dataType === \"RASTER\") {\r\n      await fetch(\r\n        encodeURI(\r\n          `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n        ),\r\n        {\r\n          method: \"get\",\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\"Could not fetch messages!!!\");\r\n          }\r\n          return res.text();\r\n        })\r\n        .then((text) => {\r\n          const result = parser.read(text);\r\n          const options = optionsFromCapabilities(result, {\r\n            layer: `${item.url.split(\":\")[0]}:${item.url.split(\":\")[1]}`,\r\n            matrixSet: \"EPSG:900913\",\r\n          });\r\n\r\n          const pic = new TileLayer({\r\n            title: item.url.split(\":\")[1],\r\n            opacity: 1,\r\n            source: new WMTS(options),\r\n          });\r\n          map.addLayer(pic);\r\n          map.getView().fit(options.tileGrid.getExtent(), {\r\n            padding: [100, 100, 100, 100],\r\n          });\r\n          setIsLoading(false);\r\n        })\r\n        .catch((e) => {});\r\n    } else setIsLoading(false);\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (item.values_[style.column] == e.name) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function getUrl(url, filters) {\r\n    if (!filters) {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n    } else {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&${filters}&outputFormat=json`;\r\n    }\r\n  }\r\n\r\n  const printMap = () => {\r\n    map.once(\"rendercomplete\", function () {\r\n      const mapCanvas = document.createElement(\"canvas\");\r\n      const size = map.getSize();\r\n      mapCanvas.width = size[0];\r\n      mapCanvas.height = size[1];\r\n      const mapContext = mapCanvas.getContext(\"2d\");\r\n      Array.prototype.forEach.call(\r\n        map.getViewport().querySelectorAll(\".ol-layer canvas, canvas.ol-layer\"),\r\n        function (canvas) {\r\n          if (canvas.width > 0) {\r\n            const opacity =\r\n              canvas.parentNode.style.opacity || canvas.style.opacity;\r\n            mapContext.globalAlpha = opacity === \"\" ? 1 : Number(opacity);\r\n            let matrix;\r\n            const transform = canvas.style.transform;\r\n            if (transform) {\r\n              // Get the transform parameters from the style's transform matrix\r\n              matrix = transform\r\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n                .split(\",\")\r\n                .map(Number);\r\n            } else {\r\n              matrix = [\r\n                parseFloat(canvas.style.width) / canvas.width,\r\n                0,\r\n                0,\r\n                parseFloat(canvas.style.height) / canvas.height,\r\n                0,\r\n                0,\r\n              ];\r\n            }\r\n            // Apply the transform to the export map context\r\n            CanvasRenderingContext2D.prototype.setTransform.apply(\r\n              mapContext,\r\n              matrix\r\n            );\r\n            const backgroundColor = canvas.parentNode.style.backgroundColor;\r\n            if (backgroundColor) {\r\n              mapContext.fillStyle = backgroundColor;\r\n              mapContext.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n            mapContext.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n      );\r\n      mapContext.globalAlpha = 1;\r\n      mapContext.setTransform(1, 0, 0, 1, 0, 0);\r\n\r\n      var link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", mapCanvas.toDataURL());\r\n      link.setAttribute(\"download\", \"map.png\");\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    });\r\n    map.renderSync();\r\n    populateDownload();\r\n  };\r\n\r\n  // register screenshot as a download\r\n  const populateDownload = () => {\r\n    let d = {\r\n      Download: body.Title,\r\n      Category: body.Category,\r\n      Theme: \"BaseMaps\",\r\n      DownloadID: pathname,\r\n      GeoserverURL: body.Data[0].url,\r\n      Type: \"Screenshot\",\r\n      OtherInfo: body.Owner,\r\n    };\r\n    fetch(`/api/downloads/create`, {\r\n      method: \"post\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(d),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"Download not created\");\r\n      })\r\n      .then((data) => {\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"NewInstancesPage\">\r\n      <div className=\"map\">\r\n        <div\r\n          ref={mapElement}\r\n          style={{ width: \"100%\", height: \"90vh\" }}\r\n          id=\"map\"\r\n        ></div>\r\n        {isLoading && <RippleLoading />}\r\n        <div\r\n          onClick={() => {\r\n            setBaseSelector(true);\r\n          }}\r\n          className=\"base_selector\"\r\n        >\r\n          <i className=\"fa fa-map\"></i>\r\n        </div>\r\n        <div className=\"download\">\r\n          <div>\r\n            <a\r\n              onClick={() => {\r\n                printMap();\r\n              }}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fa fa-camera\"></i> Screenshot\r\n            </a>\r\n          </div>\r\n        </div>\r\n        {baseSelector && (\r\n          <Basemaps\r\n            setBaseSelector={setBaseSelector}\r\n            basemap={basemap}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n          />\r\n        )}\r\n        <RightPanel\r\n          map={map}\r\n          body={body}\r\n          setBody={setBody}\r\n          pChartImgUrl={pChartImgUrl}\r\n          setPChartImgUrl={setPChartImgUrl}\r\n          bChartImgUrl={bChartImgUrl}\r\n          setBChartImgUrl={setBChartImgUrl}\r\n        />\r\n        <TopPanel\r\n          dataSelector={dataSelector}\r\n          setDataSelector={setDataSelector}\r\n          setStyleSelector={setStyleSelector}\r\n          setQuerySelector={setQuerySelector}\r\n          preview={true}\r\n        />\r\n        {dataSelector && (\r\n          <Data\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setDataSelector={setDataSelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {querySelector && body && (\r\n          <Query\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setQuerySelector={setQuerySelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {styleSelector && (\r\n          <MyStyler\r\n            map={map}\r\n            setStyleSelector={setStyleSelector}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n      </div>\r\n      <PreviewData body={body} />\r\n      {msg && <AlertMsg msg={msg} setMsg={setMsg} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { asArray } from \"ol/color\";\r\n\r\nexport default function Query(props) {\r\n  const operators = [\"=\", \">\", \"<\", \">=\", \"<=\", \"<>\", \"ILIKE\"];\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [operator, setOperator] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props?.map?.getAllLayers().length - 1 !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (i != 0) {\r\n          d.push(item.get(\"title\"));\r\n        }\r\n      });\r\n      setLayrs(d);\r\n    }\r\n  }, [props.map, props.map.getAllLayers()]);\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = props?.body?.Data?.map((e) => {\r\n        return e.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (d !== -1) {\r\n        setlayerIndex(d);\r\n      }\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          const features = item.getSource().getFeatures();\r\n          if (features.length > 0) {\r\n            setColumns(Object.keys(features[0].values_));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function addToMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style?.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function resetMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getResetUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style?.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style?.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    if (operator === \"ILIKE\") {\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn} ${operator} '%${value}%'&outputFormat=json`;\r\n    } else\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn}${operator}'${value}'&outputFormat=json`;\r\n  }\r\n\r\n  function getResetUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    layer\r\n      .getSource()\r\n      .getFeatures()\r\n      .map((item) => {\r\n        const i = style.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(item.values_[style.column]);\r\n\r\n        if (i !== -1) {\r\n          item.setStyle(\r\n            new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: style.classes[i].color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.classes[i].color,\r\n                  width: 1,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: style.classes[i].color,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.classes[i].color,\r\n                width: 1,\r\n              }),\r\n            })\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"basic_styler\">\r\n        <h3>Query data</h3>\r\n        <hr />\r\n        <p>Select Layer</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-map\"></i>\r\n          <select\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              populateColumns(e.target.value);\r\n              setTitle(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Layer\">Select Layer</option>\r\n            {layrs.length > 0 &&\r\n              layrs.map((item, i) => {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              })}\r\n          </select>\r\n        </div>\r\n\r\n        <p>Select Column</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-bars\"></i>\r\n          <select\r\n            // value={lcolumn}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setLColumn(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Column</option>\r\n            {columns.length > 0 &&\r\n              columns.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Select Operator</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-percent\"></i>\r\n          <select\r\n            // value={operator}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setOperator(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Operator</option>\r\n            {operators.length > 0 &&\r\n              operators.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Your Input</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-search\"></i>\r\n          <input\r\n            className=\"query\"\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setValue(e.target.value);\r\n            }}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <p>{error}</p>\r\n        <div className=\"div2equal\">\r\n          <button\r\n            style={{ backgroundColor: \"orange\" }}\r\n            onClick={() => {\r\n              setOperator(\"Select Operator\");\r\n              setValue(\"\");\r\n              setLColumn(\"Select Column\");\r\n              resetMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-times \"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              addToMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-check \"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <i\r\n          onClick={() => {\r\n            props.setQuerySelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d;\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"../../Styles/NewInstancesPage.scss\";\r\nimport TopPanel from \"../maps/TopPanel\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Graticule from \"ol/layer/Graticule\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport AlertMsg from \"../maps/AlertMsg\";\r\nimport View from \"ol/View\";\r\nimport XYZ from \"ol/source/XYZ\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport myData from \"../../assets/data/data\";\r\nimport Basemaps from \"../BaseMaps/Basemaps\";\r\nimport Text from \"ol/style/Text\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\nimport { RegularShape } from \"ol/style.js\";\r\n\r\nimport {\r\n  ScaleLine,\r\n  ZoomToExtent,\r\n  defaults as defaultControls,\r\n} from \"ol/control\";\r\nimport $ from \"jquery\";\r\nimport { fromLonLat } from \"ol/proj.js\";\r\nimport { useRef } from \"react\";\r\nimport RightPanel from \"../maps/RightPanel\";\r\nimport Data from \"../maps/SidePanel/Data\";\r\nimport RippleLoading from \"../Utils/RippleLoading\";\r\nimport MyStyler from \"../maps/SidePanel/Topo/MyStyler\";\r\nimport { Map } from \"ol\";\r\nimport { asArray } from \"ol/color\";\r\nimport Query from \"./Query\";\r\nimport PreviewData from \"../maps/PreviewData\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport Popup from \"./Popup\";\r\nimport TimeSeriesData from \"./TimeSeriesData\";\r\n\r\nexport default function TimeSeriesPreview(props) {\r\n  const parser = new WMTSCapabilities();\r\n  let template = {\r\n    Title: \"\",\r\n    Category: \"Thematic Map\",\r\n    Description: \"\",\r\n    Thumbnail: \"\",\r\n    Dataset: \"\",\r\n    Keywords: \"\",\r\n    Owner: \"\",\r\n    Type: \"\",\r\n    Data: [],\r\n    Status: \"\",\r\n  };\r\n  const pathname = window.location.pathname.split(\"/\")[3];\r\n  const [body, setBody] = useState(template);\r\n  const [msg, setMsg] = useState(null);\r\n  const [basemap, setBasemap] = useState(new TileLayer({ title: \"Basemap\" }));\r\n  const [ke_counties, setke_counties] = useState(\r\n    new TileLayer({ title: \"Kenya Counties\" })\r\n  );\r\n  const [map, setMap] = useState(null);\r\n  const [dataSelector, setDataSelector] = useState(null);\r\n  const [styleSelector, setStyleSelector] = useState(null);\r\n  const mapElement = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selected, setSelected] = useState(3);\r\n\r\n  const [timeSeriesData, setTimeSeriesData] = useState([]);\r\n  const [timeSeries, setTimeSeries] = useState([]);\r\n  const [dates, setDates] = useState([]);\r\n  const [active, setActive] = useState(0);\r\n\r\n  const [popup, setPopup] = useState(null);\r\n  const [querySelector, setQuerySelector] = useState(null);\r\n  const [baseSelector, setBaseSelector] = useState(null);\r\n  const [extent, setExtent] = useState([\r\n    3774864.0391037, -526481.967965136, 4665413.10605419, 514854.269936751,\r\n  ]);\r\n  const [graticule, setGraticule] = useState(\r\n    new Graticule({\r\n      strokeStyle: new Stroke({\r\n        color: \"rgba(0,0,0,0.5)\",\r\n        width: 0.7,\r\n      }),\r\n      latLabelStyle: new Text({\r\n        font: \"12px Calibri,sans-serif\",\r\n        textBaseline: \"bottom\",\r\n        fill: new Fill({\r\n          color: \"rgba(0,0,0,1)\",\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"rgba(255,255,255,1)\",\r\n          width: 3,\r\n        }),\r\n      }),\r\n      showLabels: true,\r\n      wrapX: false,\r\n      title: \"Grid\",\r\n    })\r\n  );\r\n  graticule.setZIndex(1000);\r\n  const [pChartImgUrl, setPChartImgUrl] = useState();\r\n  const [bChartImgUrl, setBChartImgUrl] = useState();\r\n  const headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n\r\n  useEffect(() => {\r\n    basemap.setSource(\r\n      new XYZ({\r\n        url: myData[3].url,\r\n        crossOrigin: \"anonymous\",\r\n      })\r\n    );\r\n\r\n    fetch(\r\n      encodeURI(\r\n        `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n      ),\r\n      {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.text();\r\n      })\r\n      .then((text) => {\r\n        const result = parser.read(text);\r\n        const options = optionsFromCapabilities(result, {\r\n          layer: `OSL_Rasters:Kenya_Counties`,\r\n          matrixSet: \"EPSG:4326\",\r\n        });\r\n\r\n        ke_counties.setSource(new WMTS(options));\r\n      })\r\n      .catch((e) => {});\r\n\r\n    const initialMap = new Map({\r\n      controls: defaultControls().extend([\r\n        new ZoomToExtent({\r\n          extent: extent,\r\n        }),\r\n        new ScaleLine({\r\n          units: \"metric\",\r\n          bar: true,\r\n          text: \"Scale\",\r\n        }),\r\n      ]),\r\n      target: mapElement.current,\r\n      layers: [basemap, ke_counties, graticule],\r\n      renderer: \"canvas\",\r\n      view: new View({\r\n        projection: \"EPSG:3857\",\r\n        center: fromLonLat([37.9062, -0.0236], \"EPSG:3857\"),\r\n        zoom: 6,\r\n      }),\r\n    });\r\n\r\n    initialMap?.on(\"moveend\", function (e) {});\r\n\r\n    initialMap.on(\"click\", function (ev) {\r\n      initialMap.forEachFeatureAtPixel(ev.pixel, function (feature) {\r\n        setPopup(feature.values_);\r\n        return true;\r\n      });\r\n    });\r\n\r\n    // initialMap?.on(\"singleclick\", function (event) {\r\n    //   initialMap.forEachFeatureAtPixel(\r\n    //     event.pixel,\r\n    //     function (feature, layer) {\r\n    //       setPopup(feature.values_);\r\n    //     }\r\n    //   );\r\n    // });\r\n\r\n    setExtent(initialMap.getView().calculateExtent(initialMap.getSize()));\r\n    setMap(initialMap);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      fetch(`/api/data/${pathname}`, {\r\n        method: \"get\",\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          let d = data;\r\n          d.Data = JSON.parse(d.Data);\r\n          setBody(d);\r\n        })\r\n        .catch((err) => {});\r\n    }\r\n  }, [map]);\r\n\r\n  useEffect(() => {\r\n    async function loadAllData() {\r\n      if (body?.Data?.length > 0) {\r\n        for (const item of body.Data) {\r\n          addToSeries(\r\n            item.date,\r\n            item.url.split(\":\")[0],\r\n            item.url.split(\":\")[1]\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    loadAllData();\r\n  }, [body?.Data?.length]);\r\n\r\n  async function loadData(item) {\r\n    setIsLoading(true);\r\n    let dataType = \"\";\r\n    const dt = await fetch(\r\n      `/geoserver/rest/layers/${item?.url.split(\":\")[1]}.json`,\r\n      {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      }\r\n    ).then((res) => {\r\n      if (res.ok) return res.json();\r\n    });\r\n    dataType = dt?.layer?.type;\r\n    if (dataType === \"RASTER\") {\r\n      await fetch(\r\n        encodeURI(\r\n          `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n        ),\r\n        {\r\n          method: \"get\",\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\"Could not fetch messages!!!\");\r\n          }\r\n          return res.text();\r\n        })\r\n        .then((text) => {\r\n          const result = parser.read(text);\r\n          const options = optionsFromCapabilities(result, {\r\n            layer: `${item.url.split(\":\")[0]}:${item.url.split(\":\")[1]}`,\r\n            matrixSet: \"EPSG:900913\",\r\n          });\r\n\r\n          const pic = new TileLayer({\r\n            title: item.url.split(\":\")[1],\r\n            opacity: 1,\r\n            source: new WMTS(options),\r\n          });\r\n          map.addLayer(pic);\r\n          map.getView().fit(options.tileGrid.getExtent(), {\r\n            padding: [100, 100, 100, 100],\r\n          });\r\n          setIsLoading(false);\r\n        })\r\n        .catch((e) => {});\r\n    } else if (dataType === \"VECTOR\") {\r\n      setIsLoading(true);\r\n      var response = await $.ajax({\r\n        url: encodeURI(getUrl(item.url)),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          setIsLoading(false);\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        setIsLoading(false);\r\n        if (data.features.length !== 0) {\r\n          const vector = new VectorLayer({\r\n            title: item.url.split(\":\")[1],\r\n            source: new VectorSource({\r\n              features: new GeoJSON({}).readFeatures(data, {\r\n                featureProjection: map.getView().getProjection(),\r\n              }),\r\n            }),\r\n          });\r\n          setExtent(vector.getSource().getExtent());\r\n          map.getView().fit(vector.getSource().getExtent(), {\r\n            padding: [50, 50, 50, 50],\r\n          });\r\n          if (item.style.type === \"Basic\") {\r\n            if (item.style.fill) {\r\n              vector.setStyle(fillStyle(vector, item.style));\r\n            } else {\r\n              vector.setStyle(fillNoStyle(vector, item.style));\r\n            }\r\n          } else if (item.style.type === \"Unique\") {\r\n            vector.setStyle(uniqueStyle(vector, item.style));\r\n          } else if (item.style.type === \"Range\") {\r\n            vector.setStyle(rangeStyle(vector, item.style));\r\n          }\r\n          map.addLayer(vector);\r\n        }\r\n      });\r\n    } else setIsLoading(false);\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function fillNoStyle(radius, fill, stroke, shape) {\r\n    let p = 0;\r\n    let a = 0;\r\n    let r = 0;\r\n    switch (shape) {\r\n      case \"circle\":\r\n        p = 1;\r\n        a = 0;\r\n        break;\r\n      case \"square\":\r\n        p = 4;\r\n        a = Math.PI / 4;\r\n        break;\r\n      case \"triangle\":\r\n        p = 3;\r\n        a = 0;\r\n        r = Math.PI / 4;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return new Style({\r\n      image:\r\n        shape == \"circle\"\r\n          ? new Circle({\r\n              radius: radius,\r\n              fill: new Fill({\r\n                color: fill,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: stroke,\r\n                width: 1,\r\n              }),\r\n            })\r\n          : new RegularShape({\r\n              radius: radius,\r\n              points: p,\r\n              angle: a,\r\n              rotation: r,\r\n              fill: new Fill({\r\n                color: fill,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: stroke,\r\n                width: 1,\r\n              }),\r\n            }),\r\n      fill: new Fill({\r\n        color: fill,\r\n      }),\r\n      stroke: new Stroke({\r\n        color: stroke,\r\n        width: 1,\r\n      }),\r\n    });\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (item.values_[style.column] == e.name) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function getUrl(url, filters) {\r\n    if (!filters) {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n    } else {\r\n      return `/geoserver/${\r\n        url.split(\":\")[0]\r\n      }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&${filters}&outputFormat=json`;\r\n    }\r\n  }\r\n\r\n  const printMap = () => {\r\n    map.once(\"rendercomplete\", function () {\r\n      const mapCanvas = document.createElement(\"canvas\");\r\n      const size = map.getSize();\r\n      mapCanvas.width = size[0];\r\n      mapCanvas.height = size[1];\r\n      const mapContext = mapCanvas.getContext(\"2d\");\r\n      Array.prototype.forEach.call(\r\n        map.getViewport().querySelectorAll(\".ol-layer canvas, canvas.ol-layer\"),\r\n        function (canvas) {\r\n          if (canvas.width > 0) {\r\n            const opacity =\r\n              canvas.parentNode.style.opacity || canvas.style.opacity;\r\n            mapContext.globalAlpha = opacity === \"\" ? 1 : Number(opacity);\r\n            let matrix;\r\n            const transform = canvas.style.transform;\r\n            if (transform) {\r\n              // Get the transform parameters from the style's transform matrix\r\n              matrix = transform\r\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\r\n                .split(\",\")\r\n                .map(Number);\r\n            } else {\r\n              matrix = [\r\n                parseFloat(canvas.style.width) / canvas.width,\r\n                0,\r\n                0,\r\n                parseFloat(canvas.style.height) / canvas.height,\r\n                0,\r\n                0,\r\n              ];\r\n            }\r\n            // Apply the transform to the export map context\r\n            CanvasRenderingContext2D.prototype.setTransform.apply(\r\n              mapContext,\r\n              matrix\r\n            );\r\n            const backgroundColor = canvas.parentNode.style.backgroundColor;\r\n            if (backgroundColor) {\r\n              mapContext.fillStyle = backgroundColor;\r\n              mapContext.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n            mapContext.drawImage(canvas, 0, 0);\r\n          }\r\n        }\r\n      );\r\n      mapContext.globalAlpha = 1;\r\n      mapContext.setTransform(1, 0, 0, 1, 0, 0);\r\n\r\n      var link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", mapCanvas.toDataURL());\r\n      link.setAttribute(\"download\", \"map.png\");\r\n      document.body.appendChild(link);\r\n\r\n      link.click();\r\n    });\r\n    map.renderSync();\r\n  };\r\n\r\n  useEffect(() => {\r\n    let DataArr = timeSeriesData;\r\n\r\n    let DatesArr = [];\r\n    let timeSeriesDict = {};\r\n    Array.isArray(DataArr) &&\r\n      DataArr.forEach((element) => {\r\n        let tar = element.split(\":\");\r\n        DatesArr.push(tar[0]);\r\n        timeSeriesDict[tar[0].toString()] = `${tar[1]}:${tar[2]}`;\r\n      });\r\n    DatesArr = DatesArr.sort();\r\n    setDates(DatesArr);\r\n    // setActive(DatesArr.indexOf(DatesArr[0]))\r\n    setTimeSeries(timeSeriesDict);\r\n\r\n    // setBody((curr) => {\r\n    //   return ({ ...curr, Data: timeSeriesData })\r\n    // })\r\n  }, [timeSeriesData]);\r\n\r\n  const addToSeries = (val0, val1, val2) => {\r\n    setTimeSeriesData((curr) => {\r\n      if (curr.includes(`${val0}:${val1}:${val2}`)) {\r\n        return curr;\r\n      } else {\r\n        return [...curr, `${val0}:${val1}:${val2}`];\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"NewInstancesPage\">\r\n      <div className=\"map\">\r\n        <div\r\n          ref={mapElement}\r\n          style={{ width: \"100%\", height: \"80vh\" }}\r\n          id=\"map\"\r\n        ></div>\r\n        {popup && <Popup data={popup} setPopup={setPopup} />}\r\n        {isLoading && <RippleLoading />}\r\n        <div\r\n          onClick={() => {\r\n            setBaseSelector(true);\r\n          }}\r\n          className=\"base_selector\"\r\n        >\r\n          <i className=\"fa fa-map\"></i>\r\n        </div>\r\n        <div className=\"download\">\r\n          <div>\r\n            <a\r\n              onClick={() => {\r\n                printMap();\r\n              }}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fa fa-camera\"></i> Screenshot\r\n            </a>\r\n          </div>\r\n        </div>\r\n        {baseSelector && (\r\n          <Basemaps\r\n            setBaseSelector={setBaseSelector}\r\n            basemap={basemap}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n          />\r\n        )}\r\n        <RightPanel\r\n          map={map}\r\n          body={body}\r\n          setBody={setBody}\r\n          setIsLoading={setIsLoading}\r\n          pChartImgUrl={pChartImgUrl}\r\n          setPChartImgUrl={setPChartImgUrl}\r\n          bChartImgUrl={bChartImgUrl}\r\n          setBChartImgUrl={setBChartImgUrl}\r\n        />\r\n        <TopPanel\r\n          dataSelector={dataSelector}\r\n          setDataSelector={setDataSelector}\r\n          setStyleSelector={setStyleSelector}\r\n          setQuerySelector={setQuerySelector}\r\n          preview={true}\r\n        />\r\n        <TimeSeriesData\r\n          map={map}\r\n          setIsLoading={setIsLoading}\r\n          dataSelector={dataSelector}\r\n          setDataSelector={setDataSelector}\r\n          setExtent={setExtent}\r\n          body={body}\r\n          setBody={setBody}\r\n          addToSeries={addToSeries}\r\n          timeSeriesData={timeSeriesData}\r\n          active={active}\r\n          dates={dates}\r\n          setActive={setActive}\r\n          loadData={loadData}\r\n        />\r\n        {querySelector && (\r\n          <Query\r\n            map={map}\r\n            setIsLoading={setIsLoading}\r\n            setQuerySelector={setQuerySelector}\r\n            setExtent={setExtent}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n        {styleSelector && (\r\n          <MyStyler\r\n            map={map}\r\n            setStyleSelector={setStyleSelector}\r\n            body={body}\r\n            setBody={setBody}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"attribute\">\r\n        <PreviewData body={body} />\r\n      </div>\r\n      {msg && <AlertMsg msg={msg} setMsg={setMsg} />}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { asArray } from \"ol/color\";\r\n\r\nexport default function Query(props) {\r\n  const operators = [\"=\", \">\", \"<\", \">=\", \"<=\", \"<>\", \"ILIKE\"];\r\n  const [layrs, setLayrs] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [layerIndex, setlayerIndex] = useState(-1);\r\n  const [columns, setColumns] = useState([]);\r\n  const [lcolumn, setLColumn] = useState(\"\");\r\n  const [operator, setOperator] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props?.map?.getAllLayers().length - 1 !== layrs.length) {\r\n      let d = [];\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item instanceof VectorLayer) {\r\n          if (i != 0) {\r\n            d.push(item.get(\"title\"));\r\n          }\r\n        }\r\n      });\r\n      setLayrs(d);\r\n    }\r\n  }, [props.map, props?.map?.getAllLayers()]);\r\n\r\n  function populateColumns(title) {\r\n    if (props?.map?.getAllLayers()?.length !== layrs.length) {\r\n      let d = props?.body?.Data?.map((e) => {\r\n        return e.url.split(\":\")[1];\r\n      }).indexOf(title);\r\n      if (d !== -1) {\r\n        setlayerIndex(d);\r\n      }\r\n      props.map?.getAllLayers().map((item, i) => {\r\n        if (item.get(\"title\") === title) {\r\n          if (item instanceof VectorLayer) {\r\n            const features = item.getSource().getFeatures();\r\n            if (features.length > 0) {\r\n              setColumns(Object.keys(features[0].values_));\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function addToMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function resetMap() {\r\n    setError(\"\");\r\n    if (layerIndex !== -1 && value !== \"\" && operator !== \"\") {\r\n      props.setIsLoading(true);\r\n      var response = $.ajax({\r\n        url: encodeURI(\r\n          getResetUrl(\r\n            props.body.Data[layerIndex].url.split(\":\")[0],\r\n            props.body.Data[layerIndex].url.split(\":\")[1]\r\n          )\r\n        ),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n          setError(\"Oops! Something went wrong\");\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        setError(\"Items returned: \" + data.features.length);\r\n        if (data.features.length !== 0) {\r\n          const i = props.map\r\n            .getAllLayers()\r\n            .map((e) => {\r\n              return e.get(\"title\");\r\n            })\r\n            .indexOf(title);\r\n\r\n          if (i !== -1) {\r\n            props.map.getAllLayers()[i].setSource(\r\n              new VectorSource({\r\n                features: new GeoJSON({}).readFeatures(response.responseJSON, {\r\n                  featureProjection: props.map.getView().getProjection(),\r\n                }),\r\n              })\r\n            );\r\n            props.setExtent(\r\n              props.map.getAllLayers()[i].getSource().getExtent()\r\n            );\r\n            props.map\r\n              .getView()\r\n              .fit(props.map.getAllLayers()[i].getSource().getExtent(), {\r\n                padding: [50, 50, 50, 50],\r\n              });\r\n            let d = props?.body?.Data?.map((e) => {\r\n              return e.url.split(\":\")[1];\r\n            }).indexOf(title);\r\n            if (d !== -1) {\r\n              if (props.body.Data[d].style.type === \"Basic\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    fillStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Unique\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    uniqueStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              } else if (props.body.Data[d].style.type === \"Range\") {\r\n                props.map\r\n                  .getAllLayers()\r\n                  [i].setStyle(\r\n                    rangeStyle(\r\n                      props.map.getAllLayers()[i],\r\n                      props.body.Data[d].style\r\n                    )\r\n                  );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    if (operator === \"ILIKE\") {\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn} ${operator} '%${value}%'&outputFormat=json`;\r\n    } else\r\n      return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&CQL_FILTER=${lcolumn}${operator}'${value}'&outputFormat=json`;\r\n  }\r\n\r\n  function getResetUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  function fillStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    layer\r\n      .getSource()\r\n      .getFeatures()\r\n      .map((item) => {\r\n        const i = style.classes\r\n          .map((e) => {\r\n            return e.name;\r\n          })\r\n          .indexOf(item.values_[style.column]);\r\n\r\n        if (i !== -1) {\r\n          item.setStyle(\r\n            new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: style.classes[i].color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.classes[i].color,\r\n                  width: 1,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: style.classes[i].color,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.classes[i].color,\r\n                width: 1,\r\n              }),\r\n            })\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"data_popup\">\r\n      <div className=\"basic_styler\">\r\n        <h3>Query data</h3>\r\n        <hr />\r\n        <p>Select Layer</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-map\"></i>\r\n          <select\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              populateColumns(e.target.value);\r\n              setTitle(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Layer\">Select Layer</option>\r\n            {layrs.length > 0 &&\r\n              layrs.map((item, i) => {\r\n                return (\r\n                  <option key={i} value={item}>\r\n                    {item}\r\n                  </option>\r\n                );\r\n              })}\r\n          </select>\r\n        </div>\r\n\r\n        <p>Select Column</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-bars\"></i>\r\n          <select\r\n            // value={lcolumn}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setLColumn(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Column</option>\r\n            {columns.length > 0 &&\r\n              columns.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Select Operator</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-percent\"></i>\r\n          <select\r\n            // value={operator}\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setOperator(e.target.value);\r\n            }}\r\n            name=\"\"\r\n            id=\"\"\r\n          >\r\n            <option value=\"Select Column\">Select Operator</option>\r\n            {operators.length > 0 &&\r\n              operators.map((item, i) => {\r\n                if (item !== \"geometry\") {\r\n                  return (\r\n                    <option key={i} value={item}>\r\n                      {item}\r\n                    </option>\r\n                  );\r\n                }\r\n              })}\r\n          </select>\r\n        </div>\r\n        <p>Your Input</p>\r\n        <div className=\"row\">\r\n          <i className=\"fa fa-search\"></i>\r\n          <input\r\n            className=\"query\"\r\n            onChange={(e) => {\r\n              setError(\"\");\r\n              setValue(e.target.value);\r\n            }}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <p>{error}</p>\r\n        <div className=\"div2equal\">\r\n          <button\r\n            style={{ backgroundColor: \"orange\" }}\r\n            onClick={() => {\r\n              setOperator(\"Select Operator\");\r\n              setValue(\"\");\r\n              setLColumn(\"Select Column\");\r\n              resetMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-times \"></i>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              addToMap();\r\n            }}\r\n          >\r\n            <i className=\"fa fa-check \"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <i\r\n          onClick={() => {\r\n            props.setQuerySelector(null);\r\n          }}\r\n          className=\"fa fa-close\"\r\n        >\r\n          &#xf00d;\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function Popup(props) {\r\n  const [cols, setCols] = useState(null);\r\n  const pp = useRef();\r\n\r\n  useEffect(() => {\r\n    if (props.data) {\r\n   \r\n      let d = props.data;\r\n      delete d.geometry;\r\n      const c = Object.keys(d);\r\n      setCols(c);\r\n    }\r\n  }, [props.data]);\r\n\r\n  return (\r\n    <div ref={pp} className=\"popup\">\r\n      <div className=\"container\">\r\n        <i\r\n          className=\"fa fa-times\"\r\n          onClick={() => {\r\n            pp.current.classList.add(`zoom_out`);\r\n            setTimeout(() => {\r\n              props.setPopup(null);\r\n            }, 1000);\r\n          }}\r\n        ></i>\r\n        <h3>Feature Details</h3>\r\n        {/* <hr /> */}\r\n        <div className=\"div2equal\">\r\n          {cols &&\r\n            cols.map((e) => {\r\n              return (\r\n                <p>\r\n                  <b>{e.charAt(0).toUpperCase() + e.slice(1)}: </b>\r\n                  {props.data[e]}\r\n                </p>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport $, { error } from \"jquery\";\r\nimport GeoJSON from \"ol/format/GeoJSON\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport TileLayer from \"ol/layer/WebGLTile.js\";\r\nimport Circle from \"ol/style/Circle\";\r\nimport Style from \"ol/style/Style\";\r\nimport Fill from \"ol/style/Fill\";\r\nimport Stroke from \"ol/style/Stroke\";\r\nimport { get as getProjection } from \"ol/proj.js\";\r\nimport { getWidth } from \"ol/extent.js\";\r\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities.js\";\r\nimport { RegularShape } from \"ol/style.js\";\r\nimport WMTS, { optionsFromCapabilities } from \"ol/source/WMTS.js\";\r\nimport TimeSeriesSlider from \"./TimeSeriesSlider\";\r\nimport { asArray } from \"ol/color\";\r\n\r\nexport default function TimeSeriesData(props) {\r\n  var XMLParser = require(\"react-xml-parser\");\r\n  const [inputDate, setInputDate] = useState()\r\n\r\n  const [timeSeriesData, setTimeSeriesData] = useState([])\r\n  const [timeSeries, setTimeSeries] = useState([])\r\n\r\n  const parser = new WMTSCapabilities();\r\n  const [workspaces, setWorkspaces] = useState([]);\r\n  const [layers, setLayers] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [selectedLayer, setSelectedLayer] = useState(null);\r\n  const projection = getProjection(\"EPSG:900913\");\r\n  const projectionExtent = projection.getExtent();\r\n  const size = getWidth(projectionExtent) / 256;\r\n  const resolutions = new Array(14);\r\n  const matrixIds = new Array(14);\r\n  for (let z = 0; z < 14; ++z) {\r\n    resolutions[z] = size / Math.pow(2, z + 1);\r\n    matrixIds[z] = \"EPSG:900913:\" + z;\r\n  }\r\n\r\n  let dataType = \"\";\r\n  let headers = {\r\n    Authorization: `Basic ${Buffer.from(\"admin:geoserver\", \"utf-8\").toString(\r\n      \"base64\"\r\n    )}`,\r\n  };\r\n\r\n  const removeFromSeries = (val) => {\r\n    setTimeSeriesData((curr) => {\r\n      curr.pop(val)\r\n      return (curr)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.body.Data.length > 0) {\r\n      if (props.active >= 0 && props.active < props.body.Data.length) {\r\n        loadData(props.body.Data[props.active])\r\n      } else {\r\n        loadData(props.body.Data[props.body.Data.length - 1])\r\n      }\r\n    }\r\n  }, [props.body])\r\n\r\n  const nextProduct = (target) => {\r\n    if (target < props.body.Data.length - 1) {\r\n      removeLayersExcept(['Basemap', 'Kenya Counties', 'Grid']);\r\n      let active = target + 1\r\n\r\n      if (props.body.Data[active] != null) {\r\n        props.setActive(active)\r\n        loadData(props.body.Data[active]);\r\n      }\r\n    }\r\n  }\r\n\r\n  const showCurrent = (target) => {\r\n    if (target < props.body.Data.length) {\r\n      removeLayersExcept(['Basemap', 'Kenya Counties', 'Grid']);\r\n      if (props.body.Data[target] != null) {\r\n        props.setActive(target)\r\n        loadData(props.body.Data[target]);\r\n      }\r\n    }\r\n  }\r\n\r\n  async function loadData(item) {\r\n    props.setIsLoading(true);\r\n    let dataType = \"\";\r\n    const dt = await fetch(\r\n      `/geoserver/rest/layers/${item?.url.split(\":\")[1]}.json`,\r\n      {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      }\r\n    ).then((res) => {\r\n      if (res.ok) return res.json();\r\n    });\r\n    dataType = dt?.layer?.type;\r\n    if (dataType === \"RASTER\") {\r\n      await fetch(\r\n        encodeURI(\r\n          `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n        ),\r\n        {\r\n          method: \"get\",\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\"Could not fetch messages!!!\");\r\n          }\r\n          return res.text();\r\n        })\r\n        .then((text) => {\r\n          const result = parser.read(text);\r\n          const options = optionsFromCapabilities(result, {\r\n            layer: `${item.url.split(\":\")[0]}:${item.url.split(\":\")[1]}`,\r\n            matrixSet: \"EPSG:900913\",\r\n          });\r\n\r\n          const pic = new TileLayer({\r\n            title: item.url.split(\":\")[1],\r\n            opacity: 1,\r\n            source: new WMTS(options),\r\n          });\r\n          props.map.addLayer(pic);\r\n          props.map.getView().fit(options.tileGrid.getExtent(), {\r\n            padding: [100, 100, 100, 100],\r\n          });\r\n          props.setIsLoading(false);\r\n        })\r\n        .catch((e) => { });\r\n    } else if (dataType === \"VECTOR\") {\r\n      props.setIsLoading(true);\r\n      var response = await $.ajax({\r\n        url: encodeURI(loadUrl(item.url)),\r\n        dataType: \"json\",\r\n        success: {},\r\n        error: function (xhr) {\r\n          props.setIsLoading(false);\r\n        },\r\n      });\r\n      $.when(response).done(function (data) {\r\n        props.setIsLoading(false);\r\n        if (data.features.length !== 0) {\r\n          const vector = new VectorLayer({\r\n            title: item.url.split(\":\")[1],\r\n            source: new VectorSource({\r\n              features: new GeoJSON({}).readFeatures(data, {\r\n                featureProjection: props.map.getView().getProjection(),\r\n              }),\r\n            }),\r\n          });\r\n          props.setExtent(vector.getSource().getExtent());\r\n          props.map.getView().fit(vector.getSource().getExtent(), {\r\n            padding: [50, 50, 50, 50],\r\n          });\r\n          if (item.style.type === \"Basic\") {\r\n            vector.setStyle(addStyle(vector, item.style));\r\n          } else if (item.style.type === \"Unique\") {\r\n            vector.setStyle(uniqueStyle(vector, item.style));\r\n          } else if (item.style.type === \"Range\") {\r\n            vector.setStyle(rangeStyle(vector, item.style));\r\n          }\r\n          props.map.addLayer(vector);\r\n        }\r\n      });\r\n    } else props.setIsLoading(false);\r\n  }\r\n\r\n  const previousProduct = (target) => {\r\n    if (target > 0) {\r\n      removeLayersExcept(['Basemap', 'Kenya Counties', 'Grid']);\r\n      let active = target - 1\r\n\r\n      if (props.body.Data[active] != null) {\r\n        props.setActive(active)\r\n        loadData(props.body.Data[active]);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(\"/geoserver/rest/workspaces\", {\r\n      credentials: \"include\",\r\n      headers: headers,\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.workspaces.workspace.length > 0) {\r\n          let list = [];\r\n          data.workspaces.workspace.forEach((item) => {\r\n            list.push(item.name);\r\n          });\r\n          setWorkspaces(list);\r\n          setSelected(list[0]);\r\n        }\r\n      })\r\n      .catch((e) => { });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      fetch(`/geoserver/rest/workspaces/${selected}/layers`, {\r\n        credentials: \"include\",\r\n        headers: headers,\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.layers !== \"\" && data.layers.layer.length > 0) {\r\n            let list = [];\r\n            data.layers.layer.forEach((item) => {\r\n              list.push(item.name);\r\n            });\r\n            setLayers(list);\r\n            setData(data.layers.layer);\r\n            setSelectedLayer(list[0]);\r\n          }\r\n        })\r\n        .catch((e) => { });\r\n    }\r\n  }, [selected]);\r\n\r\n  async function addToMap(workspace, layer) {\r\n    if (workspace === null && layer === null) return;\r\n\r\n    const i = data\r\n      .map((e) => {\r\n        return e.name;\r\n      })\r\n      .indexOf(layer);\r\n\r\n    if (i !== -1) {\r\n      props.setIsLoading(true);\r\n      try {\r\n        const dt = await fetch(\r\n          data[i].href\r\n            .replace(\"http://geoserver:8080\", \"\")\r\n            .replaceAll(\"+\", \" \"),\r\n          {\r\n            credentials: \"include\",\r\n            headers: headers,\r\n          }\r\n        ).then((res) => {\r\n          if (res.ok) return res.json();\r\n        });\r\n        dataType = dt.layer.type;\r\n        if (dataType === \"RASTER\") {\r\n          let cls = [];\r\n          try {\r\n            const style = await fetch(`${dt.layer.defaultStyle.href}`, {\r\n              credentials: \"include\",\r\n              headers: headers,\r\n            }).then((res) => {\r\n              if (res.ok) return res.json();\r\n            });\r\n\r\n            let xml;\r\n\r\n            if (style.workspace != null) {\r\n              xml = await fetch(\r\n                `/geoserver/rest/workspaces/${style.workspace.name}/styles/${style.style.filename}`,\r\n                {\r\n                  credentials: \"include\",\r\n                  headers: headers,\r\n                }\r\n              ).then((res) => {\r\n                if (res.ok) return res.text();\r\n              });\r\n            } else {\r\n              xml = await fetch(\r\n                `/geoserver/rest/styles/${style.style.filename}`,\r\n                {\r\n                  credentials: \"include\",\r\n                  headers: headers,\r\n                }\r\n              ).then((res) => {\r\n                if (res.ok) return res.text();\r\n              });\r\n            }\r\n\r\n            const txt = new XMLParser().parseFromString(\r\n              xml.replaceAll(\"sld:\", \"\")\r\n            );\r\n            var symbolizer = await findNested(txt, \"name\", \"ChannelSelection\");\r\n\r\n            if (symbolizer != undefined) {\r\n              symbolizer.children.map((i) => {\r\n                const n = findNested(i, \"name\", \"SourceChannelName\");\r\n\r\n                cls.push({\r\n                  name: \"Band \" + n.value,\r\n                  color: i.name.replace(\"Channel\", \"\").toLowerCase(),\r\n                  count: 1,\r\n                });\r\n              });\r\n            }\r\n            const colormap = findNested(txt, \"name\", \"ColorMap\");\r\n            if (colormap != undefined) {\r\n              colormap.children.map((i) => {\r\n                const n = findNested(i, \"name\", \"ColorMapEntry\");\r\n                cls.push({\r\n                  name: n?.attributes?.label,\r\n                  color: n?.attributes?.color,\r\n                  count: 1,\r\n                });\r\n              });\r\n            }\r\n\r\n          } catch (error) {\r\n            props.setIsLoading(false);\r\n          }\r\n\r\n          fetch(\r\n            encodeURI(\r\n              `/geoserver/gwc/service/wmts?REQUEST=GetCapabilities&format=xml`\r\n            ),\r\n            {\r\n              method: \"get\",\r\n              credentials: \"include\",\r\n            }\r\n          )\r\n            .then((res) => {\r\n              if (!res.ok) {\r\n                throw Error(\"Could not fetch messages!!!\");\r\n              }\r\n              return res.text();\r\n            })\r\n            .then((text) => {\r\n              const result = parser.read(text);\r\n              const options = optionsFromCapabilities(result, {\r\n                layer: `${workspace}:${layer}`,\r\n                matrixSet: \"EPSG:900913\",\r\n              });\r\n\r\n              const pic = new TileLayer({\r\n                title: layer,\r\n                opacity: 1,\r\n                source: new WMTS(options),\r\n              });\r\n              props.map.addLayer(pic);\r\n              props.map.getView().fit(options.tileGrid.getExtent(), {\r\n                padding: [100, 100, 100, 100],\r\n              });\r\n              let d = props.body;\r\n              if (!d.Data.some(item => item.url === `${workspace}:${layer}`)) {\r\n                d.Data.push({\r\n                  url: `${workspace}:${layer}`,\r\n                  style: {\r\n                    type: \"Unique\",\r\n                    classes: cls,\r\n                  },\r\n                  date: inputDate,\r\n                });\r\n                props.setActive(d.Data.length - 1)\r\n                props.setBody(d);\r\n                props.addToSeries(inputDate, selected, selectedLayer)\r\n\r\n              }\r\n              props.setIsLoading(false);\r\n            })\r\n            .catch((e) => {\r\n              alert(\r\n                \"Layer not available or caching is disabled for that layer!\"\r\n              );\r\n              props.setIsLoading(false);\r\n            });\r\n        } else if (dataType === \"VECTOR\") {\r\n          let shape;\r\n          let radius;\r\n          let fill;\r\n          let stroke;\r\n          try {\r\n            const style = await fetch(`${dt.layer.defaultStyle.href.replace(\"http://geoserver:8080\", \"\")}`, {\r\n              credentials: \"include\",\r\n              headers: headers,\r\n            }).then((res) => {\r\n              if (res.ok) return res.json();\r\n            });\r\n\r\n            let xml;\r\n\r\n            try {\r\n              xml = await fetch(\r\n                `/geoserver/rest/styles/${style.style.name}.sld`,\r\n                {\r\n                  credentials: \"include\",\r\n                  headers: headers,\r\n                }\r\n              ).then((res) => {\r\n                if (res.ok) return res.text();\r\n              });\r\n\r\n              const txt = new XMLParser().parseFromString(xml.replaceAll(\"sld:\", \"\"));\r\n              const rule = findNested(txt, \"name\", \"Rule\");\r\n\r\n              var symbolizer = findNested(rule, \"name\", \"PointSymbolizer\");\r\n              if (symbolizer == undefined) {\r\n                symbolizer = findNested(rule, \"name\", \"LineSymbolizer\");\r\n                if (symbolizer == undefined) {\r\n                  symbolizer = findNested(rule, \"name\", \"PolygonSymbolizer\");\r\n                }\r\n              }\r\n\r\n              shape = findNested(rule, \"name\", \"WellKnownName\")?.value;\r\n              radius = findNested(rule, \"name\", \"Size\")?.value;\r\n              const fillObj = findNested(rule, \"name\", \"Fill\");\r\n              if (fillObj != undefined)\r\n                fill = findNested(fillObj, \"name\", \"CssParameter\")?.value;\r\n              const strokeObj = findNested(rule, \"name\", \"Stroke\");\r\n              if (strokeObj != undefined)\r\n                stroke = findNested(strokeObj, \"name\", \"CssParameter\")?.value;\r\n            } catch (error) {\r\n              // console.log(error);\r\n              try {\r\n                xml = await fetch(\r\n                  `/geoserver/rest/workspaces/${workspace}/styles/${style.style.name}.sld`,\r\n                  {\r\n                    credentials: \"include\",\r\n                    headers: headers,\r\n                  }\r\n                ).then((res) => {\r\n                  if (res.ok) return res.text();\r\n                });\r\n\r\n\r\n\r\n                const txt = new XMLParser().parseFromString(xml.replaceAll(\"sld:\", \"\"));\r\n                const rule = findNested(txt, \"name\", \"Rule\");\r\n                var symbolizer = findNested(rule, \"name\", \"PointSymbolizer\");\r\n                if (symbolizer == undefined) {\r\n                  symbolizer = findNested(rule, \"name\", \"LineSymbolizer\");\r\n                  if (symbolizer == undefined) {\r\n                    symbolizer = findNested(rule, \"name\", \"PolygonSymbolizer\");\r\n                  }\r\n                }\r\n\r\n                shape = findNested(rule, \"name\", \"WellKnownName\")?.value;\r\n                radius = findNested(rule, \"name\", \"Size\")?.value;\r\n                const fillObj = findNested(rule, \"name\", \"Fill\");\r\n                if (fillObj != undefined)\r\n                  fill = findNested(fillObj, \"name\", \"CssParameter\")?.value;\r\n                const strokeObj = findNested(rule, \"name\", \"Stroke\");\r\n                if (strokeObj != undefined)\r\n                  stroke = findNested(strokeObj, \"name\", \"CssParameter\")?.value;\r\n              } catch (error) {\r\n                console.log(error)\r\n                props.setIsLoading(false);\r\n              }\r\n            }\r\n          } catch (error) {\r\n            console.log(error)\r\n            props.setIsLoading(false);\r\n          }\r\n\r\n          var response = $.ajax({\r\n            url: encodeURI(getUrl(workspace, layer)),\r\n            dataType: \"json\",\r\n            success: {},\r\n            error: function (xhr) {\r\n              props.setIsLoading(false);\r\n            },\r\n          });\r\n          $.when(response).done(function (data) {\r\n            props.setIsLoading(false);\r\n            if (data.features.length !== 0) {\r\n              let d = props.body;\r\n              if (!d.Data.some(item => item.url === `${workspace}:${layer}`)) {\r\n                const vector = new VectorLayer({\r\n                  title: layer,\r\n                  source: new VectorSource({\r\n                    features: new GeoJSON({}).readFeatures(\r\n                      response.responseJSON,\r\n                      {\r\n                        featureProjection: props.map.getView().getProjection(),\r\n                      }\r\n                    ),\r\n                  }),\r\n                });\r\n                props.setExtent(vector.getSource().getExtent());\r\n                props.map.getView().fit(vector.getSource().getExtent(), {\r\n                  padding: [100, 100, 100, 100],\r\n                });\r\n                vector.setStyle(fillStyle(radius, fill, stroke, \"square\"));\r\n                props.map.addLayer(vector);\r\n\r\n                d.Data.push({\r\n                  url: `${workspace}:${layer}`,\r\n                  style: {\r\n                    type: \"Basic\",\r\n                    fill: fill,\r\n                    stroke: stroke,\r\n                    width: 1,\r\n                    radius: radius,\r\n                  },\r\n                  date: inputDate,\r\n                });\r\n                props.setActive(d.Data.length - 1)\r\n                props.setBody(d);\r\n                props.addToSeries(inputDate, selected, selectedLayer)\r\n              }\r\n              props.setIsLoading(false);\r\n            }\r\n          });\r\n        } else { alert(\"Invalid Layer!\"); props.setIsLoading(false); }\r\n      } catch (e) {\r\n        alert(\"Invalid Layer!\");\r\n      }\r\n    }\r\n  }\r\n\r\n  const removeLayersExcept = (layersToKeep) => {\r\n    const mapLayers = props.map.getLayers().array_\r\n\r\n    const updatedLayers = mapLayers.filter((layer) => !layersToKeep.includes(layer.get('title')));\r\n    updatedLayers.map((item, i) => props.map.removeLayer(item));\r\n  };\r\n\r\n  function loadUrl(url, filters) {\r\n    if (!filters) {\r\n      return `/geoserver/${url.split(\":\")[0]\r\n        }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&outputFormat=json`;\r\n    } else {\r\n      return `/geoserver/${url.split(\":\")[0]\r\n        }/wfs?request=GetFeature&version=1.0.0&typeName=${url}&${filters}&outputFormat=json`;\r\n    }\r\n  }\r\n\r\n  function getUrl(workspace, layer) {\r\n    return `/geoserver/${workspace}/wfs?request=GetFeature&version=1.0.0&typeName=${workspace}:${layer}&outputFormat=json`;\r\n  }\r\n\r\n  const getSelected = (value) => {\r\n    setSelected(value);\r\n  };\r\n\r\n  const getRandomColor = () => {\r\n    var letters = \"0123456789ABCDEF\";\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  };\r\n\r\n  function findNested(obj, key, value) {\r\n    if (obj[key] === value) {\r\n      return obj;\r\n    } else {\r\n      var keys = Object.keys(obj);\r\n      for (var i = 0, len = keys.length; i < len; i++) {\r\n        var k = keys[i];\r\n        if (obj[k] && typeof obj[k] == \"object\") {\r\n          var found = findNested(obj[k], key, value);\r\n          if (found) {\r\n            return found;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function fillStyle(radius, fill, stroke, shape) {\r\n    let p = 0;\r\n    let a = 0;\r\n    let r = 0;\r\n    switch (shape) {\r\n      case \"circle\":\r\n        p = 1;\r\n        a = 0;\r\n        break;\r\n      case \"square\":\r\n        p = 4;\r\n        a = Math.PI / 4;\r\n        break;\r\n      case \"triangle\":\r\n        p = 3;\r\n        a = 0;\r\n        r = Math.PI / 4;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return new Style({\r\n      image:\r\n        shape == \"circle\"\r\n          ? new Circle({\r\n            radius: radius,\r\n            fill: new Fill({\r\n              color: fill,\r\n            }),\r\n            stroke: new Stroke({\r\n              color: stroke,\r\n              width: 1,\r\n            }),\r\n          })\r\n          : new RegularShape({\r\n            radius: radius,\r\n            points: p,\r\n            angle: a,\r\n            rotation: r,\r\n            fill: new Fill({\r\n              color: fill,\r\n            }),\r\n            stroke: new Stroke({\r\n              color: stroke,\r\n              width: 1,\r\n            }),\r\n          }),\r\n      fill: new Fill({\r\n        color: fill,\r\n      }),\r\n      stroke: new Stroke({\r\n        color: stroke,\r\n        width: 1,\r\n      }),\r\n    });\r\n  }\r\n\r\n  function addStyle(layer, style) {\r\n    var colorArray = asArray(style.fill).slice();\r\n    colorArray[3] = style.opacity;\r\n    if (style.label) {\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          item.setStyle((feature, resolution) => {\r\n            let txt =\r\n              feature.values_[style.lcolumn] == undefined\r\n                ? \"\"\r\n                : feature.values_[style.lcolumn];\r\n\r\n            return new Style({\r\n              image: new Circle({\r\n                radius: 6,\r\n                fill: new Fill({\r\n                  color: colorArray,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: style.stroke,\r\n                  width: style.width,\r\n                }),\r\n              }),\r\n              fill: new Fill({\r\n                color: colorArray,\r\n              }),\r\n              stroke: new Stroke({\r\n                color: style.stroke,\r\n                width: style.width,\r\n              }),\r\n              text: new Text({\r\n                text: txt.toString(),\r\n                font: `${style.lfont}px sans-serif`,\r\n                fill: new Fill({\r\n                  color: style.lcolor,\r\n                }),\r\n                offsetX: style.offsetX,\r\n                offsetY: style.offsetY,\r\n                overflow: false,\r\n              }),\r\n            });\r\n          });\r\n        });\r\n    } else {\r\n      return new Style({\r\n        image: new Circle({\r\n          radius: 6,\r\n          fill: new Fill({\r\n            color: colorArray,\r\n          }),\r\n          stroke: new Stroke({\r\n            color: style.stroke,\r\n            width: style.width,\r\n          }),\r\n        }),\r\n        fill: new Fill({\r\n          color: colorArray,\r\n        }),\r\n        stroke: new Stroke({\r\n          color: style.stroke,\r\n          width: style.width,\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  function fillNoStyle(radius, fill, stroke, shape) {\r\n    let p = 0;\r\n    let a = 0;\r\n    let r = 0;\r\n    switch (shape) {\r\n      case \"circle\":\r\n        p = 1;\r\n        a = 0;\r\n        break;\r\n      case \"square\":\r\n        p = 4;\r\n        a = Math.PI / 4;\r\n        break;\r\n      case \"triangle\":\r\n        p = 3;\r\n        a = 0;\r\n        r = Math.PI / 4;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return new Style({\r\n      image:\r\n        shape == \"circle\"\r\n          ? new Circle({\r\n            radius: radius,\r\n            fill: new Fill({\r\n              color: fill,\r\n            }),\r\n            stroke: new Stroke({\r\n              color: stroke,\r\n              width: 1,\r\n            }),\r\n          })\r\n          : new RegularShape({\r\n            radius: radius,\r\n            points: p,\r\n            angle: a,\r\n            rotation: r,\r\n            fill: new Fill({\r\n              color: fill,\r\n            }),\r\n            stroke: new Stroke({\r\n              color: stroke,\r\n              width: 1,\r\n            }),\r\n          }),\r\n      fill: new Fill({\r\n        color: fill,\r\n      }),\r\n      stroke: new Stroke({\r\n        color: stroke,\r\n        width: 1,\r\n      }),\r\n    });\r\n  }\r\n\r\n  function uniqueStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (item.values_[style.column] == e.name) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  function rangeStyle(layer, style) {\r\n    style.classes.map((e) => {\r\n      let count = 0;\r\n      layer\r\n        .getSource()\r\n        .getFeatures()\r\n        .map((item) => {\r\n          if (\r\n            Number(item.values_[style.column]) >= e.min &&\r\n            Number(item.values_[style.column]) < e.max\r\n          ) {\r\n            item.setStyle(\r\n              new Style({\r\n                image: new Circle({\r\n                  radius: 6,\r\n                  fill: new Fill({\r\n                    color: e.color,\r\n                  }),\r\n                  stroke: new Stroke({\r\n                    color: e.color,\r\n                    width: 1,\r\n                  }),\r\n                }),\r\n                fill: new Fill({\r\n                  color: e.color,\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: e.color,\r\n                  width: 1,\r\n                }),\r\n              })\r\n            );\r\n            count++;\r\n          }\r\n        });\r\n      e[\"count\"] = count;\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <TimeSeriesSlider active={props.active} body={props.body} showCurrent={showCurrent} nextProduct={nextProduct} previousProduct={previousProduct} />\r\n      {props.dataSelector && (<div className=\"data_popup\">\r\n        <div className=\"dcont\">\r\n          <h3>Add Data</h3>\r\n          <hr />\r\n          <div className=\"createTimeSeries\">\r\n            {timeSeries[props.active]}\r\n            <div className=\"selectBox\">\r\n              <select onChange={(e) => { setSelected(e.target.value) }}>\r\n                <option>Select Category</option>\r\n                {workspaces.map((workspace, i) => (<option key={i} value={workspace}>{workspace}</option>))}\r\n              </select>\r\n              {selected ? layers.length != 0 ?\r\n                <div className=\"selectBox\">\r\n                  <select onChange={(e) => { setSelectedLayer(e.target.value) }}>\r\n                    <option >Select Layer</option>\r\n                    {layers.map((layer, i) => (<option key={i} value={layer}>{layer}</option>))}\r\n                  </select>\r\n                  <input onChange={(e) => { setInputDate(e.target.value) }} type=\"date\" />\r\n                  <button className=\"add\" onClick={() => {\r\n                    removeLayersExcept(['Basemap', 'Kenya Counties', 'Grid']);\r\n                    addToMap(selected, selectedLayer);\r\n                  }}>Add to Series</button>\r\n                </div>\r\n                : <p>Please select a category</p> : ''}\r\n            </div>\r\n            <div className=\"itemContainer\">\r\n              <h3>Time Series Data</h3>\r\n              <hr />\r\n              {props.body.Data.map((item, i) => {\r\n                return <TimeSeriesItem setBody={props.setBody} body={props.body} key={i} removeLayersExcept={removeLayersExcept} index={i} item={item} />\r\n              })}\r\n            </div>\r\n          </div>\r\n          <i\r\n            onClick={() => {\r\n              props.setDataSelector(null);\r\n            }}\r\n            className=\"fa fa-close\"\r\n          >\r\n            &#xf00d;\r\n          </i>\r\n        </div>\r\n      </div>)}\r\n    </>\r\n  );\r\n}\r\n\r\nconst TimeSeriesItem = (props) => {\r\n\r\n  function moveUp() {\r\n    if (props.index !== 0) {\r\n      let d = props.body\r\n      const removedItem = d.Data.splice(props.index, 1)[0];\r\n      d.Data.splice(props.index - 1, 0, removedItem);\r\n      props.setBody({ ...props.body, Data: d.Data })\r\n    }\r\n  }\r\n\r\n  function moveDown() {\r\n    if (props.index !== props.body.Data.length) {\r\n      let d = props.body\r\n      const removedItem = d.Data.splice(props.index, 1)[0];\r\n      d.Data.splice(props.index + 1, 0, removedItem);\r\n      props.setBody({ ...props.body, Data: d.Data })\r\n    }\r\n  }\r\n\r\n  function removeItem() {\r\n    if (props.index !== props.body.Data.length) {\r\n      let d = props.body\r\n      d.Data.splice(props.index, 1);\r\n      props.setBody({ ...props.body, Data: d.Data })\r\n      props.removeLayersExcept(['Basemap', 'Kenya Counties', 'Grid']);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"timeseriesItem\">\r\n      <div>\r\n        <p>{props.item.url.split(\":\")[1]}</p>\r\n        <h6>{props.item.date}</h6>\r\n      </div>\r\n\r\n      <i onClick={() => { moveUp() }} className=\"fa fa-angle-up\"></i>\r\n      <i onClick={() => { moveDown() }} className=\"fa fa-angle-down\"></i>\r\n      <i onClick={() => { removeItem() }} className=\"fa fa-times\"></i>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/leftArrowTimeseries.5886bd0d.svg\";","export default __webpack_public_path__ + \"static/media/rightArrowTimeseries.bc766119.svg\";","import React, { useEffect, useState } from 'react'\r\nimport leftArrow from '../../assets/imgs/leftArrowTimeseries.svg'\r\nimport rightArrow from '../../assets/imgs/rightArrowTimeseries.svg'\r\n\r\n\r\nconst TimeSeriesSlider = (props) => {\r\n  const [datesLength, setDatesLength] = useState()\r\n  const [active, setActive] = useState(0)\r\n  const [timeline, setTimeline] = useState({ start: \"\", end: \"\", active: \"\" })\r\n\r\n  useEffect(() => {\r\n    if (props.body && props.body.Data.length > 0) {\r\n      setActive(props.body.Data.length - 1)\r\n      setTimeline({ start: props.body.Data[0].date, end: props.body.Data[props.body.Data.length - 1].date, active: props.body.Data[props.active] })\r\n      setDatesLength(props.body.Data.length)\r\n    }\r\n  }, [props.body])\r\n\r\n  useEffect(() => {\r\n    setActive(props.active)\r\n  }, [props?.body, props.active])\r\n\r\n  return (\r\n    <div className=\"timeseriesslider\">\r\n      {(active > 0) ?\r\n        <img className='leftBtn' onClick={() => { props.previousProduct(props.active) }} src={leftArrow} alt=\"left arrow slider\" />\r\n        : \"\"\r\n      }\r\n      <div className='timelineContainer'>\r\n        <div className='timeline'>\r\n          {props.body.Data.map((element, i) => {\r\n            if (active == i) {\r\n              return (<i key={i} className='active'></i>)\r\n            } else {\r\n              return (<i onClick={() => { props.showCurrent(i) }} key={i}></i>)\r\n            }\r\n          })}\r\n        </div>\r\n        <span className='startDate'>{timeline.start}</span>\r\n        <span className='activeDate'>{props.body.Data[props.active]?.date}</span>\r\n        <span className='endDate'>{timeline.end}</span>\r\n      </div>\r\n      {(active < props.body.Data.length - 1) ?\r\n        <img className='rightBtn' onClick={() => { props.nextProduct(props.active) }} src={rightArrow} alt=\"right arrow slider\" /> : <></>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TimeSeriesSlider","export default __webpack_public_path__ + \"static/media/north-arrow.b3d0047a.png\";","import React from \"react\";\r\nimport northarrow from \"../../assets/imgs/north-arrow.png\";\r\n\r\nconst SearchReport = ({ blob, body }) => {\r\n  const doc = {\r\n    backgroundColor: \"white\",\r\n    padding: \"12px\",\r\n    width: \"890px\",\r\n    height: \"fit-content\",\r\n    margin: \"auto\",\r\n  };\r\n\r\n  const border = {\r\n    border: \"1px solid black\",\r\n    padding: \"6px\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  };\r\n\r\n  const header = {\r\n    borderBottom: \"1px solid black\",\r\n    textAlign: \"center\",\r\n    margin: \"0 0 12px 0\",\r\n    padding: \"6px\",\r\n  };\r\n\r\n  return (\r\n    <div style={doc}>\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"1fr\",\r\n          padding: \"12px\",\r\n          gap: \"10px\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          border: \"1px solid black\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateRows: \"auto 1fr auto\",\r\n            gap: \"10px\",\r\n          }}\r\n        >\r\n          <h3\r\n            style={{\r\n              textAlign: \"center\",\r\n              fontWeight: \"700\",\r\n              fontSize: \"medium\",\r\n            }}\r\n          >\r\n            {body.Title}\r\n          </h3>\r\n\r\n          <div style={border}>\r\n            <img\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"fit-content\",\r\n                objectFit: \"contain\",\r\n                display: \"block\",\r\n                margin: \"auto\",\r\n              }}\r\n              src={blob}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: \"1fr auto\",\r\n              padding: \"0px\",\r\n              gap: \"10px\",\r\n            }}\r\n          >\r\n            <div style={{ border: \"1px solid black\", padding: \"10px\" }}>\r\n              <h4\r\n                style={{\r\n                  fontSize: \"small\",\r\n                  fontWeight: \"600\",\r\n                  marginBottom: \"6px\",\r\n                }}\r\n              >\r\n                Legend\r\n              </h4>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  flexWrap: \"wrap\",\r\n                }}\r\n              >\r\n                {body?.Data[0]?.style?.classes ? (\r\n                  body?.Data[0].style.classes.length > 0 &&\r\n                  body?.Data[0].style.classes.map((item, index) => {\r\n                    return (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          flexWrap: \"nowrap\",\r\n                          margin: \"3px\",\r\n                        }}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            width: \"10px\",\r\n                            height: \"10px\",\r\n                            backgroundColor: item.color,\r\n                            margin: \"2px\",\r\n                          }}\r\n                        ></div>\r\n                        <p\r\n                          style={{\r\n                            marginLeft: \"10px\",\r\n                            fontSize: \"x-small\",\r\n                            textTransform: \"capitalize\",\r\n                          }}\r\n                          key={index}\r\n                        >\r\n                          {item.name}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <p>This data has no legend</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p\r\n                style={{\r\n                  fontSize: \"small\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                1:10000\r\n              </p>\r\n              <br></br>\r\n              <div>\r\n                <img\r\n                  style={{\r\n                    width: \"24px\",\r\n                    objectFit: \"contain\",\r\n                    margin: \"auto\",\r\n                    display: \"block\",\r\n                  }}\r\n                  src={northarrow}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <p\r\n            style={{\r\n              fontSize: \"x-small\",\r\n              textAlign: \"center\",\r\n              padding: \"0px\",\r\n            }}\r\n          >\r\n            Oakar Services Geoportal\r\n          </p>\r\n          <p>\r\n            <pre\r\n              style={{\r\n                fontSize: \"x-small\",\r\n                textAlign: \"center\",\r\n                display: \"block\",\r\n                padding: \"0px\",\r\n                color: \"blue\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              https://osl.co.ke\r\n            </pre>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchReport;\r\n","export default function ButtonMain(props) {\r\n  return (\r\n    <div className=\"button\">\r\n      <button\r\n        onClick={() => {\r\n          props.handleClick();\r\n        }}\r\n      >\r\n        {props.label}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","export default function MyError(props) {\r\n  return (\r\n    <div className=\"error\">\r\n      <h6>\r\n        {props.txt}\r\n      </h6>\r\n    </div>\r\n  );\r\n}\r\n","import { React } from \"react\";\r\n\r\n\r\nfunction NotFound() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p\r\n\t\t\t\tdata-aos={\"fade-up\"}\r\n\t\t\t\tdata-aos-offset={300}\r\n\t\t\t\tdata-aos-duration={900}\r\n\t\t\t\tdata-aos-delay={600}\r\n\t\t\t>\r\n\t\t\t\tNot Found Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta\r\n\t\t\t\tblanditiis minus veritatis ratione nam. Sit, maxime quaerat voluptas\r\n\t\t\t\tassumenda nesciunt voluptatum eum repellat ipsa quam officiis corporis\r\n\t\t\t\talias sunt nihil!\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotFound;\r\n","export default __webpack_public_path__ + \"static/media/osllogo.16165ff1.png\";","import React from \"react\";\r\nimport logo2 from \"../../assets/imgs/osllogo.png\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nfunction NavLink(props) {\r\n  const location = useLocation();\r\n  let link;\r\n  if (props.url === location.pathname) {\r\n    link = (\r\n      <h4\r\n        className=\"underline\"\r\n        onClick={() => {\r\n          window.location.href = props.url;\r\n        }}\r\n      >\r\n        {props.txt}\r\n      </h4>\r\n    );\r\n  } else {\r\n    link = (\r\n      <h4\r\n        onClick={() => {\r\n          window.location.href = props.url;\r\n        }}\r\n      >\r\n        {props.txt}\r\n      </h4>\r\n    );\r\n  }\r\n  return link;\r\n}\r\n\r\nexport default function ModalHeader(props) {\r\n  return (\r\n    <div className=\"modalheader\">\r\n      <div className=\"container\">\r\n        <div className=\"itemsLogo\">\r\n          <div\r\n            onClick={() => {\r\n              window.location.href = \"/\";\r\n            }}\r\n            className=\"logo\"\r\n          >\r\n            <img src={logo2} alt=\"Oakar Services\" />\r\n            <h2>Geoportal</h2>\r\n          </div>\r\n          <i\r\n            onClick={() => {\r\n              props.toggleMenu();\r\n            }}\r\n            className=\"fa fa-close\"\r\n          >\r\n            &#xf00d;\r\n          </i>\r\n        </div>\r\n\r\n        <h3>Menus</h3>\r\n        <div className=\"nav\">\r\n          <NavLink className=\"navlink\" txt=\"Home\" url=\"/\" />\r\n          <NavLink txt=\"Data\" url=\"/data\" />\r\n          <NavLink txt=\"About\" url=\"/about\" />\r\n          <NavLink txt=\"Contact Us\" url=\"/contact\" />\r\n          <br></br>\r\n          <br></br>\r\n          <br></br>\r\n          {props.isAuthenticated ? (\r\n            <button\r\n              onClick={() => {\r\n                props.logout();\r\n                props.toggleMenu();\r\n              }}\r\n            >\r\n              Logout\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={() => {\r\n                  props.setToggleLogin(true);\r\n                  props.setToggleRegister(false);\r\n                  props.toggleMenu();\r\n                }}\r\n              >\r\n                Login\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  props.setToggleLogin(false);\r\n                  props.setToggleRegister(true);\r\n                  props.toggleMenu();\r\n                }}\r\n              >\r\n                Register\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { forwardRef, useEffect, useState } from \"react\";\r\n\r\nconst InputMap = (props, ref) => {\r\n  const [value, setValue] = useState(props.value);\r\n\r\n  const type = props.type ? props.type : \"text\";\r\n\r\n  useEffect(() => {\r\n    if (props.value !== \"\") {\r\n      setValue(props.value);\r\n    }\r\n  }, [props.value]);\r\n\r\n  return (\r\n    <div className=\"input-map\">\r\n      <label htmlFor=\"input\">{props.label}</label>\r\n      <input\r\n        ref={ref}\r\n        type={type}\r\n        name=\"input\"\r\n        onChange={(e) => {\r\n          setValue(e.target.value);\r\n        }}\r\n        placeholder={props.placeholder}\r\n        value={value}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default forwardRef(InputMap);\r\n","export default function Loading(props) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"wrap\">\r\n          <div className=\"lds-roller\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  ","import { useRef, useState } from \"react\";\r\nimport Loading from \"../Utils/Loading\";\r\n\r\nexport default function ForgotPassword(props) {\r\n  const email = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [isError, setIsError] = useState(\"\");\r\n  const [body, updateBody] = useState({ Email: null });\r\n\r\n  const resetPassword = () => {\r\n    let d = body;\r\n    d.Email = email.current.value;\r\n    updateBody(d);\r\n    setIsError(\"\");\r\n\r\n    const validateEmail = (email) => {\r\n      return String(email)\r\n        .toLowerCase()\r\n        .match(\r\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        );\r\n    };\r\n\r\n    if (!validateEmail(body.Email)) {\r\n      return setIsError(\"Please provide a valid email address\");\r\n    }\r\n\r\n    if (validateEmail(body.Email)) {\r\n      setIsLoading(true);\r\n      fetch(\"/api/users/forgot\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({ Email: email.current.value }),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"Failed\");\r\n        })\r\n        .then((data) => {\r\n          if (data.success) {\r\n            setIsLoading(false);\r\n            setMessage(data.success);\r\n            setTimeout(() => {\r\n              props.setForgot(false);\r\n            }, 1000);\r\n          } else {\r\n            setIsError(data.error);\r\n            setIsLoading(false);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"model\">\r\n      <div className=\"forgotPassword\">\r\n        <h4>Forgot Password</h4>\r\n        <h6 className=\"cancel\">{message}</h6>\r\n        <p>We'll generate a password</p>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n          }}\r\n        >\r\n          <span className=\"err\">{isError}</span>\r\n          <input ref={email} type=\"email\" placeholder=\"Your email\" />\r\n          <button\r\n            onClick={() => {\r\n              resetPassword();\r\n            }}\r\n            className=\"button\"\r\n          >\r\n            Send\r\n          </button>\r\n        </form>\r\n        <h6\r\n          className=\"cancel\"\r\n          onClick={() => {\r\n            props.setForgot(false);\r\n          }}\r\n        >\r\n          Cancel\r\n        </h6>\r\n\r\n        {isLoading && <Loading />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport InputMap from \"../maps/InputMap\";\r\nimport Button from \"./ButtonMain\";\r\nimport Loading from \"./Loading\";\r\nimport ForgotPassword from \"./forgotPassword\";\r\n\r\nexport default function LoginPopUp(props) {\r\n  const [isError, setIsError] = useState(\"\");\r\n  const [body, updateBody] = useState({\r\n    Email: null,\r\n    Password: null,\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [forgot, setForgot] = useState(false);\r\n  const rfEmail = useRef();\r\n  const rfPassword = useRef();\r\n\r\n  const loginUser = () => {\r\n    let d = body;\r\n    d.Email = rfEmail.current.value.toLowerCase().trim();\r\n    d.Password = rfPassword.current.value;\r\n    updateBody(d);\r\n    setIsError(\"\");\r\n\r\n    if (!validateEmail(body.Email))\r\n      return setIsError(\"Please enter a valid email address!\");\r\n    if (!validatePassword(body.Password))\r\n      return setIsError(\"Password must be at least 6 characters!\");\r\n\r\n    if (validateEmail(body.Email) && validatePassword(body.Password)) {\r\n      setIsLoading(true);\r\n      fetch(\"/api/users/login\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"Login failed\");\r\n        })\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.success) {\r\n            props.setIsAuthenticated(true);\r\n            props.setToggleLogin(false);\r\n            localStorage.setItem(\"cilbup_OSL\", data.token);\r\n          } else {\r\n            setIsError(data.error);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          props.setIsAuthenticated(false);\r\n          setIsLoading(false);\r\n          setIsError(\"Login failed!\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    return password.length >= 6;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"login\">\r\n        <div className=\"container\">\r\n          <h3>Login</h3>\r\n          <h4>{isError}</h4>\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <InputMap\r\n              ref={rfEmail}\r\n              label=\"Email Address *\"\r\n              type=\"email\"\r\n              placeholder=\"Enter Email Address\"\r\n            />\r\n            <InputMap\r\n              ref={rfPassword}\r\n              label=\"Password *\"\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n            />\r\n            <p>\r\n              Forgot password?{\" \"}\r\n              <span\r\n                onClick={() => {\r\n                  setForgot(true);\r\n                }}\r\n              >\r\n                Click here\r\n              </span>\r\n            </p>\r\n            <Button label=\"Submit\" handleClick={loginUser} />\r\n          </form>\r\n          <p>\r\n            Don't have an account?{\" \"}\r\n            <span\r\n              onClick={() => {\r\n                props.setToggleLogin(false);\r\n                props.setToggleRegister(true);\r\n              }}\r\n            >\r\n              Register here\r\n            </span>\r\n          </p>\r\n          <h4\r\n            onClick={() => {\r\n              props.setToggleLogin(false);\r\n              props.setToggleRegister(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </h4>\r\n          {isLoading && <Loading />}\r\n        </div>\r\n      </div>\r\n      {forgot && <ForgotPassword setForgot={setForgot} />}\r\n    </>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport InputMap from \"../maps/InputMap\";\r\nimport Button from \"./ButtonMain\";\r\nimport Loading from \"./Loading\";\r\n\r\nexport default function RegisterPopUp(props) {\r\n  const [isError, setIsError] = useState(\"\");\r\n  const [body, updateBody] = useState({\r\n    Email: null,\r\n    Password: null,\r\n    cPassword: null,\r\n    Phone: null,\r\n    Name: null,\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const rfEmail = useRef();\r\n  const rfPassword = useRef();\r\n  const rfcPassword = useRef();\r\n  const rfName = useRef();\r\n  const rfPhone = useRef();\r\n\r\n  const loginUser = () => {\r\n    let d = body;\r\n    d.Email = rfEmail.current.value.toLowerCase().trim();\r\n    d.Name = rfName.current.value;\r\n    d.Phone = rfPhone.current.value;\r\n    d.Password = rfPassword.current.value;\r\n    d.cPassword = rfcPassword.current.value;\r\n    updateBody(d);\r\n    setIsError(\"\");\r\n    if (!body.Name) return setIsError(\"Name is required!\");\r\n    if (!body.Phone || body.Phone?.length < 11)\r\n      return setIsError(\r\n        \"Phone is required! include country code e.g 254790123123\"\r\n      );\r\n    if (!validateEmail(body.Email))\r\n      return setIsError(\"Please enter a valid email address!\");\r\n    if (!validatePassword(body.Password))\r\n      return setIsError(\"Password must be at least 6 characters!\");\r\n    if (body.Password !== body.cPassword)\r\n      return setIsError(\"Passwords do not match\");\r\n    if (validateEmail(body.Email) && validatePassword(body.Password)) {\r\n      setIsLoading(true);\r\n      fetch(\"/api/users/register\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"Registration failed!!\");\r\n        })\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.success) {\r\n            setIsError(data.success);\r\n            localStorage.setItem(\"cilbup_OSL\", data.token);\r\n            props.setIsAuthenticated(true);\r\n            props.setToggleRegister(false);\r\n          } else {\r\n            setIsError(data.error);\r\n            props.setIsAuthenticated(false);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n\r\n          setIsError(\"Registration failed!\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    return password.length >= 6;\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <h3>Register</h3>\r\n        <h4>{isError}</h4>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n          }}\r\n        >\r\n          <InputMap\r\n            ref={rfName}\r\n            label=\"Full Name *\"\r\n            type=\"text\"\r\n            placeholder=\"Enter your full name\"\r\n          />\r\n          <InputMap\r\n            ref={rfPhone}\r\n            label=\"Phone Number *\"\r\n            type=\"number\"\r\n            placeholder=\"Enter a valid number\"\r\n          />\r\n          <InputMap\r\n            ref={rfEmail}\r\n            label=\"Email Address *\"\r\n            type=\"email\"\r\n            placeholder=\"Enter Email Address\"\r\n          />\r\n          <InputMap\r\n            ref={rfPassword}\r\n            label=\"Password *\"\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n          />\r\n          <InputMap\r\n            ref={rfcPassword}\r\n            label=\"Confirm Password *\"\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n          />\r\n          <p>\r\n            Review terms and conditions?{\" \"}\r\n            <span\r\n              onClick={() => {\r\n                window.location.href = \"/terms\";\r\n              }}\r\n            >\r\n              Click here\r\n            </span>\r\n          </p>\r\n          <Button label=\"Submit\" handleClick={loginUser} />\r\n        </form>\r\n        <p>\r\n          Already have an account?{\" \"}\r\n          <span\r\n            onClick={() => {\r\n              props.setToggleLogin(true);\r\n              props.setToggleRegister(false);\r\n            }}\r\n          >\r\n            Login here\r\n          </span>\r\n        </p>\r\n        <h4\r\n          onClick={() => {\r\n            props.setToggleLogin(false);\r\n            props.setToggleRegister(false);\r\n          }}\r\n        >\r\n          Cancel\r\n        </h4>\r\n        {isLoading && <Loading />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function UserAccount(props) {\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <h3>Account Details</h3>\r\n        <div>\r\n          <p>Name : {props.currentUser.Name}</p>\r\n          <p>Phone : {props.currentUser.Phone}</p>\r\n          <p>Email : {props.currentUser.Email}</p>\r\n          {props.currentUser.Status && <p>Status : Active</p>}\r\n        </div>\r\n        <h4\r\n          onClick={() => {\r\n            props.setToggleAccount(false)\r\n          }}\r\n        >\r\n          Cancel\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport InputMap from \"../maps/InputMap\";\r\nimport Button from \"./ButtonMain\";\r\n\r\nexport default function EditUserDetails(props) {\r\n\r\n    const [isError, setIsError] = useState(\"\");\r\n    const [body, updateBody] = useState({\r\n        Phone: null,\r\n    });\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const rfPhone = useRef();\r\n\r\n    const editDetails = () => {\r\n        if (props.isAuthenticated){\r\n        let d = body;\r\n        d.Phone = rfPhone.current.value;\r\n        updateBody(d);\r\n        setIsError(\"\");\r\n\r\n        fetch(`/api/users/${props.currentUser.UserID}`, {\r\n          method: \"PUT\",\r\n          credentials: \"include\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify(body),\r\n        })\r\n          .then((response) => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            } else throw Error(\"Change of details failed\");\r\n          })\r\n          .then((data) => {\r\n            setIsLoading(false);\r\n            if (data.success) {\r\n              //props.setToggleEditDetails(false);\r\n              localStorage.clear();\r\n              props.setIsAuthenticated(false);\r\n            } else {\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setIsLoading(false);\r\n            setIsError(\"Login failed!\");\r\n          });\r\n        }\r\n        else{\r\n            setIsError(\"You have been logged out! Please login afresh first!\")\r\n        }\r\n    };\r\n\r\n    const placeholder = `Current phone no: ${props.currentUser.Phone}`\r\n\r\n    return (\r\n        <div className=\"login\">\r\n        <div className=\"container\">\r\n            <h3>Edit Account Details for {props.currentUser.Name}</h3>\r\n            <h4>{isError}</h4>\r\n            <form\r\n            onSubmit={(e) => {\r\n                e.preventDefault();\r\n            }}\r\n            >\r\n            <InputMap\r\n                ref={rfPhone}\r\n                label=\"Change Phone Number\"\r\n                type=\"number\"\r\n                placeholder={placeholder}\r\n            />\r\n            <br />\r\n            <Button label=\"Submit\" handleClick={editDetails} />\r\n            </form>\r\n            <p>\r\n            Change your password?{\" \"}\r\n            <span\r\n                onClick={() => {\r\n                props.setToggleEditDetails(false);\r\n                props.setToggleChangePass(true);\r\n                }}\r\n            >\r\n                Click here\r\n            </span>\r\n            </p>\r\n            <h4\r\n            onClick={() => {\r\n                props.setToggleEditDetails(false)\r\n            }}\r\n            >\r\n            Cancel\r\n            </h4>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport InputMap from \"../maps/InputMap\";\r\nimport Button from \"./ButtonMain\";\r\n\r\nexport default function ChangePassword(props) {\r\n\r\n    const [isError, setIsError] = useState(\"\");\r\n    const [body, updateBody] = useState({\r\n        Password: null,\r\n        NewPassword: null,\r\n        ConfirmNewPassword: null,\r\n    });\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const rfOldPassword = useRef();\r\n    const rfNewPassword = useRef();\r\n    const rfConfirmNewPassword = useRef();\r\n\r\n    const changePassword = () => {\r\n        if (props.isAuthenticated){\r\n            let d = body;\r\n            d.Password = rfOldPassword.current.value;\r\n            d.NewPassword = rfNewPassword.current.value;\r\n            d.ConfirmNewPassword = rfConfirmNewPassword.current.value;\r\n            updateBody(d);\r\n            setIsError(\"\");\r\n            if (!body.Password) return setIsError(\"Old password is required!\");\r\n            if (!body.NewPassword || body.NewPassword?.length < 6)\r\n            return setIsError(\"New Password must be at least 6 characters!\");\r\n            if (!validatePassword(body.NewPassword, body.ConfirmNewPassword))\r\n            return setIsError(\"Old Password and New Password do not match\");\r\n\r\n            if (validatePassword(body.NewPassword, body.ConfirmNewPassword)) {\r\n            setIsLoading(true);\r\n            fetch(`/api/users/${props.currentUser.UserID}`, {\r\n              method: \"PUT\",\r\n              credentials: \"include\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Accept: \"application/json\",\r\n              },\r\n              body: JSON.stringify(body),\r\n            })\r\n              .then((response) => {\r\n                if (response.ok) {\r\n                  return response.json();\r\n                } else throw Error(\"Could not Change password!!\");\r\n              })\r\n              .then((data) => {\r\n                setIsLoading(false);\r\n                if (data.success) {\r\n                  setIsError(data.success);\r\n                  setTimeout(() => {\r\n                    props.setToggleChangePass(false);\r\n                  }, 1000);\r\n\r\n                  localStorage.clear();\r\n                  props.setIsAuthenticated(false);\r\n                } else {\r\n                  setIsError(data.error);\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                setIsError(\"Could not Change password!\");\r\n              });\r\n            }\r\n        }\r\n        else{\r\n            setIsError(\"You have been logged out! Please login afresh first!\")\r\n        }\r\n    };\r\n\r\n    const validatePassword = (newPassword, confirmNewPassword) => {\r\n        return confirmNewPassword === newPassword;\r\n    };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <h3>Change Password for {props.currentUser.Name}</h3>\r\n        <h4>{isError}</h4>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n          }}\r\n        >\r\n          <InputMap\r\n            ref={rfOldPassword}\r\n            label=\"Enter Old Password *\"\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n          />\r\n\r\n          <InputMap\r\n            ref={rfNewPassword}\r\n            label=\"Enter your new Password *\"\r\n            type=\"password\"\r\n            placeholder=\"New Password\"\r\n          />\r\n\r\n          <InputMap\r\n            ref={rfConfirmNewPassword}\r\n            label=\"Confirm your new Password *\"\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n          />\r\n          <br />\r\n          <Button label=\"Submit\" handleClick={changePassword} />\r\n        </form>\r\n        <p>\r\n          Change your password\r\n        </p>\r\n        <h4\r\n          onClick={() => {\r\n            props.setToggleChangePass(false)\r\n          }}\r\n        >\r\n          Close\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport logo2 from \"../../assets/imgs/osllogo.png\";\r\nimport ModalHeader from \"./modal_header\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Login from \"./loginPopUp\";\r\nimport RegisterPopUp from \"./registerPopUp\";\r\nimport UserAccount from \"./userAccount\";\r\nimport EditUserDetails from \"./editUserDetails\";\r\nimport ChangePassword from \"./ChangePassword\";\r\n\r\nfunction NavLink(props) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <a\r\n      className={props.url === location.pathname ? \"underline\" : \"\"}\r\n      onClick={() => {\r\n        window.location.href = props.url;\r\n      }}\r\n    >\r\n      {props.txt}\r\n    </a>\r\n  );\r\n}\r\n\r\nexport default function Header(props) {\r\n  const [firstRenderDone, setFirstRender] = useState(false);\r\n  useEffect(() => {\r\n    if (firstRenderDone) changeToggle(\"register\");\r\n  }, [props.toggleRegisterfromLanding]);\r\n  useEffect(() => {\r\n    setFirstRender(true);\r\n  });\r\n\r\n  const [clicked, setClicked] = useState(false);\r\n  const [toggleLogin, setToggleLogin] = useState(false);\r\n  const [toggleRegister, setToggleRegister] = useState(false);\r\n  // const [isAuthenticated, setIsAuthenticated] = useState(true);\r\n  //const [currentUser, setCurrentUser] = useState();\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [toggleAccount, setToggleAccount] = useState(false);\r\n  const [toggleEditDetails, setToggleEditDetails] = useState(false);\r\n  const [toggleChangePass, setToggleChangePass] = useState(false);\r\n  const headerRef = useRef(null);\r\n  const toggleMenu = () => {\r\n    setClicked(!clicked);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!props.landing) {\r\n      headerRef.current.style.paddingTop = \"10px\";\r\n      headerRef.current.style.marginTop = \"0px\";\r\n      headerRef.current.style.paddingBottom = \"10px\";\r\n      headerRef.current.style.background = \"#2254AA\";\r\n    }\r\n    window.addEventListener(\"scroll\", changeCss, false);\r\n  }, []);\r\n\r\n  function changeCss() {\r\n    if (props.landing) {\r\n      if (this.scrollY > 500) {\r\n        headerRef.current.style.paddingTop = \"10px\";\r\n        headerRef.current.style.paddingBottom = \"10px\";\r\n        headerRef.current.style.backgroundColor = \"#011B46\";\r\n      } else {\r\n        headerRef.current.style.paddingTop = \"2em\";\r\n        headerRef.current.style.backgroundColor = \"transparent\";\r\n      }\r\n    } else {\r\n      headerRef.current.style.paddingTop = \"10px\";\r\n      headerRef.current.style.paddingBottom = \"10px\";\r\n      headerRef.current.style.backgroundColor = \"#011B46\";\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    fetch(\"/api/users/logout\", {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        localStorage.clear();\r\n        props.setIsAuthenticated(false);\r\n        props.setCurrentUser(null);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const changeToggle = (e) => {\r\n    if (e === \"login\") {\r\n      setToggleRegister(false);\r\n      setToggleLogin(true);\r\n    }\r\n    if (e === \"register\") {\r\n      setToggleLogin(false);\r\n      setToggleRegister(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {toggleLogin && (\r\n        <Login\r\n          setToggleLogin={setToggleLogin}\r\n          setToggleRegister={setToggleRegister}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n        />\r\n      )}\r\n      {toggleRegister && (\r\n        <RegisterPopUp\r\n          setToggleRegister={setToggleRegister}\r\n          setToggleLogin={setToggleLogin}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n        />\r\n      )}\r\n      {toggleAccount && (\r\n        <UserAccount\r\n          setToggleAccount={setToggleAccount}\r\n          currentUser={props.currentUser}\r\n        />\r\n      )}\r\n      {toggleEditDetails && (\r\n        <EditUserDetails\r\n          setToggleEditDetails={setToggleEditDetails}\r\n          setToggleChangePass={setToggleChangePass}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n          isAuthenticated={props.isAuthenticated}\r\n          currentUser={props.currentUser}\r\n        />\r\n      )}\r\n      {toggleChangePass && (\r\n        <ChangePassword\r\n          setToggleChangePass={setToggleChangePass}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n          isAuthenticated={props.isAuthenticated}\r\n          currentUser={props.currentUser}\r\n        />\r\n      )}\r\n\r\n      <div className=\"header\" ref={headerRef}>\r\n        <div className=\"container\">\r\n          <div\r\n            onClick={() => {\r\n              window.location.href = \"/\";\r\n            }}\r\n            className=\"logo\"\r\n          >\r\n            <img src={logo2} className=\"lg\" alt=\"Oakar Services Logo\" />\r\n            <h2>Geoportal</h2>\r\n          </div>\r\n\r\n          <div className=\"nav\">\r\n            <NavLink\r\n              className=\"navlink\"\r\n              txt=\"Home\"\r\n              url=\"/\"\r\n              active={props.parent}\r\n            />\r\n            <NavLink txt=\"Browse Data\" url=\"/data\" active={props.parent} />\r\n            <NavLink\r\n              txt=\"Knowledge Hub\"\r\n              url=\"/publications\"\r\n              active={props.parent}\r\n            />\r\n            <NavLink txt=\"About\" url=\"/about\" active={props.parent} />\r\n            <NavLink txt=\"Contact Us\" url=\"/contact\" active={props.parent} />\r\n            <div\r\n              className=\"nav2\"\r\n              onMouseOver={() => setShowSettings(true)}\r\n              onMouseOut={() => setShowSettings(false)}\r\n            >\r\n              {props.isAuthenticated ? (\r\n                <div className=\"loginOut\">\r\n                  <div>\r\n                    {props.currentUser && props.currentUser.Name && (\r\n                      <h5>\r\n                        {props.currentUser.Name}{\" \"}\r\n                        <span>\r\n                          <i className=\"fa fa-caret-down\"></i>\r\n                        </span>\r\n                      </h5>\r\n                    )}\r\n                  </div>\r\n                  {showSettings ? (\r\n                    <div className=\"userOptions showSettings\">\r\n                      <h5\r\n                        onClick={() => {\r\n                          setToggleAccount(true);\r\n                        }}\r\n                      >\r\n                        Account\r\n                      </h5>\r\n                      <h5\r\n                        onClick={() => {\r\n                          setToggleEditDetails(true);\r\n                        }}\r\n                      >\r\n                        Edit Details\r\n                      </h5>\r\n                      <h5\r\n                        onClick={() => {\r\n                          setToggleChangePass(true);\r\n                        }}\r\n                      >\r\n                        Change Password\r\n                      </h5>\r\n                      <h5\r\n                        onClick={() => {\r\n                          logout();\r\n                        }}\r\n                      >\r\n                        Logout\r\n                      </h5>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"userOptions\">\r\n                      <h5\r\n                        onClick={() => {\r\n                          {\r\n                            setToggleAccount(true);\r\n                          }\r\n                        }}\r\n                      >\r\n                        Account\r\n                      </h5>\r\n                      <h5\r\n                        onClick={() => {\r\n                          setToggleEditDetails(true);\r\n                        }}\r\n                      >\r\n                        Edit Details\r\n                      </h5>\r\n                      <h5\r\n                        onClick={() => {\r\n                          setToggleChangePass(true);\r\n                        }}\r\n                      >\r\n                        Change Password\r\n                      </h5>\r\n                      <h5>Logout</h5>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <button\r\n                  className=\"loginOut\"\r\n                  onClick={() => changeToggle(\"login\")}\r\n                >\r\n                  Login\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <i\r\n            onClick={() => {\r\n              toggleMenu();\r\n            }}\r\n            className=\"fa fa-bars\"\r\n          ></i>\r\n        </div>\r\n      </div>\r\n      {clicked && (\r\n        <ModalHeader\r\n          active={props.active}\r\n          logout={logout}\r\n          isAuthenticated={props.isAuthenticated}\r\n          toggleMenu={toggleMenu}\r\n          setToggleLogin={setToggleLogin}\r\n          setToggleRegister={setToggleRegister}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg0.179ed4b3.jpg\";","export default __webpack_public_path__ + \"static/media/bg1.d8812b3b.jpg\";","export default __webpack_public_path__ + \"static/media/bg2.320552f9.jpg\";","export default __webpack_public_path__ + \"static/media/bg3.11459e68.jpg\";","export default __webpack_public_path__ + \"static/media/bg4.d0d4613e.jpg\";","export default __webpack_public_path__ + \"static/media/bg5.1d757e66.jpg\";","export default __webpack_public_path__ + \"static/media/bg6.72c3870c.jpg\";","import React from \"react\";\r\n// Import Swiper React components\r\nimport { Swiper, SwiperSlide } from \"swiper/react/swiper-react.js\";\r\n// Styles must use direct files imports\r\nimport \"swiper/swiper.scss\"; // core Swiper\r\nimport \"swiper/modules/effect-cards/effect-cards.scss\"; // Navigation module\r\nimport \"swiper/modules/pagination/pagination.scss\"; // Pagination module\r\nimport \"./Cards.scss\";\r\n// import Swiper core and required modules\r\nimport SwiperCore, { Autoplay, EffectCards } from \"swiper\";\r\n// install Swiper modules\r\nSwiperCore.use([Autoplay, EffectCards]);\r\n\r\nconst Item = (props) => {\r\n  return (\r\n    <div className=\"items\">\r\n      <img src={props.item.image} alt=\"\" />\r\n      <h4>{props.item.txt}</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Cards(props) {\r\n  return (\r\n    <>\r\n      <Swiper\r\n        effect={\"cards\"}\r\n        autoplay={{\r\n          delay: 2500,\r\n          disableOnInteraction: false,\r\n        }}\r\n        grabCursor={true}\r\n        className=\"cardSwiper\"\r\n      >\r\n        {props.data?.map((item, index) => {\r\n          return (\r\n            <SwiperSlide key={index} className=\"card\">\r\n              <Item item={item} />\r\n            </SwiperSlide>\r\n          );\r\n        })}\r\n      </Swiper>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Logo-accent.cac0851e.png\";","import { useEffect, useRef } from \"react\";\r\n\r\nimport logo from \"../../assets/imgs/Logo-accent.png\";\r\nexport default function CoolText(props) {\r\n  const txt1 = useRef();\r\n  const txt2 = useRef();\r\n\r\n  const texts = [\"OSL\", \"Data\", \"Hub\"];\r\n\r\n  useEffect(() => {\r\n    const morphTime = 1;\r\n    const cooldownTime = 0.25;\r\n\r\n    let textIndex = texts.length - 1;\r\n    let time = new Date();\r\n    let morph = 0;\r\n    let cooldown = cooldownTime;\r\n\r\n    txt1.current.textContent = texts[textIndex % texts.length];\r\n    txt2.current.textContent = texts[(textIndex + 1) % texts.length];\r\n\r\n    function doMorph() {\r\n      morph -= cooldown;\r\n      cooldown = 0;\r\n\r\n      let fraction = morph / morphTime;\r\n\r\n      if (fraction > 1) {\r\n        cooldown = cooldownTime;\r\n        fraction = 1;\r\n      }\r\n\r\n      setMorph(fraction);\r\n    }\r\n\r\n    function setMorph(fraction) {\r\n      txt2.current.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;\r\n      txt2.current.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\r\n\r\n      fraction = 1 - fraction;\r\n      txt1.current.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;\r\n      txt1.current.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;\r\n\r\n      txt1.current.textContent = texts[textIndex % texts.length];\r\n      txt2.current.textContent = texts[(textIndex + 1) % texts.length];\r\n    }\r\n\r\n    function doCooldown() {\r\n      morph = 0;\r\n\r\n      txt2.current.style.filter = \"\";\r\n      txt2.current.style.opacity = \"100%\";\r\n\r\n      txt1.current.style.filter = \"\";\r\n      txt1.current.style.opacity = \"0%\";\r\n    }\r\n\r\n    function animate() {\r\n      requestAnimationFrame(animate);\r\n\r\n      let newTime = new Date();\r\n      let shouldIncrementIndex = cooldown > 0;\r\n      let dt = (newTime - time) / 1000;\r\n      time = newTime;\r\n\r\n      cooldown -= dt;\r\n\r\n      if (cooldown <= 0) {\r\n        if (shouldIncrementIndex) {\r\n          textIndex++;\r\n        }\r\n\r\n        doMorph();\r\n      } else {\r\n        doCooldown();\r\n      }\r\n    }\r\n\r\n    animate();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"cool_text\">\r\n      <div className=\"container\">\r\n        <span className=\"text1\" ref={txt1}></span>\r\n        <span className=\"text2\" ref={txt2}></span>\r\n      </div>\r\n\r\n      <svg id=\"filters\">\r\n        <defs>\r\n          <filter id=\"threshold\">\r\n            <feColorMatrix\r\n              in=\"SourceGraphic\"\r\n              type=\"matrix\"\r\n              values=\"1 0 0 0 0\r\n                  0 1 0 0 0\r\n                  0 0 1 0 0\r\n                  0 0 0 255 -140\"\r\n            />\r\n          </filter>\r\n        </defs>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport bg0 from \"../../assets/imgs/bg0.jpg\";\r\nimport bg1 from \"../../assets/imgs/bg1.jpg\";\r\nimport bg2 from \"../../assets/imgs/bg2.jpg\";\r\nimport bg3 from \"../../assets/imgs/bg3.jpg\";\r\nimport bg4 from \"../../assets/imgs/bg4.jpg\";\r\nimport bg5 from \"../../assets/imgs/bg5.jpg\";\r\nimport bg6 from \"../../assets/imgs/bg6.jpg\";\r\nimport \"../Landing/Cards.scss\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n// import \"swiper/swiper.min.css\";\r\n// import \"swiper/modules/pagination/pagination.scss\"; // Pagination module\r\n// import \"swiper/css\";\r\n// import \"swiper/css/pagination\";\r\nimport SwiperCore, { Autoplay, Pagination } from \"swiper\";\r\nimport Header from \"../Utils/header\";\r\nimport Cards from \"../Landing/Cards\";\r\nimport CoolText from \"./CoolText\";\r\nSwiperCore.use([Autoplay, Pagination]);\r\n\r\nexport default function Background(params) {\r\n  const [index, setIndex] = useState(0);\r\n  const [cls, setCls] = useState(\"\");\r\n  const imgs = [bg0, bg1, bg2, bg3, bg4, bg5, bg6];\r\n  const content = [\r\n    {\r\n      title: \"Agriculture\",\r\n      desc: \"provides the best Software solutions that you require to boost your business.\",\r\n    },\r\n    {\r\n      title: \"Climate and Weather\",\r\n      desc: \"features swiftly made, easily edited, beautifully deployed apps\",\r\n    },\r\n    {\r\n      title: \"Natural Resources\",\r\n      desc: \"provides for a simple, magical way to connect with people\",\r\n    },\r\n    {\r\n      title: \"Spatial Planning\",\r\n      desc: \"make apps that feel good to use and bring joy to those you’re offering them to\",\r\n    },\r\n    {\r\n      title: \"Disaster\",\r\n      desc: \"make apps that feel good to use and bring joy to those you’re offering them to\",\r\n    },\r\n    {\r\n      title: \"General Data\",\r\n      desc: \"make apps that feel good to use and bring joy to those you’re offering them to\",\r\n    },\r\n  ];\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      setCls(\"fadeOut\");\r\n    }, 10000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (cls !== \"\") {\r\n      if (index + 1 === imgs.length) {\r\n        setTimeout(() => {\r\n          setIndex(0);\r\n          setCls(\"\");\r\n        }, 1000);\r\n      } else {\r\n        setTimeout(() => {\r\n          setIndex(index + 1);\r\n          setCls(\"\");\r\n        }, 1000);\r\n      }\r\n    }\r\n  }, [cls]);\r\n\r\n  return (\r\n    <div style={{ backgroundImage: imgs[index + 1] }} className=\"bg\">\r\n      <img className={cls} src={imgs[index]} alt=\"\" />\r\n      <div className=\"nhero\">\r\n        <Swiper\r\n          autoplay={{\r\n            delay: 10000,\r\n            disableOnInteraction: false,\r\n          }}\r\n          loop={true}\r\n          grabCursor={true}\r\n          pagination={true}\r\n          modules={[Pagination]}\r\n          className=\"mySwiper\"\r\n        >\r\n          {content.map((item, i) => {\r\n            return (\r\n              <SwiperSlide key={i}>\r\n                <MySlider item={item} />\r\n              </SwiperSlide>\r\n            );\r\n          })}\r\n        </Swiper>\r\n        <div className=\"themes\">\r\n          {content.map((item, index) => {\r\n            return (\r\n              <p\r\n                onClick={() => {\r\n                  window.location.href = \"/categories/\" + item.title;\r\n                }}\r\n              >\r\n                {item.title}\r\n              </p>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"coffee-medium__smoke coffee-medium__smoke-one\"></div>\r\n        <div className=\"coffee-medium__smoke coffee-medium__smoke-two\"></div>\r\n        <div className=\"coffee-medium__smoke coffee-medium__smoke-three\"></div>\r\n        <div className=\"coffee-medium__smoke coffee-medium__smoke-for\"></div>\r\n        <div className=\"coffee-medium__cup\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MySlider = (props) => {\r\n  const images = [bg0, bg1, bg2, bg3, bg4, bg5];\r\n\r\n  return (\r\n    <div className=\"s_hero\">\r\n      <div data-aos=\"fade-up\" className=\"left\">\r\n        <h1>{props.item.title}</h1>\r\n        <div>\r\n          <h4>\r\n            Explore the Oakar Services <br></br> Geoportal\r\n          </h4>\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => {\r\n            window.location.href = \"/categories/\" + props.item.title;\r\n          }}\r\n        >\r\n          Explore Data\r\n        </button>\r\n      </div>\r\n      <CoolText />\r\n    </div>\r\n  );\r\n};\r\n","import \"../Styles/landing.scss\";\r\nimport React, { useState } from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\n// Styles must use direct files imports\r\nimport \"swiper/swiper.scss\"; // core Swiper\r\nimport \"swiper/modules/effect-cards/effect-cards.scss\"; // Navigation module\r\nimport \"swiper/modules/pagination/pagination.scss\"; // Pagination module\r\n// import Swiper core and required modules\r\nimport SwiperCore, { Autoplay, Pagination, Navigation } from \"swiper\";\r\nimport Background from \"../components/LandingNew/Background\";\r\n\r\nSwiperCore.use([Autoplay, Pagination, Navigation]);\r\n\r\nexport default function LandingPage(props) {\r\n  const [toggleRegister, setToggleRegister] = useState(false);\r\n\r\n  return (\r\n    <div className=\"landingnew\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        toggleRegisterfromLanding={toggleRegister}\r\n        landing={true}\r\n        parent='landing'\r\n      />\r\n      <Background />\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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ZjFjIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY4NTQyYTNjLTY2YjQtNGNiZi1hNjI4LTBiYzJkMDQzN2U5YSIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmVkOWZiNmFjLWYzZGItNDg2Mi1hNjk4LWI5YWQ1MjZhODM4YiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IkxpbnV4IgogICBHSU1QOlRpbWVTdGFtcD0iMTY1Mjk0NTQ3ODQ2MzkwMyIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjMwIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjI2NjU2MzNjLTk3ODQtNGI5YS1iMDc0LTkwZTMxZDA1N2YzOSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjItMDUtMTlUMTA6MzE6MTgrMDM6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAg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\"","export default \"data:image/png;base64,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S12lb4CDQ2CkRNlrPu/u7uzt3zOt/n4ANLByjvLW5i8AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmQ2OTg2Mjk5LTA4OTAtNDg4YS05MzAxLWEyMDA0NTRmZTAyNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNjU4YTlhMS0zZWNiLTQwN2YtOWRmZS00MDI3M2NjNTJmZjgiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNDc0ODQ5NC00NjljLTRjMDMtYjA3OC05NzYwOWY1MTNmOTIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2NTI5NDU1MTQzNTUzNjUiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZDFiMDI1Ny0yOTUyLTQ4MjEtYWQ3NC1kNWQ5M2M5MGI0MzYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIyLTA1LTE5VDEwOjMxOjU0KzAzOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PmSytjkAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfmBRMHHzaBKqi8AAAJlUlEQVR42u3dy27bMBCGUVPwhu//sFy6qxRpeottXTj8z1k3dq0AnY8jC223YGOMxw2AWL33lvrZYz64YQ+AKAgIAAMfAEEQEgCGPgBiICQADH0AxEBIABj6AIiBoAAw+AEQAkEBYPADIASCAsDgB0AIBAWAwQ+AEAgLAMMfABEQFAAGPwBCICgADH4A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\"","export default \"data:image/png;base64,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LmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDo1ZTM2YTE0NS1kYzhkLTQxMTctODM1MC04N2JkYjZkMTcyNzMiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MGFkNWExZTEtYzQ0YS00NmYxLTg4YTYtMTYwMGYyN2Y4NjU5IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZWVmNmI5ZmEtYTNhNS00ZDNjLThmYWQtZjNiN2Y3NTA3NmJkIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjUyOTQ1NTM2ODIzMDkyIgogICBHSU1QOlZlcnNpb249IjIuMTAuMzAiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjUyNWZjMjEtZDUwZi00OTIxLWFjYjAtMzEyMWQ4NzU2MmU0IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMi0wNS0xOVQxMDozMjoxNiswMzowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6Nx3/7AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5gUTByAQC/kHfQAAD19JREFUeNrt3cFWHLkSBNAqDhv+/2NZ2ivOAUxDt1FJqYx7t2+ezXRJilBWj30eRHl9ff3jUwC+8vLycvoUcnjYQh5AOVAAEPQAioECgMAHUAgUAAQ+gEKgACD0AZQBBQCBD6AQKAAIfgBFQAFA6AMoAwqA0AdAGVAABD8AioACIPQBUAYUAMEPgCKgAAh+ABQBBUDwAygCioACIPgBFAEUAMEPoAigAAh+AEUABUD4AygBCgCCH0ARUAAEPwCKgAIg/AFQAhQAwQ+AIqAACH8AlAAFQPADoAgoAMIfACVAARD+ACgBCoDgB0ARUACEPwBKgAIg/AFQAhQAwQ+AIqAACH8AlIDkAiD8AVACwgqA8AdACQgrAMIfACUgqAAIfgAUgbACIPwBUALCCoDwB0AJCCsAwh8AJSCsAAh/AJSAsAIg/AFQAsIKgPAHQAkIKwDCHwAlIKwACH8AlICwAiD8AVACwgqA8AdACQgrAMIfACVgjiePAwDylGkibv8AmAKEFQDhD4ASEFYAhD8ASkBYARD+ACgBYQVA+APAuhLgvwIAgEBLWofbPwCsnQJM/w2FPwCsLwFTfzPhDwA1SoDvAABAoGlNw+0fAOpMAab8JsIfAGqVgMt/A+EPAPVKgO8AAECgS9uF2z8A1JwCXPYLC38A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\"","export default __webpack_public_path__ + \"static/media/linkedin.634e4f86.png\";","import trImg from \"../../assets/imgs/twitter.png\";\r\nimport fbImg from \"../../assets/imgs/facebook.png\";\r\nimport igImg from \"../../assets/imgs/instagram.png\";\r\nimport lnImg from \"../../assets/imgs/linkedin.png\"\r\n\r\nexport default function SocialMain(props) {\r\n  let links = {}\r\n  links.facebook='https://www.facebook.com/KenyaSpaceAgencyOfficial'\r\n  links.instagram='https://www.instagram.com/kenya_space_agency/'\r\n  links.twitter='https://twitter.com/SpaceAgencyKE'\r\n  links.linkedin='https://www.linkedin.com/company/kenya-space-agency-official'\r\n  links.youtube='https://www.youtube.com/channel/UCW-ZIdWie7hAhWgX24AMtQA'\r\n  links.whatsapp='#whatsapp'\r\n\r\n  return (\r\n    <div className=\"social\">\r\n      <img onClick={()=>{ window.location.href = `${links.facebook}`}} src={fbImg} alt=\"\" />\r\n      <img onClick={()=>{ window.location.href = `${links.instagram}`}} src={igImg} alt=\"\" />\r\n      <img onClick={()=>{ window.location.href = `${links.twitter}`}} src={trImg} alt=\"\" />\r\n      <img onClick={()=>{ window.location.href = `${links.linkedin}`}} src={lnImg} alt=\"\" />\r\n      \r\n      {/* <img onClick={()=>{ window.location.href = `${links.whatsapp}`}} src={wpImg} alt=\"\" /> */}\r\n      {/* <img src={ytImg} alt=\"\" /> */}\r\n      \r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, {useRef} from \"react\";\r\nimport \"../../Styles/Feedbackform.scss\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function FeedBackForm(props) {\r\n  const [isLoading, setIsLoading] = useState(null);\r\n  const [isErr, setIsErr] = useState(null);\r\n\r\n  const rfName = useRef();\r\n  const rfEmail = useRef();\r\n  const rfContent = useRef();\r\n\r\n  const [body, updateBody] = useState({\r\n    To: \"\",\r\n    From: \"\",\r\n    Subject: \"FeedBack\",\r\n    Content: \"\",\r\n  });\r\n\r\n  const sendFeedBack = () => {\r\n    setIsLoading(true);\r\n    let d = body;\r\n    d.To = rfEmail.current.value;\r\n    d.From = rfName.current.value;\r\n    d.Subject = \"FeedBack\";\r\n    d.Content = rfContent.current.value;\r\n\r\n    updateBody(d);\r\n    setIsErr(\"\");\r\n    if (!validateEmail(body.To))\r\n      return setIsErr(\"Please enter a valid email address!\");\r\n    if (!validateMessage(body.Content))\r\n      return setIsErr(\"Message can not be blank!\");\r\n\r\n    if (validateEmail(body.To) && validateMessage(body.Content)) {\r\n      fetch(\"/api/messages/post\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.success) {\r\n            setIsErr(data.success);\r\n            rfName.current.value = \"\";\r\n            rfEmail.current.value = \"\";\r\n            rfContent.current.value = \"\";\r\n          } else if (data.error) {\r\n            setIsErr(data.error);\r\n          } else setIsErr(\"Oops! Something went wrong!\");\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n          setIsErr(\"Oops! Something went wrong!\");\r\n        });\r\n    };\r\n  };\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  const validateMessage = (content) => {\r\n    return content.length >= 1;\r\n  };\r\n\r\n  return (\r\n    <div className=\"feedbackform\">\r\n      <div className=\"ff_container\">\r\n        <h3>Feedback form</h3>\r\n        <p>We'd like to hear from you!</p>\r\n        <p>{isErr}</p>\r\n        <form\r\n          action=\"\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n          }}\r\n        >\r\n          <input label=\"Name\" placeholder=\"Full Name\" ref={rfName} />\r\n\r\n          <input type=\"text\" placeholder=\"Email\" ref={rfEmail} />\r\n          <textarea\r\n            cols=\"30\"\r\n            rows=\"2\"\r\n            placeholder=\"Message\"\r\n            ref={rfContent}\r\n          ></textarea>\r\n          <button\r\n            onClick={() => {\r\n              sendFeedBack();\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n\r\n        <p\r\n          onClick={() => {\r\n            props.setShowFeedBackForm(false);\r\n          }}\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          close\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import { useState } from \"react\";\r\nimport Social from \"./SocialMain\";\r\nimport FeedBackForm from \"./FeedBackForm\";\r\n\r\nexport default function FooterItem(props) {\r\n  const [show, setShow] = useState(true);\r\n  const [showFeedBackForm, setShowFeedBackForm] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setShow(!show);\r\n  };\r\n\r\n  return (\r\n    <div className=\"section\">\r\n      <div className=\"hd\">\r\n        <h3>{props.title}</h3>\r\n\r\n        {!show && (\r\n          <i\r\n            onClick={() => {\r\n              handleClick();\r\n            }}\r\n            className=\"fa fa-plus\"\r\n          ></i>\r\n        )}\r\n        {show && (\r\n          <i\r\n            onClick={() => {\r\n              handleClick();\r\n            }}\r\n            className=\"fa fa-minus\"\r\n          ></i>\r\n        )}\r\n      </div>\r\n      <hr />\r\n      <p>{props.info}</p>\r\n      <p>{props.mail}</p>\r\n      <p>{props.num1}</p>\r\n      <p>{props.num2}</p>\r\n      {show && (\r\n        <>\r\n          <p className=\"info\" onClick={() => window.location.href=props.link1}>{props.i1}</p>\r\n          <p className=\"info\" onClick={() => window.location.href=props.link2}>{props.i2}</p>\r\n          <p className=\"info\" onClick={() => window.location.href=props.link3}>{props.i3}</p>\r\n          <p className=\"info\" onClick={() => window.location.href=props.link4}>{props.i4}</p>\r\n          <p className=\"info\" onClick={() => {setShowFeedBackForm(true)}}>{props.ff}</p>\r\n          <p className=\"info\"><a className=\"info\" href={props.link5} target=\"_blank\">{props.i5}</a></p>\r\n          {props.social && <Social/>}\r\n        </>\r\n      )}\r\n      {showFeedBackForm && <FeedBackForm setShowFeedBackForm={setShowFeedBackForm}/>}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Public Portal Documentation.e6b646b9.pdf\";","import React from \"react\";\r\nimport FooterItem from \"./footerItem\";\r\nimport pdf from \"../../assets/Doc/Public Portal Documentation.pdf\";\r\n\r\n\r\nclass Footer extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"footer\" id=\"footer\">\r\n        <div className=\"overlay\"></div>\r\n        <div className=\"container\">\r\n          <FooterItem\r\n            title=\"Oakar Services\"\r\n            info=\"Think Geospatial Solutions\"\r\n          />\r\n          <FooterItem\r\n            title=\"Sitemap\"\r\n            i1=\"Home\"\r\n            link1=\"/\"\r\n            i2=\"Browse Data\"\r\n            link2=\"/data\"\r\n            i3=\"About\"\r\n            link3=\"/about\"\r\n            i4=\"Knowledge Hub\"\r\n            link4=\"/publications\"\r\n            i5=\"User Manual\"\r\n            link5={pdf}\r\n          />\r\n          <FooterItem\r\n            title=\"LEGAL\"\r\n            i1=\"Terms and Conditions\"\r\n            link1=\"/terms\"\r\n            i2=\"Privacy Policy\"\r\n            link2=\"/privacypolicy\"\r\n          />\r\n          <FooterItem\r\n            title=\"Quick Links\"\r\n            i1=\"FAQs\"\r\n            link1=\"/faqs\"\r\n            ff=\"Give feedback\"\r\n          />   \r\n          <FooterItem\r\n            title=\"CONTACTS\"\r\n            mail=\"sales@osl.co.ke\"\r\n            num1=\"+254 709 298 200\"\r\n            num2=\"+254 733 000 000\"\r\n            social={true}\r\n          />\r\n        </div>\r\n        <span className=\"copyright\">Copyright 2022. All rights reserved.</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Pagination = ({ totalItems, currentPage, onPageChange }) => {\r\n  const totalPages = Math.ceil(totalItems / 12);\r\n  const maxVisiblePages = 5;\r\n  const halfVisiblePages = Math.floor(maxVisiblePages / 2);\r\n  let startPage = Math.max(currentPage - halfVisiblePages, 1);\r\n  let endPage = Math.min(startPage + maxVisiblePages - 1, totalPages);\r\n\r\n  if (endPage - startPage < maxVisiblePages - 1) {\r\n    startPage = Math.max(endPage - maxVisiblePages + 1, 1);\r\n  }\r\n\r\n  let pageNumbers = Array.from(\r\n    { length: endPage - startPage + 1 },\r\n    (_, index) => startPage + index\r\n  );\r\n\r\n  if (pageNumbers.length === 0) {\r\n    pageNumbers = [1]\r\n  }\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    onPageChange(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <div className=\"cpagination\">\r\n      <i\r\n        onClick={() => {\r\n          if (currentPage > 1) {\r\n            onPageChange(currentPage - 1);\r\n          }\r\n        }}\r\n        className=\"fa fa-arrow-left\"\r\n      ></i>\r\n      {currentPage > 5 && (\r\n        <h5\r\n          onClick={() => {\r\n            handlePageChange(1);\r\n          }}\r\n        >\r\n          {1}\r\n        </h5>\r\n      )}\r\n      {currentPage > 5 && <p>...</p>}\r\n      {pageNumbers.map((pageNumber) => (\r\n        <h5\r\n          key={pageNumber}\r\n          onClick={() => handlePageChange(pageNumber)}\r\n          className={`page-item ${pageNumber === currentPage ? \"active\" : \"\"}`}\r\n        >\r\n          {pageNumber}\r\n        </h5>\r\n      ))}\r\n      {pageNumbers.length === 5 && <p>...</p>}\r\n      {pageNumbers.length === 5 && (\r\n        <h5\r\n          onClick={() => {\r\n            handlePageChange(totalPages);\r\n          }}\r\n        >\r\n          {totalPages}\r\n        </h5>\r\n      )}\r\n      <i\r\n        onClick={() => {\r\n          if (currentPage < pageNumbers.length) {\r\n            onPageChange(currentPage + 1);\r\n          }\r\n        }}\r\n        className=\"fa fa-arrow-right\"\r\n      ></i>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;","export default function WaveLoading(params) {\r\n  return (\r\n    <div className=\"wave_loading\">\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n      <div className=\"wave\"></div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/folder1.7d0356dd.png\";","import { React, useEffect, useState } from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport \"../Styles/documents.scss\";\r\nimport Pagination from \"../components/Utils/pagination\";\r\nimport { useRef } from \"react\";\r\nimport SelectMain from \"../components/Utils/SelectMain\";\r\nimport WaveLoading from \"../components/Utils/WaveLoading\";\r\nimport placeholder from \"../assets/imgs/folder1.png\";\r\n\r\nconst criteria = [\"Title\", \"Collection\", \"Description\", \"Owner\", \"Keywords\"];\r\n\r\nexport default function DataPage(props) {\r\n  const [data, setData] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [crit, setCrit] = useState(criteria[0]);\r\n  const [loading, setLoading] = useState(null);\r\n  const [filter, setFilter] = useState(\"All\");\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [query, setQuery] = useState(null);\r\n  const [isFixed, setIsFixed] = useState(false);\r\n  const srch = useRef();\r\n\r\n  const handleScroll = () => {\r\n    const scrollY = window.scrollY;\r\n    setIsFixed(scrollY > 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!query || query == \"\") {\r\n      if (filter == \"All\") {\r\n        setLoading(true);\r\n        fetch(`/api/data/status/${(currentPage - 1) * 12}`)\r\n          .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else throw Error(\"\");\r\n          })\r\n          .then((data) => {\r\n            setLoading(false);\r\n            setData(data);\r\n          })\r\n          .catch((e) => {\r\n            setLoading(false);\r\n          });\r\n      } else {\r\n        setLoading(true);\r\n        fetch(`/api/data/apaginated/status/${filter}/${(currentPage - 1) * 12}`)\r\n          .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else throw Error(\"\");\r\n          })\r\n          .then((data) => {\r\n            setLoading(false);\r\n            setData(data);\r\n          })\r\n          .catch((e) => {\r\n            setLoading(false);\r\n          });\r\n      }\r\n    }\r\n    else {\r\n      search(query);\r\n    }\r\n  }, [currentPage, refresh, filter, query]);\r\n\r\n  function search(q) {\r\n    if (filter == \"All\") {\r\n      setLoading(true);\r\n      fetch(`/api/data/status/search/${crit}/${q}/${(currentPage - 1) * 12}`)\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n          setData(data);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n    else {\r\n      setLoading(true);\r\n      fetch(`/api/data/category/${filter}/status/search/${crit}/${q}/${(currentPage - 1) * 12}`)\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n          setData(data);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"data\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        parent=\"Browse Data\"\r\n      />\r\n      <div className=\"dcontainer\">\r\n        <div className=\"arc\">\r\n          <div className=\"slist\">\r\n            <div className=\"scontainer\">\r\n              <div className={`left ${isFixed ? \"fixed\" : \"\"}`}>\r\n                <Category\r\n                  txt=\"All\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Agriculture\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Climate and Weather\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Natural Resources\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Spatial Planning\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Disaster\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                {/* <Category\r\n                  txt=\"Raster Data\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                /> */}\r\n                <Category\r\n                  txt=\"General Data\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n                <Category\r\n                  txt=\"Time Series\"\r\n                  filter={filter}\r\n                  setFilter={setFilter}\r\n                  setCurrentPage={setCurrentPage}\r\n                />\r\n              </div>\r\n              <div className=\"smain\">\r\n                <div className=\"top\">\r\n                  <dir className=\"yr\">\r\n                    <h4>Search Criteria</h4>\r\n                    <SelectMain\r\n                      data={criteria}\r\n                      getSelected={(v) => {\r\n                        setCrit(v);\r\n                      }}\r\n                    />\r\n                  </dir>\r\n                  <form\r\n                    onSubmit={(e) => {\r\n                      e.preventDefault();\r\n                    }}\r\n                  >\r\n                    <input\r\n                      ref={srch}\r\n                      type=\"text\"\r\n                      placeholder={\"Searching by \" + crit}\r\n                      required\r\n                      onChange={(e) => {\r\n                        if (e.target.value == \"\") {\r\n                          setData(null);\r\n                          setRefresh(!refresh);\r\n                          setQuery(e.target.value);\r\n                        } else {\r\n                          setQuery(e.target.value);\r\n                        }\r\n                      }}\r\n                    />\r\n                    <i className=\"fa fa-search\"></i>\r\n                  </form>\r\n                </div>\r\n\r\n                {data && data?.data?.length > 0 ? (\r\n                  <div className=\"list\">\r\n                    {data?.data?.map((item, i) => {\r\n                      return (\r\n                        <MyDocument key={i} item={item}/>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"nodata\">\r\n                    <p>\r\n                      Oops! There is no result for this criteria at the moment.\r\n                      To suggest or request data, please contact us{\" \"}\r\n                      <a href=\"/contact\" title=\"Talk to us.\">\r\n                        here\r\n                      </a>\r\n                      .\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                <br />\r\n                <br />\r\n                {data && (\r\n                  <Pagination\r\n                    totalItems={data.total}\r\n                    currentPage={currentPage}\r\n                    onPageChange={handlePageChange}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n            {loading && <WaveLoading />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Category = (props) => {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.setFilter(props.txt);\r\n        props.setCurrentPage(1);\r\n      }}\r\n      style={{\r\n        backgroundColor: props.txt == props.filter ? \"#60606030\" : \"white\",\r\n      }}\r\n      className=\"category\"\r\n    >\r\n      <p>{props.txt}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MyDocument = (props) => {\r\n  return (\r\n    <div\r\n      title={props.item.Collection ? `Collection: ${props.item.Collection}` : `Map Description: \\n\\n ${props.item.Description}`}\r\n      className=\"stk\"\r\n      onClick={() => {\r\n        if (props.item.Collection) {\r\n          window.location.href = `/collections/${props.item.Collection}`;\r\n        } else {\r\n          window.location.href = `/maps/${props.item.Category}/${props.item.ID}`;\r\n        }\r\n      }}\r\n    >\r\n      {props.item.Collection ? <span className=\"collectionLabel\">Data Group</span>:\"\"}\r\n      {props.item.Collection ? <img src={placeholder} alt=\"\" /> : <img src={`/api/${props.item.Thumbnail}`} alt=\"\" />}\r\n      <div className=\"np\">\r\n        <div className=\"tp\">\r\n          {props.item.Collection ? <h3>{`Collection: ${props.item.Collection}`}</h3> : <h3>{props.item.Title}</h3>}\r\n        </div>\r\n        <h4>Owner: {props.item.Owner}</h4>\r\n        {props.item.Collection && <h4>Collection: {props.item.Collection}</h4>}\r\n        <h4>Date Published: {props.item.updatedAt.split(\"T\")[0]}</h4>\r\n        <p>{props.item.Description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Prompt(props) {\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <h3>{props.target === \"messages\" ? \"Reply to Message\" : \"Reply to Comment\"}</h3>\r\n      \r\n\r\n          <h5 style={{\"color\":\"red\", \"text-align\":\"center\"}}>Log in to reply to this comment</h5>\r\n\r\n        <h4\r\n          onClick={() => {\r\n            props.setReplyComment(false)\r\n          }}\r\n        >\r\n          Okay\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Button from \"../Utils/ButtonMain\";\r\n\r\nexport default function ReplyComment(props) {\r\n  const [isError, setIsError] = useState(\"\");\r\n  const [body, updateBody] = useState({\r\n    MessageID: null,\r\n    UserID: null,\r\n    Content: null,\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const rfContent = useRef();\r\n\r\n  const [currentUser, setCurrentUser] = useState();\r\n\r\n  var jwt = require(\"jsonwebtoken\");\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"nimda_OSL\");\r\n    setCurrentUser(jwt.decode(token));\r\n  }, []);\r\n\r\n  const sendReply = () => {\r\n    let d = body;\r\n\r\n    d.CommentID = props.commentID;\r\n    d.UserID = props.currentUser?.Name;\r\n    d.Content = rfContent.current.value;\r\n    updateBody(d);\r\n    setIsError(\"\");\r\n    if (!body.Content) return setIsError(\"Please write a reply!\");\r\n\r\n    if (body.Content) {\r\n      setIsLoading(true);\r\n      if (props.target === \"messages\") {\r\n        fetch(`/api/replies/reply`, {\r\n          method: \"POST\",\r\n          credentials: \"include\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify(body),\r\n        })\r\n          .then((response) => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            } else throw Error(\"Could not Send Reply!!\");\r\n          })\r\n          .then((data) => {\r\n            setIsLoading(false);\r\n            if (data.success) {\r\n              setIsError(data.success);\r\n              localStorage.clear();\r\n            } else {\r\n              setIsError(data.error);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setIsLoading(false);\r\n            setIsError(\"Could not Send Reply!\");\r\n          });\r\n      }\r\n      if (props.target === \"comments\") {\r\n        fetch(`/api/createcommentsreply/reply`, {\r\n          method: \"POST\",\r\n          credentials: \"include\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify(body),\r\n        })\r\n          .then((response) => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            } else throw Error(\"Could not Send Reply!!\");\r\n          })\r\n          .then((data) => {\r\n            setIsLoading(false);\r\n            if (data.success) {\r\n              setIsError(data.success);\r\n              localStorage.clear();\r\n            } else {\r\n              setIsError(data.error);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setIsLoading(false);\r\n            setIsError(\"Could not Send Reply!\");\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <h3>\r\n          {props.target === \"messages\"\r\n            ? \"Reply to Message\"\r\n            : \"Reply to Comment\"}\r\n        </h3>\r\n        <h4>{isError}</h4>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n          }}\r\n        >\r\n          <textarea\r\n            ref={rfContent}\r\n            style={{ width: \"100%\" }}\r\n            name=\"\"\r\n            id=\"\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></textarea>\r\n          <br />\r\n          <br />\r\n          <Button label=\"Send\" handleClick={sendReply} />\r\n        </form>\r\n\r\n        <h4\r\n          onClick={() => {\r\n            props.setReplyComment(false);\r\n          }}\r\n        >\r\n          Close\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport \"../../Styles/Commentcontent.scss\";\r\nimport Prompt from \"./prompt\";\r\n\r\nimport Reply from \"./Reply\";\r\nimport ReplyComment from \"./ReplyComment\";\r\n\r\nexport default function Commentcontent(props) {\r\n  const [showLess, setShowLess] = useState(false);\r\n  const [text, setText] = useState(props.message.Content.slice(0, 250) + \"...\");\r\n  const [status, setStatus] = useState(props.message.Status);\r\n  const [replies, setReplies] = useState();\r\n  const [viewReplies, setViewReplies] = useState(false);\r\n  const [replyComment, setReplyComment] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setReplies(null);\r\n    fetch(`/${props.replies_url}`, {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setReplies(data);\r\n        props.setTotal(data.total);\r\n        props.setActive(data.active);\r\n        props.setInactive(data.inactive);\r\n        var today = new Date();\r\n        var date =\r\n          today.getFullYear() +\r\n          \"-\" +\r\n          (today.getMonth() + 1) +\r\n          \"-\" +\r\n          today.getDate();\r\n        var time =\r\n          today.getHours() +\r\n          \":\" +\r\n          today.getMinutes() +\r\n          \":\" +\r\n          today.getSeconds();\r\n        var dateTime = date + \" \" + time;\r\n        props.setTime(dateTime);\r\n      })\r\n      .catch((err) => {});\r\n  }, [viewReplies]);\r\n\r\n  let cl = status === false ? \"messageContent\" : \"messageContent\";\r\n  const moreOrLess = () => {\r\n    if (showLess) {\r\n      setText(props.message.Content.slice(0, 250) + \"...\");\r\n      setShowLess(!showLess);\r\n    } else {\r\n      setText(props.message.Content);\r\n      setShowLess(!showLess);\r\n    }\r\n  };\r\n\r\n  const updateToRead = () => {\r\n    fetch(`/${props.update_url}`, {\r\n      method: \"PUT\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify({ Status: true }),\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          setStatus(true);\r\n          return response.json();\r\n        } else throw Error(\"\");\r\n      })\r\n      .then((data) => {})\r\n      .catch((err) => {});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {replyComment &&\r\n        (props.currentUser ? (\r\n          <ReplyComment\r\n            setReplyComment={setReplyComment}\r\n            commentID={props.message.CommentID}\r\n            target=\"comments\"\r\n            currentUser={props.currentUser}\r\n          />\r\n        ) : (\r\n          <Prompt setReplyComment={setReplyComment} />\r\n        ))}\r\n      <div className=\"messageContet\">\r\n        <div className=\"accordion-body\">\r\n          <h4>{props.message.From}</h4>\r\n          <p>{props.message.Content}</p>\r\n          <div className=\"accordion-footer\">\r\n            <div></div>\r\n            <p className=\"date\">{props.message.createdAt.split(\"T\")[0]}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport Commentcontent from \"./Commentcontent\";\r\nimport Pagination from \"./pagination\";\r\n\r\nexport default function CommentsSection(props) {\r\n  const [data, setData] = useState(null);\r\n  const [sNo, setSNo] = useState((currentPage-1) * 12 + 1);\r\n  const [time, setTime] = useState();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setData(null);\r\n    setSNo((currentPage-1) * 12 + 1);\r\n    fetch(`/api/instance/comments/${props.instanceID}/${(currentPage - 1) * 12}`, {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch messages!!!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        var today = new Date();\r\n        var date =\r\n          today.getFullYear() +\r\n          \"-\" +\r\n          (today.getMonth() + 1) +\r\n          \"-\" +\r\n          today.getDate();\r\n        var time =\r\n          today.getHours() +\r\n          \":\" +\r\n          today.getMinutes() +\r\n          \":\" +\r\n          today.getSeconds();\r\n        var dateTime = date + \" \" + time;\r\n\r\n        setTime(dateTime);\r\n        setData(data);\r\n      })\r\n      .catch((err) => {});\r\n  }, [props.refresh, props.changed, currentPage]);\r\n\r\n  // function scrollPages(offset) {\r\n  //   setOffset(offset);\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <h2>Comments</h2>\r\n      {data && data ? (\r\n        <p className=\"display\">\r\n          Displaying {data?.data?.length} of {data.total} Comments. (No. {sNo} -{\" \"}\r\n          {data?.data?.length === 12 ? (currentPage) * 12 : sNo + (data?.data?.length - 1)})\r\n        </p>\r\n      ) : (\r\n        <p className=\"display\">There are no Messages currently</p>\r\n      )}\r\n      <div className=\"messagecontent\">\r\n        {data &&\r\n          data.data?.map((message) => {\r\n            if (message.Verification) {\r\n              return (\r\n                <Commentcontent\r\n                  message={message}\r\n                  update_url={`api/comments/${message.CommentID}`}\r\n                  replies_url={`api/repliesbycommentsid/${message.CommentID}`}\r\n                  currentUser={props.currentUser}\r\n                />\r\n              );\r\n            }\r\n          })}\r\n      </div>\r\n      {data && (\r\n        <Pagination\r\n        totalItems={data.total}\r\n        currentPage={currentPage}\r\n        onPageChange={handlePageChange}\r\n      />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\nimport \"../Styles/SingleInstancePage.scss\";\r\nimport ThematicPreview from \"../components/ThematicMap/ThematicPreview\";\r\nimport WorldDataPreview from \"../components/WorldData/WorldDataPreview\";\r\nimport BaseMapPreview from \"../components/BaseMap/BaseMapPreview\";\r\nimport Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport { useState } from \"react\";\r\nimport Button from \"../components/Utils/ButtonMain\";\r\nimport CommentsSection from \"../components/Utils/CommentsSection\";\r\nimport TopoMapPreview from \"../components/Topo/TopoMapPreview\";\r\nimport TimeSeriesPreview from \"../components/TimeSeries/TimeSeriesPreview\";\r\n\r\nexport default function SingleInstancePage(props) {\r\n  const pathname = window.location.pathname.split(\"/\");\r\n  const [service, setService] = useState(null);\r\n  const [prompt, setPrompt] = useState();\r\n  const [isErr, setIsErr] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(null);\r\n  const instanceId = window.location.pathname.split(\"/\")[3];\r\n  const [refresh, setRefresh] = useState(true);\r\n  //\r\n  const [successMsg, setSuccessMsg] = useState();\r\n  const [changed, setChanged] = useState(false);\r\n  const rfContent = useRef();\r\n  const rfName = useRef();\r\n  const [body, updateBody] = useState({\r\n    To: instanceId,\r\n    From: \"\",\r\n    Subject: \"\",\r\n    Content: \"\",\r\n    UserID: \"\",\r\n  });\r\n  const [choice, setChoice] = useState(null);\r\n  const opts = [\r\n    \"Agriculture\",\r\n    \"Climate and Weather\",\r\n    \"Natural Resources\",\r\n    \"Spatial Planning\",\r\n    \"Disaster\",\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (props.currentUser) {\r\n      setPrompt(\"\");\r\n    }\r\n    const i = opts\r\n      .map((e) => {\r\n        return e;\r\n      })\r\n      .indexOf(pathname[2].replaceAll(\"%20\", \" \"));\r\n\r\n    if (i !== -1) {\r\n      setChoice(\"thematic\");\r\n    } else {\r\n      if (pathname[2].includes(\"Raster\")) {\r\n        setChoice(\"raster\");\r\n      } else if (pathname[2].includes(\"General\")) {\r\n        setChoice(\"general\");\r\n      }\r\n      else if (pathname[2].includes(\"Time\")) {\r\n        setChoice(\"timeseries\")\r\n      }\r\n      else window.location.href = \"/portal/maps\";\r\n    }\r\n  });\r\n\r\n  const postComment = () => {\r\n    setIsLoading(true);\r\n    if (props.currentUser) {\r\n      setPrompt(\"\");\r\n      let d = body;\r\n      d.Content = rfContent.current.value;\r\n      d.To = pathname[3];\r\n      d.Subject = pathname[3];\r\n      d.UserID = props.currentUser?.UserID;\r\n      d.From = props.currentUser?.Name;\r\n      updateBody(d);\r\n\r\n      if (!body.Content) {\r\n        setIsErr(\"Enter some text!\");\r\n      } else {\r\n        fetch(\"/api/comments/post\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          body: JSON.stringify(body),\r\n        })\r\n          .then((response) => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            } else throw Error(\"\");\r\n          })\r\n          .then((data) => {\r\n            setIsLoading(false);\r\n            setChanged(!changed);\r\n            if (data.success) {\r\n              setIsErr(\"comment successful\");\r\n              setTimeout(() => {\r\n                setIsErr(\"\");\r\n              }, 2000);\r\n              rfContent.current.value = \"\";\r\n              setRefresh(!refresh);\r\n            } else if (data.comment) {\r\n              setIsErr(data.comment);\r\n              setTimeout(() => {\r\n                setIsErr(\"\");\r\n              }, 2000);\r\n            } else {\r\n              setIsErr(data.error);\r\n              setTimeout(() => {\r\n                setIsErr(\"\");\r\n              }, 2000);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setIsLoading(false);\r\n            setIsErr(\"Please login or register to send a comment!\");\r\n            setTimeout(() => {\r\n              setIsErr(\"\");\r\n            }, 2000);\r\n          });\r\n      }\r\n    } else {\r\n      setPrompt(\"Please login first\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"MainContent\">\r\n        <div className=\"headings\">\r\n          <Header\r\n            isAuthenticated={props.isAuthenticated}\r\n            setIsAuthenticated={props.setIsAuthenticated}\r\n            currentUser={props.currentUser}\r\n            setCurrentUser={props.setCurrentUser}\r\n            parent=\"singleinstance\"\r\n          />\r\n        </div>\r\n        <div className=\"SingleInstancePage\">\r\n          <div>\r\n            {choice && choice === \"thematic\" && <ThematicPreview />}\r\n            {choice && choice === \"raster\" && <BaseMapPreview />}\r\n            {choice && choice === \"general\" && <WorldDataPreview />}\r\n            {choice && choice === \"timeseries\" && <TimeSeriesPreview />}\r\n          </div>\r\n\r\n          <div className=\"addComment\">\r\n            <p>{successMsg}</p>\r\n            <span className=\"err\">{isErr}</span>\r\n            <div className=\"input\">\r\n              <label htmlFor=\"\">Leave a Comment</label>\r\n              <textarea\r\n                onClick={() =>\r\n                  !props.isAuthenticated &&\r\n                  setPrompt(\"Please login to send a comment...\")\r\n                }\r\n                ref={rfContent}\r\n                name=\"\"\r\n                id=\"\"\r\n                cols=\"30\"\r\n                rows=\"5\"\r\n              ></textarea>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                postComment();\r\n              }}\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n          <div className=\"comments\">\r\n            <CommentsSection\r\n              instanceID={body.To}\r\n              refresh={refresh}\r\n              changed={changed}\r\n              currentUser={props.currentUser}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useRef} from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport SelectMain from \"../components/Utils/SelectMain\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport \"../Styles/singlecollection.scss\";\r\nimport Pagination from \"../components/Utils/pagination\";\r\n\r\nconst criteria = [\"Title\", \"Description\", \"Owner\", \"Keywords\"];\r\n\r\nexport default function SingleCollection(props) {\r\n  const pathName = window.location.pathname.split(\"/\")[2].replace(\"%20\", \" \");\r\n\r\n  const [data, setData] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [crit, setCrit] = useState(criteria[0]);\r\n  const [loading, setLoading] = useState(null);\r\n  const [filter, setFilter] = useState(\"All\");\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [query, setQuery] = useState(null);\r\n  const srch = useRef();\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(!query) {\r\n        fetch(`/api/data/collection/${pathName}/${(currentPage - 1) * 12}`, {\r\n            method: \"GET\",\r\n            credentials: \"include\",\r\n            })\r\n            .then((res) => {\r\n                if (res.ok) return res.json();\r\n                else throw Error(\"\");\r\n            })\r\n            .then((data) => {\r\n                setData(data);\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n            });\r\n    } else {\r\n        search(query);\r\n    }\r\n  }, [currentPage, refresh, query]);\r\n\r\n  function search(q) {\r\n    setLoading(true);\r\n    fetch(`/api/data/collection/${pathName}/search/${crit}/${q}/${(currentPage - 1) * 12}`, {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n    }).then(res => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"\");\r\n    }).then((data) => {\r\n        setData(data);\r\n    }).catch(e => {\r\n        console.log(e);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"data\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        parent=\"Browse Data\"\r\n      />\r\n      <div className=\"dcontainer\">\r\n        <div className=\"content\">\r\n          <div className=\"top\">\r\n            <dir className=\"yr\">\r\n              <h4>Search Criteria</h4>\r\n              <SelectMain\r\n                data={criteria}\r\n                getSelected={(v) => {\r\n                  setCrit(v);\r\n                }}\r\n              />\r\n            </dir>\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            >\r\n              <input\r\n                ref={srch}\r\n                type=\"text\"\r\n                placeholder={\"Searching by \" + crit}\r\n                required\r\n                onChange={(e) => {\r\n                  if (e.target.value == \"\") {\r\n                    setData(null);\r\n                    setRefresh(!refresh);\r\n                  } else {\r\n                    setQuery(e.target.value);\r\n                  }\r\n                }}\r\n              />\r\n              <i className=\"fa fa-search\"></i>\r\n            </form>\r\n          </div>\r\n          <div style={{\"padding\":\"10px\"}}>\r\n            <h4>Collection: {pathName.replaceAll(\"%20\", \" \")}</h4>\r\n          </div>\r\n          {/* data page */}\r\n          {data && data?.data?.length > 0 ? (\r\n            <div className=\"list\">\r\n              {data?.data?.map((item, i) => {\r\n                return <MyDocument key={i} item={item} />;\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"nodata\">\r\n              <p>\r\n                Oops! There is no result for this criteria at the moment. To\r\n                suggest or request data, please contact us{\" \"}\r\n                <a href=\"/contact\" title=\"Talk to us.\">\r\n                  here\r\n                </a>\r\n                .\r\n              </p>\r\n            </div>\r\n          )}\r\n          <br />\r\n          <br />\r\n          {data && (\r\n            <Pagination\r\n              totalItems={data.total}\r\n              currentPage={currentPage}\r\n              onPageChange={handlePageChange}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MyDocument = (props) => {\r\n  return (\r\n    <div\r\n      title={\"Map Description\" + \"\\n\\n\" + props.item.Description}\r\n      className=\"stk\"\r\n      onClick={() => {\r\n        window.location.href = `/maps/${props.item.Category}/${props.item.ID}`;\r\n      }}\r\n    >\r\n      <img src={`/api/${props.item.Thumbnail}`} alt=\"\" />\r\n      <div className=\"np\">\r\n        <div className=\"tp\">\r\n          <h3>{props.item.Title}</h3>\r\n        </div>\r\n        <h4>Owner: {props.item.Owner}</h4>\r\n        {props.item.Collection && <h4>Collection: {props.item.Collection}</h4>}\r\n        <h4>Date Published: {props.item.updatedAt.split(\"T\")[0]}</h4>\r\n        <p>{props.item.Description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/about_1_background.66f337a4.jpg\";","export default __webpack_public_path__ + \"static/media/about_2_background.6c0330f2.jpg\";","import React, { useState } from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport about1Background from \"../assets/imgs/about_1_background.jpg\";\r\nimport about2Background from \"../assets/imgs/about_2_background.jpg\";\r\nimport FeedBackForm from \"../components/Utils/FeedBackForm\";\r\n\r\nexport default function AboutPage(props) {\r\n  const [showFeedBackForm, setShowFeedBackForm] = useState(false);\r\n  return (\r\n    <div className=\"aboutPage\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        parent=\"About\"\r\n      />\r\n      <section className=\"section-1\">\r\n        <div className=\"text-main\">\r\n          <h1>About</h1>\r\n          <h2\r\n            onClick={() => {\r\n              setShowFeedBackForm(true);\r\n            }}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            The Geoportal\r\n          </h2>\r\n          {showFeedBackForm && (\r\n            <FeedBackForm setShowFeedBackForm={setShowFeedBackForm} />\r\n          )}\r\n          <p>\r\n            The Geoportal is our one stop platform that allows you to access,\r\n            visualize and analyze our collections of data. The portal helps our\r\n            users save time by availing useful, relevant and easy to understand\r\n            sets of data. It also provides spatial data analysis and\r\n            visualization (also known as GIS) capabilities. <br />\r\n            <br /> By availing data remotely through this portal, we have\r\n            facilitated institutions and individuals to save time and\r\n            operational costs taken to access and set up data locally as would\r\n            be the case in an analogue setup. <br />\r\n            We invite you to explore . . .\r\n          </p>\r\n          <a href=\"/#explore\">Explore Products</a>\r\n        </div>\r\n        <div\r\n          className=\"img-hero\"\r\n          style={{\r\n            backgroundImage: `url(${about2Background})`,\r\n          }}\r\n        ></div>\r\n      </section>\r\n      <section className=\"section-2\">\r\n        <div\r\n          className=\"img-hero\"\r\n          style={{\r\n            backgroundImage: `url(${about1Background})`,\r\n          }}\r\n        ></div>\r\n        <div className=\"text\">\r\n          <h2>The Oakar Services</h2>\r\n          <p>\r\n            OSL is mandated to promote, coordinate and regulate space related\r\n            activities in the country. This will be achieved through promotion\r\n            of research and innovations in space science, technology and\r\n            respective applications as well as enhancing the regulatory\r\n            framework. It will also spur Kenya’s competitiveness and positioning\r\n            in playing a critical role in the regional and global space agenda\r\n          </p>\r\n        </div>\r\n      </section>\r\n      <section className=\"section-3\">\r\n        <h2>Geoportal purpose and functionality</h2>\r\n\r\n        <div className=\"container\">\r\n          <div>\r\n            <h4>Disseminating Spatial Data</h4>\r\n            <p>\r\n              The OSL Data platform enables the agency share spatial data and\r\n              maps in diverse formats such as PDF, Shapefiles, KML, GeoJSON, and\r\n              Web Services.\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <h4>Data Analysis</h4>\r\n            <p>\r\n              The platform provides several data analysis capabilities. Users\r\n              can build simple to complex queries for the analysis of data\r\n              attributes. The portal's search function allows query for specific\r\n              data. Access to the Open Data Cube enables users analyse the Earth\r\n              observation data.\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <h4>Report Generation</h4>\r\n            <p>\r\n              After perfoming their data analysis, users are able to generate a\r\n              report of their interaction with the data automatically. The\r\n              portal allows export generation of PFD reports from its available\r\n              templates which users can edit and export.\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <h4>Download Data</h4>\r\n            <p>\r\n              Users are able to download spatial data in different data formats.\r\n              Data available to users ranges from thematic data, topographical\r\n              maps, cadastral maps to aerial images and web services.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section className=\"section-4\">\r\n        <div className=\"vision\">\r\n          <h2>Oakar Services Geoplatform </h2>\r\n          <p>\r\n            The OSL Geoportal is a platform created for the purpose of sharing\r\n            spatial data with the public. The public who are the major\r\n            stakeholders targeted by the portal consists of companies and\r\n            organizations dealing with spatial data in their business\r\n            operations, individual people who are key decision makers in their\r\n            capacities and need spatial information to influence their\r\n            decisions, researchers in the academia field and proffessionals\r\n            needing spatial data for their projects and researches.\r\n          </p>\r\n          <p>\r\n            The Geoportal is an easy to use application. Public users register\r\n            on the portal by creating an account. The account consists of an\r\n            email address and password which a user uses to sign-in into the\r\n            portal. On successful login, a user is able to access\r\n            functionalities of the Geo-platform, beginning with a list of\r\n            published instances organized categorically.\r\n          </p>\r\n          <p>\r\n            The Geoportal consists of a data page showing all data in the public\r\n            portal published by the administrator via the admin portal. Users\r\n            can categorize the data and also search based on the titles and\r\n            keywords in the data.\r\n          </p>\r\n          <p>\r\n            Users can view single instances of the published data on the\r\n            platfrom.\r\n          </p>\r\n          <p>\r\n            The portal consists of a contact us page which provides an\r\n            interactive feedback mechanism that provides the functionality for\r\n            the user to communicate with the system administrator.\r\n          </p>\r\n          <h3>\r\n            The Geoportal has got several special functionalities for its users.\r\n          </h3>\r\n          <ul>\r\n            <li>\r\n              It allows users access data for different thematic layers and base\r\n              maps(high-resolution satellite images, topographical and hybrid\r\n              maps) which are disseminated by OSL.\r\n            </li>\r\n            <li>\r\n              It allow users perform spatial analysis of thematic data layers\r\n              such as buffer analysis and proximit analysis.\r\n            </li>\r\n            <li>It allows users build custom queries on thematic data.</li>\r\n            <li>\r\n              It allows users report and update events such as forest fires,\r\n              floods, landslides, and natural calamities along with photograph\r\n              storage.\r\n            </li>\r\n            <li>\r\n              It allows users access cadastral maps that have been availed by\r\n              the Oakar Services.\r\n            </li>\r\n            <li>\r\n              It allows users access and prepare a digital atlas for\r\n              administrators, planners, or resource managers.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport bg0 from \"../../assets/imgs/bg0.jpg\";\r\nimport bg1 from \"../../assets/imgs/bg1.jpg\";\r\nimport bg2 from \"../../assets/imgs/bg2.jpg\";\r\nimport bg3 from \"../../assets/imgs/bg3.jpg\";\r\nimport bg4 from \"../../assets/imgs/bg4.jpg\";\r\nimport bg5 from \"../../assets/imgs/bg5.jpg\";\r\nimport Header from \"../Utils/header\";\r\n\r\nexport default class Hero extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const images = [bg0, bg1, bg2,bg3,bg4,bg5];\r\n    \r\n\r\n    this.state = {\r\n      images,\r\n      currentImg: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.interval = setInterval(() => this.changeBackgroundImage(), 10000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.interval) {\r\n      clearInterval(this.interval);\r\n    }\r\n  }\r\n\r\n  changeBackgroundImage() {\r\n    let newCurrentImg = 0;\r\n    const { images, currentImg } = this.state;\r\n    const noOfImages = images.length;\r\n\r\n    if (currentImg !== noOfImages - 1) {\r\n      newCurrentImg = currentImg + 1;\r\n    }\r\n\r\n    this.setState({ currentImg: newCurrentImg });\r\n  }\r\n\r\n  render() {\r\n    const { images, currentImg } = this.state;\r\n    const urlString = `url('${images[currentImg]}')`;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"cf\" style={{ backgroundImage: urlString }}>\r\n          <div className=\"overlay\">\r\n            <Header\r\n              isAuthenticated={this.props.isAuthenticated}\r\n              setIsAuthenticated={this.props.setIsAuthenticated}\r\n              currentUser={this.props.currentUser}\r\n              setCurrentUser={this.props.setCurrentUser}\r\n            />\r\n            <div className=\"msg\">\r\n              <h1>Let's Start a Conversation</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport Hero from \"../components/ContactUs/Hero\";\r\nimport Button from \"../components/Utils/button1\";\r\n\r\nexport default function ContactUsPage(props) {\r\n  const [isErr, setIsErr] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(true);\r\n  const [currentUser, setCurrentUser] = useState();\r\n\r\n  var jwt = require(\"jsonwebtoken\");\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"cilbup_OSL\");\r\n    if (token) {\r\n      try {\r\n        var decoded = jwt.decode(token);\r\n        setCurrentUser(decoded);\r\n\r\n        if (Date.now() >= decoded.exp * 1000) {\r\n          setIsAuthenticated(false);\r\n        } else {\r\n          setIsAuthenticated(true);\r\n        }\r\n      } catch (error) {\r\n        setIsAuthenticated(false);\r\n      }\r\n    } else {\r\n      setIsAuthenticated(false);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const rfName = useRef();\r\n  const rfEmail = useRef();\r\n  const rfSubject = useRef();\r\n  const rfContent = useRef();\r\n\r\n  const [body, updateBody] = useState({\r\n    To: \"\",\r\n    From: \"\",\r\n    Subject: \"\",\r\n    Content: \"\",\r\n  });\r\n\r\n  const postMessage = () => {\r\n    setIsLoading(true);\r\n    let d = body;\r\n    if (currentUser) {\r\n      d.To = currentUser.Email;\r\n      d.From = currentUser.Name;\r\n    } else {\r\n      d.To = rfEmail.current.value;\r\n      d.From = rfName.current.value;\r\n    }\r\n    d.Subject = rfSubject.current.value;\r\n    d.Content = rfContent.current.value;\r\n    updateBody(d);\r\n    setIsErr(\"\");\r\n\r\n    if (!validateEmail(body.To))\r\n      return setIsErr(\"Please enter a valid email address!\");\r\n    if (!validateMessage(body.Content))\r\n      return setIsErr(\"Message can not be blank!\");\r\n\r\n    if (validateEmail(body.To) && validateMessage(body.Content)) {\r\n      fetch(\"/api/messages/post\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.success) {\r\n            setIsErr(data.success);\r\n            rfName.current.value = \"\";\r\n            rfEmail.current.value = \"\";\r\n            rfSubject.current.value = \"\";\r\n            rfContent.current.value = \"\";\r\n          } else if (data.error) {\r\n            setIsErr(data.error);\r\n          } else setIsErr(\"Oops! Something went wrong!\");\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n          setIsErr(\"Oops! Something went wrong!\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  const validateMessage = (content) => {\r\n    return content.length >= 1;\r\n  };\r\n\r\n  return (\r\n    <div className=\"ContactUsPage\">\r\n      <div className=\"MainContent\">\r\n        <div className=\"c_hero\">\r\n          <Hero\r\n            isAuthenticated={props.isAuthenticated}\r\n            setIsAuthenticated={props.setIsAuthenticated}\r\n            currentUser={props.currentUser}\r\n            setCurrentUser={props.setCurrentUser}\r\n            parent=\"Contact Us\"\r\n          />\r\n        </div>\r\n        <div className=\"contactsContent\">\r\n          <div className=\"userMessage\">\r\n            <div className=\"message\">\r\n              <h2>How can we help you?</h2>\r\n              <br />\r\n              {!props?.isAuthenticated ? (\r\n                <h5>\r\n                  Kindly login or create an account before sending us a message.\r\n                  <br />\r\n                  Thank you, for your understanding. We look forward to hearing\r\n                  from you!\r\n                </h5>\r\n              ) : (\r\n                <h5>Welcome {props?.currentUser?.Name}</h5>\r\n              )}\r\n              <br />\r\n              <p>\r\n                Thank you for visiting our Geoportal. Might you be having any\r\n                trouble and need our assistance? Well, we are eager to help!\r\n                Just log a message to us and our customer service team will\r\n                respond to your needs as soon as possible.{\" \"}\r\n              </p>\r\n            </div>\r\n            <div className=\"form\">\r\n              <p>{isErr}</p>\r\n              <div className=\"input\">\r\n                <label htmlFor=\"\">Full Name *</label>\r\n                <input label=\"Name\" placeholder=\"Full Name\" ref={rfName} />\r\n              </div>\r\n              <div className=\"input\">\r\n                <label htmlFor=\"\">Email Address</label>\r\n                <input label=\"Email\" placeholder=\"Email\" ref={rfEmail} />\r\n              </div>\r\n\r\n              <div className=\"input\">\r\n                <label htmlFor=\"\">Subject</label>\r\n                <input label=\"Subject\" placeholder=\"Subject\" ref={rfSubject} />\r\n              </div>\r\n\r\n              <div className=\"input\">\r\n                <label htmlFor=\"\">Message</label>\r\n                <textarea\r\n                  className=\"content\"\r\n                  placeholder=\"Write your Message here\"\r\n                  label=\"Content\"\r\n                  ref={rfContent}\r\n                  name=\"Content\"\r\n                  id=\"\"\r\n                ></textarea>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  postMessage();\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"../Styles/Terms.scss\";\r\nimport React from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\n\r\nimport Footer from \"../components/Utils/footer\";\r\n\r\nexport default function Terms(props) {\r\n  return (\r\n    <div className=\"AboutTerms\">\r\n      <div className=\"headings\">\r\n        <Header\r\n          isAuthenticated={props.isAuthenticated}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n          currentUser={props.currentUser}\r\n          setCurrentUser={props.setCurrentUser}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"vision2030\">\r\n        <h1>Terms and Conditions</h1>\r\n        <p>\r\n          <b>Oakar Services Terms and Conditions</b>\r\n          <br></br> <br></br>\r\n          <a href=\"#\">Download PDF Version</a>\r\n          <br></br> <br></br>\r\n          The terms and conditions (\"Terms and Conditions\") in this document\r\n          (\"Agreement\") describe and stipulate the provisions which govern and\r\n          regulate the legal relationship between Oakar Services Electronics Co.\r\n          Ltd. (“Oakar Services”) and/or Oakar Services's Subsidiaries as\r\n          provider of the Services and you as user of the Services (\"You\" or\r\n          \"User\").\r\n          <br></br> <br></br>\r\n          You should read these Terms and Conditions carefully and should not\r\n          accept these Terms and Conditions or register for, access or use the\r\n          Services (collectively as \"Use\" of the Services) unless You agree to\r\n          the Terms and Conditions. Oakar Services does not store an individual\r\n          copy of this Agreement entered into with You and we recommend that You\r\n          save a local copy of this Agreement for Your own record.\r\n          <br></br> <br></br>\r\n          You may not Use the Services if You are a (a) person who is not of\r\n          legal age to form a binding contract with Oakar Services or (b) person\r\n          who is barred from receiving the Services under the laws of any\r\n          country including the country in which You are a resident or from\r\n          which You are using the Services.\r\n          <br></br> <br></br>\r\n          In this Agreement:\r\n          <br></br> <br></br>\r\n          \"Service\" or “Services” means myOakar Services Application and any\r\n          applications, websites, WAP, software, services, Single Sign On\r\n          module, and any marketing programs run under the name of myKenya Space\r\n          Agency, and other related services provided by any third party\r\n          designated by us; and\r\n          <br></br> <br></br>\r\n          \"Oakar Services's Subsidiaries\" means all legal entities, companies,\r\n          corporations, firms, partnerships or other entities that are\r\n          controlled by Oakar Services or are under common control with Oakar\r\n          Services. The term \"controlled\" means the ability to direct the\r\n          management of the relevant entity.\r\n          <br></br> <br></br>\r\n          How You may accept the Terms and Conditions,\r\n          <br></br> <br></br>\r\n          How Oakar Services may change the Terms and Conditions, and\r\n          <br></br> <br></br>\r\n          How You or Oakar Services may terminate the Terms and Conditions\r\n          <br></br> <br></br>\r\n          <b>1. Acceptance of the Terms and Conditions</b>\r\n          <br></br> <br></br>\r\n          1.1. Before You are permitted to Use the Services You are required to\r\n          accept the Terms and Conditions and any Special Terms (as defined in\r\n          Clause 20 below), as the case may be. Typically, Terms and Conditions\r\n          and any Special Terms are accepted by clicking or tabbing the \"accept\"\r\n          button if such button or function is available or present via the user\r\n          interface for the respective Service.\r\n          <br></br> <br></br>\r\n          1.2. You also accept the Terms and Conditions or any Special Terms\r\n          when You actually start to Use the Services. In this case You\r\n          understand that You are bound by and Oakar Services will treat You as\r\n          bound by the Terms and Conditions from the moment You start using the\r\n          Services.\r\n          <br></br> <br></br>\r\n          <b>2. Changes to the Terms and Conditions</b>\r\n          <br></br> <br></br>\r\n          2.1. Oakar Services is permitted to amend or alter the Terms and\r\n          Conditions from time to time.\r\n          <br></br> <br></br>\r\n          2.2. Oakar Services will notify You with at least 15 days prior notice\r\n          (\"Notification Period\") of any material changes of the Terms and\r\n          Conditions and will provide You with a copy of the revised Terms and\r\n          Conditions either by the use of Your email address provided to Oakar\r\n          Services as part of the Registration Data or by any other suitable\r\n          means which ensure that You will be able to take notice of the revised\r\n          Terms and Conditions.\r\n          <br></br> <br></br>\r\n          2.3. After the Notification Period has passed You will be prompted to\r\n          accept the revised Terms and Conditions, typically by clicking or\r\n          tabbing the \"accept\" button if such button or function is available or\r\n          present via the user interface for the respective Service. You may not\r\n          continue to Use the Services unless You accept the revised Terms and\r\n          Conditions.\r\n          <br></br> <br></br>\r\n          2.4. You also accept the revised Terms and Conditions when You\r\n          continue to Use the Services after the Notification Period has passed.\r\n          In this case You are bound by and Oakar Services will treat You as\r\n          bound by the revised Terms and Conditions from the date on which the\r\n          revised Terms and Conditions entered into effect. You are free to end\r\n          this Agreement at any time should You choose not to accept the revised\r\n          Terms and Conditions.\r\n          <br></br> <br></br>\r\n          <b>\r\n            3. Termination of the Terms and Conditions; Consequences of\r\n            termination\r\n          </b>\r\n          <br></br> <br></br>\r\n          3.1. This Agreement remains in effect unless and until terminated\r\n          either by You or Oakar Services, as the case may be.\r\n          <br></br> <br></br>\r\n          3.2. You can terminate this Agreement at any time by ceasing use of\r\n          the Services\r\n          <br></br> <br></br>\r\n          3.3. Oakar Services may terminate this Agreement at any time by\r\n          providing a 30 days prior written notice of cancellation to the email\r\n          address provided to Oakar Services as part of Your Registration Data\r\n          or by any other suitable means which ensure that You will be able to\r\n          take notice of the cancellation.\r\n          <br></br> <br></br>\r\n          3.4. Oakar Services is entitled to terminate this Agreement at any\r\n          time and without observing any notice period if:\r\n          <br></br> <br></br>\r\n          a. You are in breach of the Terms and Conditions;\r\n          <br></br> <br></br>\r\n          b. You have clearly demonstrated (regardless of whether directly or\r\n          through Your actions or statements or otherwise) that You do not\r\n          intend to comply with the Terms and Conditions;\r\n          <br></br> <br></br>\r\n          c. Oakar Services, (including Oakar Services's Subsidiaries) or any\r\n          supplier or partner of Oakar Services providing the Services to or\r\n          together with Oakar Services decide to terminate the provision of the\r\n          Services or any parts thereof (either worldwide or in the country\r\n          where You are a resident or from where You are Using the Services) or\r\n          if any supplier or partner of Oakar Services decides to terminate the\r\n          entire relationship with Oakar Services and regardless of the reason\r\n          of such termination, including where Oakar Services or any supplier or\r\n          partner of Oakar Services are of the opinion that the provision of the\r\n          Services or parts thereof to You or to Oakar Services or together with\r\n          Oakar Services are no longer commercially feasible; and\r\n          <br></br> <br></br>\r\n          d. Oakar Services (including Oakar Services's Subsidiaries) or any\r\n          supplier or partner of Oakar Services providing the Services to or\r\n          together with Oakar Services are required by applicable law to\r\n          terminate the provision of the Services or parts thereof (for example\r\n          if due to changes in applicable law or due to court rulings or\r\n          judgments the Services or parts thereof become or are considered\r\n          unlawful).\r\n          <br></br> <br></br>\r\n          3.5. The termination of this Agreement shall have no prejudice to any\r\n          rights, obligations and liabilities that You or Oakar Services have\r\n          accrued or incurred during the term of this Agreement.\r\n          <br></br> <br></br>\r\n          3.6. You are not permitted to Use the Services if You do not accept\r\n          the revised Terms and Conditions or after this Agreement comes to an\r\n          end, for example, due to termination by either You or Kenya Space\r\n          Agency.\r\n          <br></br> <br></br>\r\n          How You may Use the Services and How Oakar Services may use Your\r\n          content or how You may use Oakar Services's content\r\n          <br></br> <br></br>\r\n          <b>4. Provision of the Services and limitations of usage</b>\r\n          <br></br> <br></br>\r\n          4.1. The Services are provided to You by Oakar Services and Kenya\r\n          Space Agency's Subsidiaries. By using the Service, you can read,\r\n          access, launch, and/or download (where available) the content or other\r\n          tools and applications available in the Application. Content available\r\n          in the Application may be provided by Oakar Services or third parties.\r\n          Oakar Services may subcontract all or any part of its activities\r\n          relating to the Services, to any third party designated by Oakar\r\n          Services.\r\n          <br></br> <br></br>\r\n          4.2. Unless otherwise specified in this Agreement You are permitted to\r\n          Use the Services for personal and non-commercial use and purposes only\r\n          and You will not reproduce, duplicate, copy, sell, trade or resell any\r\n          of the Services or parts thereof.\r\n          <br></br> <br></br>\r\n          4.3. When You Use the Services You will at all times observe these\r\n          Terms and Conditions and any applicable law or regulation in the\r\n          relevant jurisdictions including the jurisdiction where You are a\r\n          resident or from where You are using the Services.\r\n          <br></br> <br></br>\r\n          4.4. Oakar Services may at any time and in its sole discretion without\r\n          prior warning or notice:\r\n          <br></br> <br></br>\r\n          a. change the Services or suspend and/or cease providing the Services\r\n          or any part of the Services;\r\n          <br></br> <br></br>\r\n          b. disable or suspend Your Use of the Services including access to\r\n          Your User account(s) and any files or other content contained in Your\r\n          account(s) either temporarily or permanently;\r\n          <br></br> <br></br>\r\n          c. set a limit on the number of transmissions You may send or receive\r\n          through the Services or on the amount of storage space used for the\r\n          provision of the Services or any part of the Services to You; and\r\n          <br></br> <br></br>\r\n          d. pre-screen, review, flag, filter, modify, refuse, reject, block\r\n          access to or remove any or all Content from the Services.\r\n          <br></br> <br></br>\r\n          4.5. Oakar Services will use commercially reasonable efforts to (a)\r\n          ensure that the Services are available to You without undue\r\n          disruption, interruption or delay and (b) keep any disruption,\r\n          interruption or delay of the Services to a minimum.\r\n          <br></br> <br></br>\r\n          4.6. You are not permitted to Use any of the Services (including any\r\n          attempts to do so) other than through the interface made available to\r\n          You by Oakar Services and You will not Use the Services (including any\r\n          attempts to do so) through any automated tools (including software\r\n          and/or hardware), functions, services or otherwise (including scripts\r\n          or web crawlers).\r\n          <br></br> <br></br>\r\n          4.7. You will comply with and follow all instructions made available\r\n          to You by Oakar Services in connection with the Services and You will\r\n          not engage in any activity that may cause interference with or\r\n          disruption to the Services or any servers, networks or other equipment\r\n          connected to the Services.\r\n          <br></br> <br></br>\r\n          4.8. Some of the Services can be used or are particularly useful when\r\n          used over mobile networks. You should be aware that Your network\r\n          provider may charge You for access to its network, the duration of\r\n          Your mobile phone's/ mobile device's connection to the network and the\r\n          data volume used to Use the Services. You are entirely responsible to\r\n          check with Your network provider whether any such costs may apply\r\n          before Using the Services in this respect.\r\n          <br></br> <br></br>\r\n          4.9. Use of the Services requires a device which is compatible with\r\n          the Services, and may require a device such as a computer, Internet\r\n          access (fees may apply), and certain software (fees may apply),\r\n          including obtaining updates or upgrades from time to time. Because use\r\n          of the Services involves hardware, software and Internet access, your\r\n          ability to use the Services may be affected by the performance of\r\n          these factors. High speed Internet access is strongly recommended. You\r\n          acknowledge and agree that such system requirements, which may change\r\n          from time to time, are solely your responsibility.\r\n          <br></br> <br></br>\r\n          4.10. You consent to receiving electronically all agreements, notices,\r\n          disclosures and other communications that Oakar Services may provide\r\n          to You as part of the Services, including via e-mails and push\r\n          notifications, at the details provided by You or as otherwise as\r\n          deemed appropriate by Oakar Services.\r\n          <br></br> <br></br>\r\n          <b>5. Advertisements</b>\r\n          <br></br> <br></br>\r\n          5.1. You agree that Oakar Services, as part of the Services, places or\r\n          displays to You advertisements, promotion materials or other content\r\n          and materials or products for promotional purposes.\r\n          <br></br> <br></br>\r\n          5.2. In any event, Oakar Services will only send You push\r\n          notifications, marketing emails or newsletters for marketing purposes\r\n          where you have explicitly opted to receive such information and\r\n          communication, for example, when You registered for the Services.\r\n          <br></br> <br></br>\r\n          <b>6. Software and software updates</b>\r\n          <br />\r\n          Software and software updates to the Services Oakar Services may\r\n          automatically download and install updates from time to time\r\n          (including firmware updates for the devices you registered with the\r\n          Services) (\"Software Updates\"). Such Software Updates may be in\r\n          various forms and are generally provided for the purposes of improving\r\n          the performance, security and reliability of the Services or any\r\n          product or device used to access the Services. Such updates may\r\n          include bug fixes, enhancements to the Services or parts thereof,\r\n          products or devices and updates and enhancements to any software\r\n          previously installed (including entirely new versions). Such Software\r\n          Updates may take up additional user-accessible internal storage of\r\n          Your device.\r\n          <br></br> <br></br>\r\n          <b>7. Content provided in the Services and content rights</b>\r\n          <br></br> <br></br>\r\n          7.1. All content that is made available in the Services or accessible\r\n          as part of or by the Use of the Services (including audio and sound\r\n          files, data files, images, music, photographs, software, videos and\r\n          written text) (\"Content\") is entirely the responsibility of the\r\n          originator of such Content. The Content may include advertisements,\r\n          promotional material and documents or other sponsored Content.\r\n          <br></br> <br></br>\r\n          7.2. The Content may be protected by proprietary or intellectual\r\n          property rights of third parties (such as partners, advertisers and\r\n          sponsors or their agents who provide such Content to Kenya Space\r\n          Agency). You are not permitted to modify, rent, lease, loan, sell,\r\n          distribute or create derivative works based on any Content (either in\r\n          whole or in part) or to grant licenses in the Content.\r\n          <br></br> <br></br>\r\n          7.3. You understand that by using the Services You are exposed to the\r\n          risk that You may find some Content offensive, indecent or\r\n          objectionable and that any Use of the Services as regards such\r\n          exposure is entirely at Your own risk.\r\n          <br></br> <br></br>\r\n          <b>8. User Content and User Content License</b>\r\n          <br></br> <br></br>\r\n          8.1. By uploading, transmitting, creating, posting, displaying or\r\n          otherwise providing any information, materials, documents, media files\r\n          or other content on or through the Services (\"User Content\") You\r\n          permit Oakar Services, Oakar Services's Subsidiaries and other Users\r\n          of the Services to use the User Content to the extent that this is\r\n          required for the provision of the Services, and in this respect grant\r\n          Oakar Services, Oakar Services's Subsidiaries and other Users of the\r\n          Services an irrevocable, unlimited, worldwide, royalty-free, and\r\n          non-exclusive license to copy, reproduce, adapt, modify, edit,\r\n          distribute, translate, digitize, publish, publicly perform and\r\n          publicly display the User Content (\"User Content License\"), such User\r\n          Content License in any event to be limited, however, to the purposes\r\n          of the Services.\r\n          <br></br> <br></br>\r\n          8.2. The User Content License shall include a right for Kenya Space\r\n          Agency and Oakar Services's Subsidiaries to (a) perform all technical\r\n          steps necessary to process and prepare the User Content for use in the\r\n          Services, including any modification and/or adaption required to\r\n          provide the Services to Users and/or to transmit or distribute the\r\n          User Content over public networks and in media and (b) make available\r\n          and sublicense the User Content to third parties for the use of the\r\n          User Content in connection with the provision of the respective\r\n          services by these third parties.\r\n          <br></br> <br></br>\r\n          8.3. Oakar Services does not claim ownership of the User Content and\r\n          You will retain any copyright and any other rights to any User Content\r\n          provided by You on or through the Services.\r\n          <br></br> <br></br>\r\n          8.4. Any protection and enforcement of any intellectual property\r\n          rights which exist or pertain to the User Content are entirely Your\r\n          responsibility and Oakar Services is not obliged to protect and\r\n          enforce the User Content on Your behalf.\r\n          <br></br> <br></br>\r\n          8.5. You are entirely responsible to backup Your User Content stored\r\n          with Oakar Services or through the Services to another location\r\n          outside the Services (e.g. by means of creating local copies or\r\n          backups with specialized online backup services) to avoid loss of Your\r\n          User Content and other data.\r\n          <br></br> <br></br>\r\n          <b>9. Oakar Services Services License</b>\r\n          <br></br> <br></br>\r\n          9.1. Oakar Services, Oakar Services's Subsidiaries and/or any supplier\r\n          or licensor of Oakar Services are the owners and shall be entitled to\r\n          all proprietary rights which may exist in the Services, including all\r\n          legal right, title and interest in and to the Services, and all\r\n          intellectual property rights worldwide, regardless of whether\r\n          registered/legally secured or not.\r\n          <br></br> <br></br>\r\n          9.2. Oakar Services grants You a worldwide, non-transferrable,\r\n          non-assignable, non-exclusive, personal and royalty free license to\r\n          Use the Services (including any software, products or materials\r\n          provided to You as part of the Services) and in the form provided to\r\n          You by Oakar Services (\"Oakar Services License\"). The Kenya Space\r\n          Agency License entitles You to enjoy the benefits of the Services in\r\n          accordance with these Terms and Conditions.\r\n          <br></br> <br></br>\r\n          9.3. Except for the rights granted to You in this Agreement, Kenya\r\n          Space Agency retains all rights in or pertaining to the Services.\r\n          <br></br> <br></br>\r\n          9.4. You are not permitted to (a) grant any other User or third party\r\n          a license to Use the Services or otherwise to access Your account or\r\n          the Services, (b) Use the Services to provide services to other Users\r\n          or any other third parties or (c) otherwise assign, grant a sublicense\r\n          in, or grant a security interest in or over the Oakar Services License\r\n          or any rights under it, loan or lease the Services and/or the Oakar\r\n          Services Oakar Services License, or otherwise transfer the Oakar\r\n          Services License or any rights under it to any third party.\r\n          <br></br> <br></br>\r\n          9.5. You are not permitted to copy, edit, modify, alter or create a\r\n          derivative work of, reverse engineer, decompile or otherwise attempt\r\n          to extract the source code of Oakar Services Services (or any part of\r\n          it), unless expressly permitted by Oakar Services in writing, or to\r\n          the extent permitted under the laws applicable to You, and You will\r\n          not permit or grant a license to any third party to do so.\r\n          <br></br> <br></br>\r\n          <b>10. Trademarks</b>\r\n          <br></br> <br></br>\r\n          10.1. You are not entitled to use any of Oakar Services's (including\r\n          Oakar Services's Subsidiaries) trade names, trademarks, service marks,\r\n          logos, domain names, or other distinctive brand features (\"Oakar\r\n          Services's Brands\") without Oakar Services's prior written consent. To\r\n          the extent that You are entitled to use Oakar Services's Brands under\r\n          a separate written agreement with Oakar Services, such use is only\r\n          permitted in accordance with such separate agreement.\r\n          <br></br> <br></br>\r\n          10.2. You are not permitted to remove, obscure, conceal, modify or\r\n          otherwise alter any proprietary rights notices, signs, trademarks,\r\n          service marks, trade names, logos or other marks of Kenya Space\r\n          Agency, Oakar Services's Subsidiaries or any third party (including\r\n          copyright and trade mark notices) which pertain to, are affixed to or\r\n          which are contained within the Services and You agree not to use any\r\n          such signs, trademarks, service marks, trade names, logos or other\r\n          marks of Oakar Services, Oakar Services's Subsidiaries or any third\r\n          party in a way that is intended to, likely to or foreseeable to\r\n          mislead others or cause confusion about the owner, license holder or\r\n          authorized User, as the case may be, of such marks, names or logos.\r\n          <br></br> <br></br>\r\n          What You should know about your Registration Data, Account Data and\r\n          privacy\r\n          <br></br> <br></br>\r\n          <b>11. Registration data and Users account</b>\r\n          <br></br> <br></br>\r\n          11.1. When You Use the Services You may be required to provide\r\n          information about Yourself before You can continue to Use the Services\r\n          (\"Registration Data\").\r\n          <br></br> <br></br>\r\n          11.2. You agree to provide accurate, current and complete Registration\r\n          Data and to update Your Registration Data as required in order to keep\r\n          it accurate, current and complete.\r\n          <br></br> <br></br>\r\n          <b>12. Passwords and account security</b>\r\n          <br></br> <br></br>\r\n          12.1. In order to Use the Services You are required to open a User\r\n          account and to provide a User ID and password (\"Account Data\"), and\r\n          register using either an e-mail address of your choice or Your\r\n          existing Facebook, Google Plus, or Oakar Services Account.\r\n          <br></br> <br></br>\r\n          12.2. The Services offer You an integrated registration solution\r\n          through a single sign on process (\"SingleSignOn\"). SingleSignOn means\r\n          that once You open the User account with Oakar Services, You would be\r\n          able to automatically access all Services without the need to register\r\n          and sign-on separately for each individual Service. SingleSignOn also\r\n          allows You to sign in and log out from all Services and through all of\r\n          Your devices at the same time.\r\n          <br></br> <br></br>\r\n          12.3. You will keep your Account Data safe and secure at all times and\r\n          prevent unauthorised access to Your Account Data and Your account by\r\n          third parties, in particular by avoiding obvious User IDs or\r\n          passwords, by changing Your password regularly and by ensuring that\r\n          You do not disclose your password(s) or grant any other User or third\r\n          party access to Your Account Data or Your account.\r\n          <br></br> <br></br>\r\n          12.4. Oakar Services may follow any instructions given by You and may\r\n          regard any instructions (a) received from or issued by a User or third\r\n          party using or providing your Account Data or (b) which are\r\n          attributable to You or Your Account Data as Your instructions.\r\n          <br></br> <br></br>\r\n          12.5. You agree not to use any Account Data or account of any other\r\n          User or person than Yourself without permission of the User or person\r\n          holding the respective account.\r\n          <br></br> <br></br>\r\n          12.6. You will notify Oakar Services immediately by email to\r\n          support@myOakar Services.asia upon becoming aware of any unauthorized\r\n          use of any of Your Registration Data or Account Data or any other\r\n          breach of security.\r\n          <br></br> <br></br>\r\n          12.7. PLEASE NOTE THAT You will not be able to change Your\r\n          Registration Data or Account Data after registration. If you have any\r\n          queries, please contact Oakar Services at support@myKenya Space\r\n          Agency.asia.\r\n          <br></br> <br></br>\r\n          <b>13. Privacy and protection of personal data</b>\r\n          <br></br> <br></br>\r\n          13.1. Oakar Services is committed to the protection of Your personal\r\n          data. See our Privacy Policy (http://account.Kenya Space\r\n          Agency.com/membership/pp) to learn more about how Oakar Services\r\n          protects and handles Your personal data and information when You Use\r\n          the Services. You agree to the Use of Your Registration Data, and all\r\n          other personal data and information in accordance with Kenya Space\r\n          Agency's privacy policy. Please note in particular that Kenya Space\r\n          Agency and Oakar Services’s partners use various technologies to\r\n          collect and store information when you access any particular service\r\n          or Service or when you interact with any service or services offered\r\n          to or by Oakar Services’s partners. You agree that Kenya Space Agency\r\n          and Oakar Services’s partners may collect, store and use this data and\r\n          information to provide recommendations and personalization of the\r\n          Services offered to You, which may include sending of electronic and\r\n          other communications in accordance with Clause 4.10 above.\r\n          <br></br> <br></br>\r\n          How You and Oakar Services are liable under these Terms and Conditions\r\n          <br></br> <br></br>\r\n          <b>14. YOUR WARRANTIES AND REPRESENTATIONS</b>\r\n          <br></br> <br></br>\r\n          14.1. YOU ARE ENTIRELY RESPONSIBLE FOR THE USER CONTENT PROVIDED BY\r\n          YOU AND FOR ANY CONSEQUENCES ARISING IN CONNECTION WITH THAT USER\r\n          CONTENT (INCLUDING ANY LOSS OR DAMAGE SUFFERED OR INCURRED BY Kenya\r\n          Space Agency AND Oakar Services'S SUBSIDIARIES). IN PARTICULAR, YOU\r\n          WARRANT AND REPRESENT TO Oakar Services THAT:\r\n          <br></br> <br></br>\r\n          A. YOU ARE THE OWNER OF ALL RIGHTS PERTAINING TO THE USER CONTENT OR\r\n          OTHERWISE AUTHORIZED TO GRANT Oakar Services THE USER CONTENT LICENSE;\r\n          <br></br> <br></br>\r\n          B. THE USER CONTENT WILL NOT INFRINGE ANY INTELLECTUAL PROPERTY OR\r\n          OTHER THIRD PARTY RIGHTS;\r\n          <br></br> <br></br>\r\n          C. THE USER CONTENT WILL NOT CONTAIN ANY MATERIAL WHICH IS HARMFUL,\r\n          INACCURATE, PORNOGRAPHIC, ABUSIVE, OBSCENE, THREATENING, DEFAMATORY,\r\n          OR WHICH IS OTHERWISE ILLEGAL OR WHICH DOES NOT COMPLY WITH APPLICABLE\r\n          LAW OR Oakar Services'S CONTENT GUIDELINES;\r\n          <br></br> <br></br>\r\n          D. THE USER CONTENT WILL NOT CONTAIN ANY VIRUSES OR OTHER HARMFUL\r\n          SOFTWARE, CODE OR SIMILAR MEANS AND DEVICES WHICH COULD DAMAGE, HARM,\r\n          DISABLE OR OTHERWISE IMPACT OR LIMIT THE FUNCTION AND PERFORMANCE OF\r\n          THE SERVICES AND/OR ANY DEVICE ACCESSING SUCH USER CONTENT. REGARDLESS\r\n          OF WHETHER THIS DEVICE BELONGS TO Oakar Services OR ANY OTHER USER OR\r\n          THIRD PARTY INCLUDING SERVER, NETWORKS NODES OR ANY SIMILAR EQUIPMENT;\r\n          <br></br> <br></br>\r\n          E. THE USER CONTENT WILL COMPLY AND CONFORM TO ANY AGE CLASSIFICATION\r\n          RULES AND REQUIREMENTS (INCLUDING ACCURATE AND ADEQUATE CLASSIFICATION\r\n          AND RATING OF ANY USER CONTENT, AS THE CASE MAY BE) UNDER THE LAWS OF\r\n          ANY COUNTRY, INCLUDING THE COUNTRY IN WHICH YOU ARE A RESIDENT OR FROM\r\n          WHICH YOU ARE USING THE SERVICES; AND\r\n          <br></br> <br></br>\r\n          F. THE USE OF THE USER CONTENT BY Oakar Services OR Kenya Space\r\n          Agency'S SUBSIDIARIES WILL NOT IMPOSE ANY OBLIGATION UPON Kenya Space\r\n          Agency OR Oakar Services'S SUBSIDIARIES TO PAY ANY KIND OF MONETARY\r\n          CONTRIBUTION (INCLUDING LICENSE FEES, DUES OR OTHERWISE) TO ANY THIRD\r\n          PARTY (IN PARTICULAR COLLECTING SOCIETIES).\r\n          <br></br> <br></br>\r\n          14.2. YOU AGREE TO INDEMNIFY AND HOLD HARMLESS Oakar Services AND THE\r\n          Oakar Services SUBSIDIARIES FROM ANY LOSS, DAMAGE, LIABILITY OR\r\n          EXPENSE INCURRED BY Oakar Services AND THE Oakar Services SUBSIDIARIES\r\n          AS A RESULT OF ANY BREACH OF THESE WARRANTIES.\r\n          <br></br> <br></br>\r\n          <b>15. Oakar Services'S WARRANTIES AND REPRESENTATIONS</b>\r\n          <br></br> <br></br>\r\n          15.1. UNLESS OTHERWISE EXPRESSLY STATED IN THIS AGREEMENT, Kenya Space\r\n          Agency, THE Oakar Services SUBSIDIARIES, AND ITS SUPPLIERS, PARTNERS\r\n          AND/OR LICENSORS PROVIDE THE SERVICES ON BEST EFFORT BASIS ONLY AND\r\n          EXCLUDE ALL WARRANTIES AND CONDITIONS OF ANY KIND WHETHER EXPRESSLY OR\r\n          IMPLIED. IN PARTICULAR BUT WITHOUT LIMITATION, Kenya Space Agency, THE\r\n          Oakar Services SUBSIDIARIES, AND ITS SUPPLIERS, PARTNERS AND/OR\r\n          LICENSORS DO NOT WARRANT OR REPRESENT THAT:\r\n          <br></br> <br></br>\r\n          A. THE SERVICES ARE FIT FOR ANY PURPOSE OR MEET YOUR REQUIREMENTS OR\r\n          ARE PROVIDED TO YOU WITHOUT ANY ERRORS OR DEFICIENCIES OR THAT THEY\r\n          ARE IN COMPLIANCE WITH ANY QUALITY LEVELS, AS THE CASE MAY BE;\r\n          <br></br> <br></br>\r\n          B. THE SERVICES ARE AVAILABLE TO YOU AT ANY TIME AND PROVIDED TO YOU\r\n          WITHOUT DISRUPTION, INTERRUPTION OR DELAY;\r\n          <br></br> <br></br>\r\n          C. THE SERVICES DO NOT INFRINGE ANY COPYRIGHT OR VIOLATE ANY LAWS\r\n          WHETHER IN THE COUNTRY WHERE YOU ARE A RESIDENT OR ELSEWHERE IN THE\r\n          WORLD;\r\n          <br></br> <br></br>\r\n          D. ANY INFORMATION (WHETHER ORAL OR WRITTEN) OBTAINED BY YOU FROM\r\n          Oakar Services OR AS A RESULT OF YOUR USE OF THE SERVICES (INCLUDING\r\n          ANY MATERIALS OR PRODUCTS) WILL BE SUITABLE, ACCURATE, COMPLETE, OR\r\n          RELIABLE; AND\r\n          <br></br> <br></br>\r\n          E. THAT ANY DEFICIENCIES IN THE SERVICES, INCLUDING ANY DEFECTS IN\r\n          PERFORMANCE, OPERATION OR FUNCTIONALITY OF THE SERVICES OR ANY\r\n          SOFTWARE PROVIDED TO YOU AS PART OF THE SERVICES WILL BE FIXED,\r\n          CORRECTED OR OTHERWISE REMEDIED.\r\n          <br></br> <br></br>\r\n          15.2. ANY DOCUMENTS OR MATERIAL (INCLUDING ANY SOFTWARE AND FIRMWARE\r\n          UPDATES) DOWNLOADED, INSTALLED OR OTHERWISE OBTAINED THROUGH THE USE\r\n          OF THE SERVICES ARE PROVIDED BY Oakar Services \"AS IS\" AND AT YOUR OWN\r\n          RISK. Oakar Services IS NOT RESPONSIBLE FOR ANY DAMAGE TO YOUR MOBILE\r\n          PHONE OR MOBILE PHONE'S, SOFTWARE, COMPUTER SYSTEM OR OTHER DEVICE OR\r\n          DEVICE'S SOFTWARE OR ANY LOSS OF DATA THAT IS CAUSED BY OR RESULTS\r\n          FROM THE DOWNLOAD AND/OR USE OF ANY SUCH DOCUMENTS AND/OR MATERIAL.\r\n          <br></br> <br></br>\r\n          <b>16. YOUR LIABILITY</b>\r\n          <br></br> <br></br>\r\n          16.1. YOU ARE ENTIRELY RESPONSIBLE FOR ANY BREACH OF YOUR OBLIGATIONS\r\n          UNDER\r\n          <br></br> <br></br>\r\n          A. THESE TERMS AND CONDITIONS; AND\r\n          <br></br> <br></br>\r\n          B. ANY APPLICABLE LAW OR REGULATION IN THE RELEVANT JURISDICTIONS,\r\n          INCLUDING THE JURISDICTION WHERE YOU ARE A RESIDENT OR FROM WHERE YOU\r\n          ARE USING THE SERVICES AND FOR THE CONSEQUENCES OF ANY SUCH BREACH,\r\n          INCLUDING ANY LOSS OR DAMAGE WHICH Oakar Services OR ANY THIRD PARTY\r\n          MAY INCUR OR SUFFER. Oakar Services WILL HAVE NO RESPONSIBILITY TO YOU\r\n          OR TO ANY THIRD PARTY IN RESPECT OF SUCH BREACH.\r\n          <br></br> <br></br>\r\n          17. Oakar Services'S LIABILITY\r\n          <br></br> <br></br>\r\n          17.1. SUBJECT TO CLAUSE 17.3, Oakar Services AND THE Kenya Space\r\n          Agency SUBSIDIARIES ARE NOT LIABLE TO YOU, REGARDLESS OF THE LEGAL\r\n          GROUNDS, IN PARTICULAR WHETHER IN CONTRACT, TORT (INCLUDING\r\n          NEGLIGENCE) OR ANY THEORY OF LIABILITY, AND WHETHER OR NOT THE\r\n          POSSIBILITY OF SUCH DAMAGE OR LOSSES HAS BEEN NOTIFIED TO Kenya Space\r\n          Agency, FOR:\r\n          <br></br> <br></br>\r\n          A. ANY INDIRECT, INCIDENTAL, SPECIAL OR CONSEQUENTIAL DAMAGES;\r\n          <br></br> <br></br>\r\n          B. ANY LOSS OF INCOME, BUSINESS, ACTUAL OR ANTICIPATED PROFITS,\r\n          OPPORTUNITY, GOODWILL OR REPUTATION (WHETHER DIRECT OR INDIRECT);\r\n          <br></br> <br></br>\r\n          C. ANY DAMAGE TO AND/OR CORRUPTION OR LOSS OF DATA (WHETHER DIRECT OR\r\n          INDIRECT);\r\n          <br></br> <br></br>\r\n          D. ANY LOSS OR DAMAGE AS A RESULT OF:\r\n          <br></br> <br></br>\r\n          I. ANY BREACH OF THE TERMS AND CONDITIONS OF THIS AGREEMENT OR ANY\r\n          OTHER AGREEMENT OR CONTRACTUAL RELATIONSHIP BETWEEN Oakar Services AND\r\n          YOU WHICH IS ATTRIBUTABLE TO NEGLIGENCE ON THE PART OF Kenya Space\r\n          Agency, THE Oakar Services SUBSIDIARIES AND ITS SUPPLIERS, PARTNERS\r\n          AND/OR LICENSORS;\r\n          <br></br> <br></br>\r\n          II. ANY RELIANCE PLACED BY YOU ON THE SUITABILITY, ACCURACY,\r\n          COMPLETENESS, RELIABILITY OR EXISTENCE OF ANY (A) SERVICES (INCLUDING\r\n          ANY SOFTWARE, INFORMATION, DOCUMENTS, MATERIALS MADE AVAILABLE TO YOU\r\n          AS PART OR IN COURSE OF THE USAGE OF THE SERVICES) OR (B) ADVERTISING\r\n          OR AS A RESULT OF ANY RELATIONSHIP OR TRANSACTION BETWEEN YOU AND ANY\r\n          ADVERTISER OR SPONSOR WHOSE ADVERTISING (INCLUDING ANY PROMOTIONAL\r\n          MATERIAL) IS MADE AVAILABLE ON OR BY YOUR USE OF THE SERVICES;\r\n          <br></br> <br></br>\r\n          III. ANY CHANGES, MODIFICATIONS, EXTENSIONS OR LIMITATIONS (INCLUDING\r\n          ANY SUSPENSION OF YOUR USE OF THE SERVICES, ACCESS TO YOUR ACCOUNT AND\r\n          ACCOUNT DATA OR YOUR REGISTRATION DATA) TO THE SERVICES, OR ANY\r\n          PERMANENT OR TEMPORARY CESSATION IN THE PROVISION OF THE SERVICES (OR\r\n          ANY PART OF THEM); OR\r\n          <br></br> <br></br>\r\n          IV. THE USE OF YOUR ACCOUNT DATA BY ANY OTHER PERSON THAN YOURSELF\r\n          (REGARDLESS OF WHETHER WITH OR WITHOUT YOUR KNOWLEDGE). YOU ARE FULLY\r\n          RESPONSIBLE AND LIABLE TO COMPENSATE Oakar Services FOR ANY DAMAGE\r\n          AND/OR LOSS INCURRED DUE TO THE USE OF YOUR ACCOUNT DATA BY SOMEONE\r\n          ELSE.\r\n          <br></br> <br></br>\r\n          17.2. IN THE EVENT THAT Oakar Services OR THE Oakar Services\r\n          SUBSIDIARIES ARE LIABLE FOR A BREACH OF THESE TERMS AND CONDITIONS,\r\n          Oakar Services'S LIABILITY SHALL BE LIMITED TO DAMAGES WHICH Kenya\r\n          Space Agency MUST TYPICALLY EXPECT AT THE TIME OF THE CONCLUSION OF\r\n          THIS AGREEMENT DUE TO THE CIRCUMSTANCES KNOWN AT THE TIME.\r\n          <br></br> <br></br>\r\n          17.3. NOTHING IN THESE TERMS AND CONDITIONS SHALL EXCLUDE OR LIMIT\r\n          Oakar Services'S\r\n          <br></br> <br></br>\r\n          A. LIABILITY FOR DEATH, PERSONAL INJURY OR FRAUD OR IN ACCORDANCE WITH\r\n          ANY PRODUCT LIABILITY ACT; AND\r\n          <br></br> <br></br>\r\n          B. WARRANTY OR LIABILITY FOR DAMAGES OR LOSSES WHICH MAY NOT BE\r\n          LAWFULLY EXCLUDED OR LIMITED BY APPLICABLE LAW. IF THE LAWS IN THE\r\n          USER'S JURISDICTION DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES,\r\n          TERMS OR CONDITIONS OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR\r\n          LOSS OR DAMAGE CAUSED BY NEGLIGENCE, BREACH OF CONTRACT OR BREACH OF\r\n          IMPLIED TERMS, OR INCIDENTAL OR CONSEQUENTIAL DAMAGES, ONLY THE\r\n          LIMITATIONS WHICH ARE LAWFUL IN THAT JURISDICTION WILL APPLY TO THE\r\n          USER AND Oakar Services'S LIABILITY AND WARRANTY WILL BE LIMITED TO\r\n          THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW.\r\n          <br></br> <br></br>\r\n          18. Force Majeure\r\n          <br></br> <br></br>\r\n          18.1. Oakar Services is not liable or responsible for any failure to\r\n          perform, or delay in performance of any of Oakar Services's\r\n          obligations under this Agreement that is caused by events outside\r\n          Oakar Services's reasonable control (\"Force Majeure Event\"), in\r\n          particular (without limitation) (a) unavailability of public or\r\n          private telecommunication networks (b) acts, decrees, legislation,\r\n          regulations or restrictions of any government or (c) strikes,\r\n          lock-outs or other industrial action, civil commotion, riot, invasion,\r\n          terrorist attacks or threats of terrorist attacks, war (whether\r\n          declared or not) or any natural disaster.\r\n          <br></br> <br></br>\r\n          18.2. Oakar Services's performance under this Agreement is deemed to\r\n          be suspended for the period that Force Majeure Event continues, and\r\n          Oakar Services will have an extension of time for performance for the\r\n          duration of that period.\r\n          <br></br> <br></br>\r\n          18.3. Oakar Services will use its reasonable efforts to bring the\r\n          Force Majeure Event to a close or to find a solution by which Kenya\r\n          Space Agency's obligations under this Agreement may be performed\r\n          despite the Force Majeure Event.\r\n          <br></br> <br></br>\r\n          19. Links to third party sites and other content\r\n          <br></br> <br></br>\r\n          19.1. The Services may contain hyper links to content resources and\r\n          services of both Oakar Services and other third parties, including\r\n          other websites or other applications (\"External Resources\"). Kenya\r\n          Space Agency is not responsible for and has no control over the\r\n          content (including advertisements, products and other materials)\r\n          provided, made available and/or displayed to You under these External\r\n          Resources and is not liable for any damage or loss incurred by You due\r\n          to or as a result of the content (including any reliance by You on the\r\n          availability, accuracy, applicability or completeness of the content)\r\n          which is made available to You, provided to You or displayed to You\r\n          under these External Resources.\r\n          <br></br> <br></br>\r\n          19.2. You may from time to time and as a result of or through the Use\r\n          of the Services purchase or avail Yourself of services, goods or\r\n          software which is provided to You by a third party. Your use of such\r\n          other services, goods or software may be subject to separate terms and\r\n          conditions between You and the respective third party. This Agreement\r\n          does not affect Your legal relationship with that third party and\r\n          Oakar Services is not liable or responsible for any services, goods or\r\n          software provided to You by any third party.\r\n          <br></br> <br></br>\r\n          What else You should know and understand\r\n          <br></br> <br></br>\r\n          20. Special terms and conditions\r\n          <br></br> <br></br>\r\n          20.1. The Services offer You access to a suite of Oakar Services and\r\n          other third party services. Special terms and conditions which, among\r\n          others, describe specific features and characteristics of each\r\n          individual particular service may apply and stipulate additional legal\r\n          provisions (collectively referred to as \"Special Terms\").\r\n          <br></br> <br></br>\r\n          20.2. Any Special Terms apply in addition and in conjunction with\r\n          these Terms and Conditions. In the event of a conflict between these\r\n          Terms and Conditions and any of the Special Terms, the Special Terms\r\n          shall take precedence over these Terms and Conditions.\r\n          <br></br> <br></br>\r\n          21. Language of this Agreement Oakar Services may provide You with a\r\n          translation of the English version of this Agreement. This translation\r\n          is provided for Your convenience only. In the event of any conflict\r\n          between the English language version and the translation version of\r\n          these Terms and Conditions and to the extent permissible by applicable\r\n          law, the English language version takes precedence over any\r\n          translation version.\r\n          <br></br> <br></br>\r\n          22. Procedure for making claims and notices regarding infringement of\r\n          intellectual property rights and other rights\r\n          <br></br> <br></br>\r\n          22.1. Oakar Services may respond to notices of alleged copyright\r\n          infringement or violation of other laws in accordance with applicable\r\n          law and may terminate, suspend or block access (either temporary or\r\n          permanently) to accounts of Users who repeatedly infringe copyright\r\n          laws or violate other applicable law.\r\n          <br></br> <br></br>\r\n          22.2. Any notices regarding any copyright infringement or violation of\r\n          other laws by the Services, any content provided with or displayed in\r\n          the Services or any User Content should be sent to support@myKenya\r\n          Space Agency.asia\r\n          <br></br> <br></br>\r\n          23. Confidentiality\r\n          <br></br> <br></br>\r\n          23.1. The Services may contain information which is confidential to\r\n          Oakar Services including, without limitation, all information\r\n          designated as confidential or recognizable as trade or business\r\n          secrets or for other reasons recognizable or made available to You as\r\n          confidential.\r\n          <br></br> <br></br>\r\n          23.2. Unless stated otherwise in these Terms and Conditions You will\r\n          (a) keep such information confidential for an unlimited period of time\r\n          and not disclose such information without Oakar Services's prior\r\n          written consent and (b) neither record or otherwise utilize such\r\n          information unless required for the purposes of this Agreement.\r\n          <br></br> <br></br>\r\n          23.3. Clause 23.1 shall not apply in the event that You are required\r\n          to disclose information which is confidential to Oakar Services\r\n          according to applicable law. In this case and to the extent\r\n          permissible by applicable law, You will notify Oakar Services\r\n          immediately of any disclosure of any information which is confidential\r\n          to Oakar Services.\r\n          <br></br> <br></br>\r\n          24. General provisions\r\n          <br></br> <br></br>\r\n          24.1. Oakar Services will rely only on the written Terms and\r\n          Conditions. Any representations, statements or agreements made or\r\n          entered into elsewhere, whether directly or indirectly, written or\r\n          oral or in advertising are not binding towards Oakar Services unless\r\n          expressly confirmed in writing by Oakar Services to You.\r\n          <br></br> <br></br>\r\n          24.2. Oakar Services may provide You with notices (including notices\r\n          relating to changes to the Agreement or termination of the Services or\r\n          parts thereof) by email, ordinary mail, or postings on or via the\r\n          Services.\r\n          <br></br> <br></br>\r\n          24.3. If Oakar Services does not exercise or enforce any legal right\r\n          or remedy which is set out in this Agreement or which Kenya Space\r\n          Agency has the benefit of under any applicable law, this will not be\r\n          construed as a formal waiver of Oakar Services's rights or remedies\r\n          and such rights or remedies will remain available to Kenya Space\r\n          Agency.\r\n          <br></br> <br></br>\r\n          24.4. If any provision of this Agreement is held to be invalid,\r\n          illegal or unenforceable (in whole or in part) as determined by a\r\n          court of law having jurisdiction to decide on this matter, the\r\n          validity, legality and enforceability of the remaining provisions\r\n          shall not in any way be affected or impaired.\r\n          <br></br> <br></br>\r\n          24.5. Each of the Oakar Services's Subsidiaries shall be a third party\r\n          beneficiary to the Agreement and shall be entitled to directly enforce\r\n          and rely upon any provision of this Agreement which confers a benefit\r\n          on (or rights in favor of) them. Subject to the foregoing, no other\r\n          person shall be a third party beneficiary to this Agreement.\r\n          <br></br> <br></br>\r\n          24.6. You are not permitted to transfer, assign or otherwise dispose\r\n          of this Agreement which is personal to You, or any of Your rights or\r\n          obligations arising under this Agreement without the prior written\r\n          consent of Oakar Services.\r\n          <br></br> <br></br>\r\n          24.7. This Agreement and Your relationship with Oakar Services under\r\n          this Agreement shall be governed and construed in accordance with the\r\n          laws of the jurisdiction where You are resident, without regard to its\r\n          conflict of law provisions and subject to the non-exclusive\r\n          jurisdiction of the courts of such jurisdiction, to resolve any legal\r\n          matter arising in relation to the Agreement. Notwithstanding the\r\n          foregoing, Oakar Services may apply for injunctive remedies (or an\r\n          equivalent type of urgent legal relief) in any jurisdiction.\r\n        </p>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import \"../Styles/PrivacyPolicy.scss\";\r\nimport React from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\n\r\nimport Footer from \"../components/Utils/footer\";\r\n\r\nexport default function PrivacyPolicy(props) {\r\n  return (\r\n    <div className=\"AboutPrivacy\">\r\n      <div className=\"headings\">\r\n        <Header\r\n          isAuthenticated={props.isAuthenticated}\r\n          setIsAuthenticated={props.setIsAuthenticated}\r\n          currentUser={props.currentUser}\r\n          setCurrentUser={props.setCurrentUser}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"vision2030\">\r\n        <h1>Privacy Policy</h1>\r\n        <p>\r\n          <b>Oakar Services Privacy Policy</b>\r\n          <br></br> <br></br>\r\n          <a href=\"#\">Download PDF Version</a>\r\n          <br></br> <br></br>\r\n          <b>1.0 Introduction</b>\r\n          <br></br> <br></br>\r\n          Your privacy is important to us. This privacy statement explains the\r\n          personal data Oakar Services Plc (“Oakar Services”) collects, how\r\n          Oakar Services processes it, and for what purposes.\r\n          <br></br> <br></br>\r\n          This statement should be read together with the Terms and Conditions\r\n          of Use for other Oakar Services products and services. Where there is\r\n          a conflict, this statement will prevail.\r\n          <br></br> <br></br>\r\n          This statement applies to all customers, suppliers, agents, merchants,\r\n          dealers and all visitors frequenting any of Oakar Services premises.\r\n          <br></br> <br></br>\r\n          <b>2.0 Definitions</b>\r\n          <br></br> <br></br>\r\n          References to\r\n          <br></br> <br></br>\r\n          2.1 “You” means:\r\n          <br></br> <br></br>\r\n          i)customer- the person who subscribes to, uses or purchases any of our\r\n          products and services or accesses our websites and includes any person\r\n          who accesses any of the products and services you have subscribed to.\r\n          <br></br> <br></br>\r\n          ii)Any agent, dealer and/or merchants who has signed an agreement with\r\n          us and is recognised as a merchant or agent in accordance with any\r\n          applicable laws or Regulations.\r\n          <br></br> <br></br>\r\n          iii) Any visitor that is a person (including\r\n          contractors/subcontractors or any third parties) who gains access to\r\n          any Oakar Services premises.\r\n          <br></br> <br></br>\r\n          iv)Any supplier who has been contracted by Oakar Services and executed\r\n          a supplier contract.\r\n          <br></br> <br></br>\r\n          2.2 “Oakar Services”, “we” or “us”, “our” and “ours” means Kenya Space\r\n          Agency Plc The word “includes” means that what follows is not\r\n          necessarily exhaustive and therefore the examples given are not the\r\n          only things/situations included in the meaning or explanation of that\r\n          text.\r\n          <br></br> <br></br>\r\n          <b>3.0 Statement Details</b>\r\n          <br></br> <br></br>\r\n          3.1 Collection of Information\r\n          <br></br> <br></br>\r\n          3.1.1 We collect your personal information with your knowledge and\r\n          consent when you do any of the following (please note that this list\r\n          is not exhaustive):\r\n          <br></br> <br></br>\r\n          a) Register for a specific product or service, including but not\r\n          limited to SIM-card registration, PostPay subscriptions, e-commerce\r\n          platforms, M-PESA and M-PESA-powered services;\r\n          <br></br> <br></br>\r\n          b) Buy, subscribe to or use a Oakar Services product or service\r\n          online, on the cloud, on a mobile or other device, in a Kenya Space\r\n          Agency Shop or other retail outlet;\r\n          <br></br> <br></br>\r\n          c) Subscribe to Oakar Services or third-party premium rates services,\r\n          Short Message Service (SMS), email or social media platforms;\r\n          <br></br> <br></br>\r\n          d) Ask Oakar Services for more information about a product or service\r\n          or contact Oakar Services with a query or complaint;\r\n          <br></br> <br></br>\r\n          e) Respond to or participate in a survey, marketing promotion, prize\r\n          competition or special offer;\r\n          <br></br> <br></br>\r\n          f) Visit, access or use Oakar Services or third-party websites;\r\n          <br></br> <br></br>\r\n          g) We may also collect your information from other organisations\r\n          including credit-reference bureaus, fraud prevention agencies and\r\n          business directories;\r\n          <br></br> <br></br>\r\n          h) We may collect your information when you interact with us as a\r\n          supplier, agent, merchant or dealer as prescribed in this statement;\r\n          <br></br> <br></br>\r\n          i) We also collect information when you visit any of our premises.\r\n          <br></br> <br></br>\r\n          3.1.2 We do not onboard minors (any person under 18 years of age)\r\n          except where you additionally register on their behalf as their parent\r\n          and/ or legal guardian. If you allow a child to use our services, you\r\n          should be aware that their personal information could be collected as\r\n          described in this statement.\r\n          <br></br> <br></br>\r\n          3.2 What Information is collected?\r\n          <br></br> <br></br>\r\n          The information we collect and store about you includes but is not\r\n          limited to the following:\r\n          <br></br> <br></br>\r\n          3.2.1 Your identity and SIM-card registration information, including\r\n          your name, photograph, address, location, phone number, identity\r\n          document type and number, date of birth, email address, age, gender\r\n          and mobile number portability records.\r\n          <br></br> <br></br>\r\n          3.2.2 Your credit or debit-card information, information about your\r\n          bank account numbers and SWIFT codes or other banking information.\r\n          <br></br> <br></br>\r\n          3.2.3 Your transaction information when you use our MPESA service.\r\n          <br></br> <br></br>\r\n          3.2.4 Your preferences for particular products and services, based on\r\n          information provided by you or from your use of Oakar Services’s (or\r\n          third party) network, products and services.\r\n          <br></br> <br></br>\r\n          3.2.5 Name, family details, age, profiling information such as level\r\n          of education, bank account status, income brackets, etc. collected as\r\n          part of surveys conducted by Oakar Services and their agents on behalf\r\n          of Oakar Services.\r\n          <br></br> <br></br>\r\n          3.2.6 Your contact with us, such as when you: call us or interact with\r\n          us through social media, our chatbot Zuri, ‘snail mail’, email (we may\r\n          record your conversations, social media or other interactions with\r\n          us), register your biometric information such as your voice, finger\r\n          prints etc, visit a Oakar Services Shop or other retail outlet.\r\n          <br></br> <br></br>\r\n          3.2.7 Your account information, such as your handset type/model,\r\n          tariff, top-ups; subscriptions (including third party subscriptions),\r\n          billing statements, cloud hosting registration details, e-commerce\r\n          registration and usage, M-PESA and mobile money transactions.\r\n          <br></br> <br></br>\r\n          3.2.8 Your call data records: phone numbers that you call or send\r\n          messages to (or receive calls and messages from), log of calls,\r\n          messages or data sessions on the Oakar Services network and your\r\n          approximate location (save for customer service interactions as noted\r\n          above we do not record or store message or call contents).\r\n          <br></br> <br></br>\r\n          3.2.9 We use Closed Circuit Television (CCTV) surveillance recordings.\r\n          CCTV Devices are installed at strategic locations to provide a safe\r\n          and secure environment in all Oakar Services premises as a part of our\r\n          commitment to community safety, security and crime prevention.\r\n          <br></br> <br></br>\r\n          3.2.10 When you request us to reserve parking for you, we will collect\r\n          and retain your personal data (name, telephone number, and vehicle\r\n          registration details) when you request Oakar Services to reserve\r\n          parking space for you and where you use any of our parking facilities\r\n          as a contractor. We use the data you provide to ensure effective\r\n          visitor, contractor and car park management, Health and Safety\r\n          compliance (orderly entry and exiting to and from the car parks and\r\n          buildings) and inventory management.\r\n          <br></br> <br></br>\r\n          3.2.11 We maintain a register of visitors in which we collect and keep\r\n          your personal data such as names, company/institution details,\r\n          telephone number, vehicle registration details and National ID number.\r\n          This information is collected for health, safety and security\r\n          purposes.\r\n          <br></br> <br></br>\r\n          3.2.12 When you use Oakar Services WIFI for guest and visitors, we\r\n          collect email IDs and will provide user name and password. We record\r\n          the device address and also log traffic information in the form of\r\n          sites visited, duration and date sent/received.\r\n          <br></br> <br></br>\r\n          3.2.13 We may use your medical information to manage our services and\r\n          products to you e.g. when you use our services designed for persons\r\n          with disabilities such as our braille watch for the visually impaired.\r\n          <br></br> <br></br>\r\n          3.2.14 Where you use our voice recognition platform (IVR) we may\r\n          collect and process your voice biometrics.\r\n          <br></br> <br></br>\r\n          3.2.15 We collect your personal information when you visit us for\r\n          purposes of accident and incident reporting. Oakar Services will\r\n          collect personal data from the injured party or person suffering from\r\n          ill health, such as, Name, Address, Age, next of kin, details of the\r\n          incident to include any relevant medical history. The data is\r\n          collected as Oakar Services has a legal duty to document workplace\r\n          incidents/accidents and to report certain types of accidents, injuries\r\n          and dangerous occurrences arising out of its work activity to the\r\n          relevant enforcing authority.\r\n          <br></br> <br></br>\r\n          3.2.16 Incidents and accidents will be investigated to establish what\r\n          lessons can be learned to prevent such incidents/accidents reoccurring\r\n          including introduction of additional safeguards, procedures,\r\n          information instruction and training, or any combination of these.\r\n          Monitoring is undertaken but on an anonymised basis. The information\r\n          is also retained in the event of any claims for damages.\r\n          <br></br> <br></br>\r\n          3.3 Use of Information\r\n          <br></br> <br></br>\r\n          We may use and analyse your information for the following purposes:\r\n          <br></br> <br></br>\r\n          3.3.1 Processing products and services that you have bought from Kenya\r\n          Space Agency or from third parties on our ecommerce platforms;\r\n          <br></br> <br></br>\r\n          3.3.2 Billing you for using our or third-party products or services or\r\n          taking the appropriate amount of credit from you;\r\n          <br></br> <br></br>\r\n          3.3.3 Responding to any of your queries or concerns;\r\n          <br></br> <br></br>\r\n          3.3.4 Verifying your identity information through publicly available\r\n          and/or restricted government databases in order to comply with\r\n          applicable regulatory requirements;\r\n          <br></br> <br></br>\r\n          3.3.5 Carrying out credit checks and credit scoring;\r\n          <br></br> <br></br>\r\n          3.3.6 Keeping you informed generally about new products and services\r\n          and contacting you with offers or promotions based on how you use our\r\n          or third-party products and services unless you opt out of receiving\r\n          such marketing messages (you may contact Oakar Services at any time to\r\n          opt out of receiving marketing messages);\r\n          <br></br> <br></br>\r\n          3.3.7 to comply with any legal, governmental or regulatory requirement\r\n          or for use by our lawyers in connection with any legal proceedings;\r\n          <br></br> <br></br>\r\n          3.3.8 In business practices including to quality control, training and\r\n          ensuring effective systems operations;\r\n          <br></br> <br></br>\r\n          3.3.9 To protect our network including to manage the volume of calls,\r\n          texts and other use of our network;\r\n          <br></br> <br></br>\r\n          3.3.10 To understand how you use our network, products and services\r\n          for purposes of developing or improving products and services;\r\n          <br></br> <br></br>\r\n          3.3.11 Preventing and detecting fraud or other crimes and for debt\r\n          recovery;\r\n          <br></br> <br></br>\r\n          3.3.12 For research, statistical, survey and other scientific or\r\n          business purposes;\r\n          <br></br> <br></br>\r\n          3.3.13 Provide aggregated data (which do not contain any information\r\n          which may identify you as an individual) to third parties for research\r\n          and scientific purpose;\r\n          <br></br> <br></br>\r\n          3.3.14 Administer any of our online platforms/websites.\r\n          <br></br> <br></br>\r\n          3.4. Categories of Data\r\n          <br></br> <br></br>\r\n          Categories of Personal Data as defined in the Data Protection Act of\r\n          Kenya may be processed depending on the particular types of products\r\n          and services you have subscribed to.\r\n          <br></br> <br></br>\r\n          3.5. Lawful Basis for processing your information\r\n          <br></br> <br></br>\r\n          We will process your personal information based on any of the lawful\r\n          basis provided for under the Data Protection Law:\r\n          <br></br> <br></br>\r\n          3.6. Retention of Information\r\n          <br></br> <br></br>\r\n          We will only retain your personal data for as long as reasonably\r\n          necessary to fulfil the purposes we collected it for, including for\r\n          the purposes of satisfying any legal, regulatory, tax, accounting or\r\n          reporting requirements. We may retain your personal data for a longer\r\n          period in the event of a complaint or if we reasonably believe there\r\n          is a prospect of litigation in respect to our relationship with you.\r\n          To determine the appropriate retention period for personal data, we\r\n          consider the amount, nature and sensitivity of the personal data, the\r\n          potential risk of harm from unauthorised use or disclosure of your\r\n          personal data, the purposes for which we process your personal data\r\n          and whether we can achieve those purposes through other means, the\r\n          need to comply with our internal policy and the applicable legal,\r\n          regulatory, tax, accounting or other requirements. Anonymised\r\n          information that can no longer be associated with you may be held\r\n          indefinitely.\r\n          <br></br> <br></br>\r\n          <b>4.0 Disclosure of Information</b>\r\n          <br></br> <br></br>\r\n          4.1 Any disclosure of your information shall be in accordance with\r\n          applicable law and regulations.\r\n          <br></br>\r\n          Oakar Services shall assess and review each application for\r\n          information and may decline to grant such information to the\r\n          requesting party.\r\n          <br></br> <br></br>\r\n          4.2 We may disclose your information to:\r\n          <br></br> <br></br>\r\n          a) Law-enforcement agencies, regulatory authorities, courts or other\r\n          statutory authorities in response to a demand issued with the\r\n          appropriate lawful mandate and where the form and scope of the demand\r\n          is compliant with the law.\r\n          <br></br> <br></br>\r\n          b) Our subsidiaries, associates, partners, software developers or\r\n          agents who are involved in delivering Oakar Services products and\r\n          services you order or use;\r\n          <br></br> <br></br>\r\n          c) Fraud prevention and Anti money laundering agencies,\r\n          credit-reference agencies;\r\n          <br></br> <br></br>\r\n          d) Publicly available and/or restricted government databases to verify\r\n          your identity information in order to comply with regulatory\r\n          requirements;\r\n          <br></br> <br></br>\r\n          e) Debt-collection agencies or other debt-recovery organisations;\r\n          <br></br> <br></br>\r\n          f) Survey agencies that conduct surveys on behalf of Kenya Space\r\n          Agency;\r\n          <br></br> <br></br>\r\n          g) Emergency service providers when you make an emergency call (or\r\n          where such disclosure to emergency service providers is necessary for\r\n          your rescue, health and safety) including your approximate location;\r\n          <br></br> <br></br>\r\n          h) Any other person that we deem legitimately necessary to share the\r\n          data with.\r\n          <br></br> <br></br>\r\n          4.3 Some of your information may be passed on to any person whom you\r\n          receive mobile money from or send or intend to send mobile money to.\r\n          <br /> Your information may be available to any third party involved\r\n          in the operation of the mobile money service including Lipa Na M-PESA\r\n          Merchants, mobile money interoperability partners, ATM Switch\r\n          providers and vendors of the M-PESA money transfer technology\r\n          platform.\r\n          <br></br> <br></br>\r\n          4.4 We shall not release any information to any individual or entity\r\n          that is acting beyond its legal mandate.\r\n          <br></br> <br></br>\r\n          4.5 We will get your express consent before we share your personal\r\n          data with any third party for direct marketing purposes.\r\n          <br></br> <br></br>\r\n          4.6 Direct Marketing\r\n          <br></br> <br></br>\r\n          4.6.1 You may be required to opt in or give any other form of explicit\r\n          consent before receiving marketing messages from us.\r\n          <br></br> <br></br>\r\n          4.6.2 You can ask us to stop sending you marketing messages at any\r\n          time by writing to us or logging into our website,www.Kenya Space\r\n          Agency.co.ke and checking or unchecking relevant boxes to adjust your\r\n          marketing preferences or by following the optout links on any\r\n          marketing message sent to you or by attending to us or contacting us\r\n          at any time through the provided contacts.\r\n          <br></br> <br></br>\r\n          4.6.3 Where you opt out of receiving these marketing messages, this\r\n          will not apply to personal data provided to us as a result of a\r\n          product, service already taken up, warranty registration, product or\r\n          service experience or other transactions].\r\n          <br></br> <br></br>\r\n          <b>5.0 The Use of Cookies</b>\r\n          <br></br> <br></br>\r\n          5.1 We may store some information (using \"cookies\") on your computer\r\n          when you visit our websites.\r\n          <br /> This enables us to recognise you during subsequent visits. The\r\n          type of information gathered is non-personal (such as: the Internet\r\n          Protocol (IP) address of your computer, the date and time of your\r\n          visit, which pages you browsed and whether the pages have been\r\n          delivered successfully.\r\n          <br></br> <br></br>\r\n          5.2 We may also use this data in aggregate form to develop customised\r\n          services - tailored to your individual interests and needs. Should you\r\n          choose to do so, it is possible (depending on the browser you are\r\n          using), to be prompted before accepting any cookies, or to prevent\r\n          your browser from accepting any cookies at all. This will however\r\n          cause certain features of the web site not to be accessible.\r\n          <br></br> <br></br>\r\n          <b>6.0 The Use of Hyperlinks</b>\r\n          <br></br> <br></br>\r\n          6.1 Our websites may provide hyperlinks to other locations or websites\r\n          on the Internet. These hyperlinks lead to websites published or\r\n          operated by third parties who are not affiliated with or in any way\r\n          related to us and have been included in our website to enhance your\r\n          user experience and are presented for information purposes only.\r\n          <br></br> <br></br>\r\n          6.2 We do not endorse, recommend, approve or guarantee any third-\r\n          party products and services by providing hyperlinks to an external\r\n          website or webpage and do not have any co-operation with such third\r\n          parties unless otherwise disclosed. We are not in any way responsible\r\n          for the content of any externally linked website or webpage.\r\n          <br></br> <br></br>\r\n          6.3 By clicking on a hyperlink, you will leave the Oakar Services\r\n          webpage and accordingly you shall be subject to the terms of use,\r\n          privacy and cookie policies of the other website that you choose to\r\n          visit.\r\n          <br></br> <br></br>\r\n          <b>7.0 Access to and Updating your Information</b>\r\n          <br></br> <br></br>\r\n          To update your information, go to https://selfcare.Kenya Space\r\n          Agency.co.ke/and sign in to my Oakar Services self-care to look at\r\n          your personal information. You can change how we get in touch with you\r\n          and your account details whenever you like.\r\n          <br></br> <br></br>\r\n          <b>8.0 Safeguarding and Protection of Information</b>\r\n          <br></br> <br></br>\r\n          Oakar Services has put in place technical and operational measures to\r\n          ensure integrity and confidentiality of your data via controls around:\r\n          information classification, access control, cryptography, physical and\r\n          environmental security and monitoring and compliance.\r\n          <br></br> <br></br>\r\n          <b>9.0 International Data Transfers</b>\r\n          <br></br> <br></br>\r\n          From time to time we may need to transfer your personal information\r\n          outside the Republic of Kenya.\r\n          <br></br> <br></br>\r\n          Where we send your information outside Kenya, we will make sure that\r\n          your information is properly protected in accordance with the\r\n          applicable Data Protection Laws.\r\n          <br></br> <br></br>\r\n          <b>10.0 Your Rights</b>\r\n          <br></br> <br></br>\r\n          Subject to legal and contractual exceptions, you have rights under\r\n          data protection laws in relation to your personal data. These are\r\n          listed below: -<br></br> <br></br>\r\n          a) Right to be informed that we are collecting personal data about\r\n          you;\r\n          <br></br> <br></br>\r\n          b) Right to access personal data that we hold about you and request\r\n          for information about how we process it;\r\n          <br></br> <br></br>\r\n          c) Right to request that we correct your personal data where it is\r\n          inaccurate or incomplete;\r\n          <br></br> <br></br>\r\n          d) Right to request that we erase your personal data noting that we\r\n          may continue to retain your information if obligated by the law or\r\n          entitled to do so;\r\n          <br></br> <br></br>\r\n          e) Right to object and withdraw your consent to processing of your\r\n          personal data. We may continue to process if we have a legitimate or\r\n          legal reason to do so;\r\n          <br></br> <br></br>\r\n          f) Right to request restricted processing of your personal data noting\r\n          that we may be entitled or legally obligated to continue processing\r\n          your data and refuse your request;\r\n          <br></br> <br></br>\r\n          g) Right to request transfer of your personal data in [an electronic\r\n          format]. If you wish to exercise any of the rights set out above,\r\n          please contact us on dpo@Oakar Services.co.ke. We may need to request\r\n          specific information from you to help us confirm your identity and\r\n          ensure your right to access your personal data (or to exercise any of\r\n          your other rights). This is a security measure to ensure that personal\r\n          data is not disclosed to any person who has no right to receive it. We\r\n          may also contact you to ask you for further information in relation to\r\n          your request to speed up our response.\r\n          <br></br> <br></br>\r\n          We try to respond to all legitimate requests within reasonable time.\r\n          Occasionally it could take us longer if your request is particularly\r\n          complex or you have made a number of requests. In this case, we will\r\n          notify you and keep you updated.\r\n          <br></br> <br></br>\r\n        </p>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Pagination from \"../Utils/pagination\";\r\nimport \"../../Styles/documents.scss\";\r\nimport WaveLoading from \"../Utils/WaveLoading\";\r\nimport SelectMain from \"../Utils/SelectMain\";\r\nimport { useRef } from \"react\";\r\n\r\nconst criteria = [\"Title\", \"Description\", \"Owner\", \"Keywords\"];\r\n\r\nexport default function MapCategory(props) {\r\n  const [data, setData] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [crit, setCrit] = useState(criteria[0]);\r\n  const [loading, setLoading] = useState(null);\r\n  const [filter, setFilter] = useState(\"All\");\r\n  const [refresh, setRefresh] = useState(false);\r\n  const srch = useRef();\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (filter == \"All\") {\r\n      setLoading(true);\r\n      fetch(`/api/data/category/${props.category}/${(currentPage - 1) * 12}`)\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n          setData(data);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setLoading(true);\r\n      fetch(\r\n        `/api/data/tpaginated/${props.category}/${filter}/${\r\n          (currentPage - 1) * 12\r\n        }`\r\n      )\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n     \r\n          setData(data);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [currentPage, refresh, filter]);\r\n\r\n  function search(q) {\r\n    setLoading(true);\r\n    fetch(`/api/data/search/${crit}/${q}`)\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"\");\r\n      })\r\n      .then((data) => {\r\n        setLoading(false);\r\n        setData(data);\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"arc\">\r\n      <div className=\"slist\">\r\n        <div className=\"scontainer\">\r\n          <div className=\"left\">\r\n            <Category\r\n              txt=\"All\"\r\n              filter={filter}\r\n              setFilter={setFilter}\r\n              setCurrentPage={setCurrentPage}\r\n            />\r\n            <Category\r\n              txt=\"Raster\"\r\n              filter={filter}\r\n              setFilter={setFilter}\r\n              setCurrentPage={setCurrentPage}\r\n            />\r\n            <Category\r\n              txt=\"Vector\"\r\n              filter={filter}\r\n              setFilter={setFilter}\r\n              setCurrentPage={setCurrentPage}\r\n            />\r\n          </div>\r\n          <div className=\"smain\">\r\n            <div className=\"top\">\r\n              <dir className=\"yr\">\r\n                <h4>Search Criteria</h4>\r\n                <SelectMain\r\n                  data={criteria}\r\n                  getSelected={(v) => {\r\n                    setCrit(v);\r\n                  }}\r\n                />\r\n              </dir>\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                }}\r\n              >\r\n                <input\r\n                  ref={srch}\r\n                  type=\"text\"\r\n                  placeholder={\"Searching by \" + crit}\r\n                  required\r\n                  onChange={(e) => {\r\n                    if (e.target.value == \"\") {\r\n                      setData(null);\r\n                      setRefresh(!refresh);\r\n                    } else {\r\n                      search(e.target.value);\r\n                    }\r\n                  }}\r\n                />\r\n                <i className=\"fa fa-search\"></i>\r\n              </form>\r\n            </div>\r\n\r\n            <div className=\"list\">\r\n              {data &&\r\n                data?.data?.length > 0 &&\r\n                data?.data?.map((item, i) => {\r\n                  return <MyDocument key={i} item={item} />;\r\n                })}\r\n            </div>\r\n            <br />\r\n            <br />\r\n            {data && (\r\n              <Pagination\r\n                totalItems={data.total}\r\n                currentPage={currentPage}\r\n                onPageChange={handlePageChange}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        {loading && <WaveLoading />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Category = (props) => {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.setFilter(props.txt);\r\n        props.setCurrentPage(1);\r\n      }}\r\n      style={{\r\n        backgroundColor: props.txt == props.filter ? \"#60606030\" : \"white\",\r\n      }}\r\n      className=\"category\"\r\n    >\r\n      <p>{props.txt}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MyDocument = (props) => {\r\n  return (\r\n    <div\r\n      title={\"Map Description\" + \"\\n\\n\" + props.item.Description}\r\n      className=\"stk\"\r\n      onClick={() => {\r\n        window.location.href = `/maps/${props.item.Category}/${props.item.ID}`;\r\n      }}\r\n    >\r\n      <img src={`/api/${props.item.Thumbnail}`} alt=\"\" />\r\n      <div className=\"np\">\r\n        <div className=\"tp\">\r\n          <h3>{props.item.Title}</h3>\r\n        </div>\r\n        <h4>Owner: {props.item.Owner}</h4>\r\n        <h4>Date Published: {props.item.updatedAt.split(\"T\")[0]}</h4>\r\n        <p>{props.item.Description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import \"../Styles/landing.scss\";\r\nimport React, { useState } from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport Footer from \"../components/Utils/footer\";\r\nimport MapCategory from \"../components/maps/MapCategory\";\r\n\r\nexport default function Category(props) {\r\n  const [data, setData] = useState(null);\r\n  const instanceId = window.location.pathname.split(\"/\")[2].replaceAll(\"%20\", \" \");\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/data/category/${instanceId}/0`, {\r\n      method: \"get\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"\");\r\n      })\r\n      .then((data) => {\r\n        setData(data);\r\n      })\r\n      .catch((e) => {});\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"InstancesPage\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n      />\r\n\r\n      <div className=\"catdata\">\r\n        <MapCategory category={instanceId} />\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import { React, useEffect, useRef, useState } from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport \"../Styles/Publications.scss\";\r\nimport WaveLoading from \"../components/Utils/WaveLoading\";\r\nimport Pagination from \"../components/Utils/pagination\";\r\nimport placeholder from \"../assets/imgs/placeholder.png\";\r\nimport { pdfjs } from \"react-pdf\";\r\n\r\n\r\nexport default function PublicationsPage(props) {\r\n  const [publications, setPublications] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [showing, setShowing] = useState(true);\r\n  const [loading, setLoading] = useState(null);\r\n  const [filter, setFilter] = useState(\"Publications\");\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const srch = useRef();\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n  const handleResize = () => {\r\n    if (window.innerWidth < 768) {\r\n      setShowing(false);\r\n    } else {\r\n      setShowing(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleResize();\r\n  }, []);\r\n\r\n  const [arrow, setArrow] = useState(\"fa fa-angle-up\");\r\n\r\n  const toggle = () => {\r\n    setShow(!show);\r\n    if (show) {\r\n      setArrow(\"fa fa-angle-down\");\r\n    } else setArrow(\"fa fa-angle-up\");\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setPublications(null)\r\n    if (filter == \"Story Maps\") {\r\n      setLoading(true);\r\n      fetch(`/api/storymaps/paginated/${(currentPage - 1) * 12}`)\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n          setPublications(data)\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setLoading(true);\r\n      fetch(`/api/publications/type/${filter}/${(currentPage - 1) * 12}`)\r\n        .then((res) => {\r\n          if (res.ok) return res.json();\r\n          else throw Error(\"\");\r\n        })\r\n        .then((data) => {\r\n          setLoading(false);\r\n          setPublications(data);\r\n        })\r\n        .catch((e) => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [currentPage, refresh, filter]);\r\n\r\n  function search(q) {\r\n    setPublications(null)\r\n    setLoading(true);\r\n    fetch(`/api/publications/search/${q}`)\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"\");\r\n      })\r\n      .then((data) => {\r\n        setLoading(false);\r\n        setPublications(data)\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  //Try to use useState\r\n  return (\r\n    <div className=\"data\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        parent=\"Knowledge Hub\"\r\n      />\r\n      <div className=\"publications\">\r\n        <div className=\"container\">\r\n          <div className=\"right\">\r\n            <div className=\"top\">\r\n\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                }}\r\n              >\r\n                <input\r\n                  ref={srch}\r\n                  type=\"text\"\r\n                  placeholder=\"Type to search\"\r\n                  required\r\n                  onChange={(e) => {\r\n                    if (e.target.value == \"\") {\r\n                      setPublications(null);\r\n                      setRefresh(!refresh);\r\n                    }\r\n                  }}\r\n                />\r\n                <i onClick={() => {\r\n                  if (srch.current.value != \"\") {\r\n                    search(srch.current.value);\r\n                  }\r\n                }} className=\"fa fa-search\"></i>\r\n              </form>\r\n            </div>\r\n            <div className=\"left\">\r\n              <Category\r\n                txt=\"Publications\"\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n                setCurrentPage={setCurrentPage}\r\n              />\r\n              <Category\r\n                txt=\"Story Maps\"\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n                setCurrentPage={setCurrentPage}\r\n              />\r\n              <Category\r\n                txt=\"Reports\"\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n                setCurrentPage={setCurrentPage}\r\n              />\r\n              <Category\r\n                txt=\"Learning Materials\"\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n                setCurrentPage={setCurrentPage}\r\n              />\r\n              <Category\r\n                txt=\"Other\"\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n                setCurrentPage={setCurrentPage}\r\n              />\r\n            </div>\r\n            <div className=\"list\">\r\n              {publications &&\r\n                publications?.result?.length > 0 && <>{\r\n                  filter == \"Story Maps\" ? publications?.result?.map((item, i) => {\r\n                    return <StoryMap key={i} item={item} />;\r\n                  }) : publications?.result?.map((item, i) => {\r\n                    return <MyDocument key={i} item={item} />;\r\n                  })\r\n                }\r\n                </>\r\n              }\r\n            </div>\r\n            {publications && (\r\n              <Pagination\r\n                totalItems={publications.total}\r\n                currentPage={currentPage}\r\n                onPageChange={handlePageChange}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        {loading && <WaveLoading />}\r\n      </div>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Category = (props) => {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.setFilter(props.txt);\r\n        props.setCurrentPage(1);\r\n      }}\r\n      style={{\r\n        backgroundColor: props.txt == props.filter ? \"#60606030\" : \"white\",\r\n      }}\r\n      className=\"category\"\r\n    >\r\n      <p>{props.txt}</p>\r\n    </div>\r\n  );\r\n};\r\nconst MyDocument = (props) => {\r\n  const [blob, setBlob] = useState(null);\r\n  const [firstPageBlob, setFirstPageBlob] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (blob) {\r\n      const fetchPdfFirstPage = async () => {\r\n        try {\r\n          const pdf = await pdfjs.getDocument(blob).promise;\r\n          const page = await pdf.getPage(1);\r\n          const viewport = page.getViewport({ scale: 0.5 });\r\n          const canvas = document.createElement(\"canvas\");\r\n          const canvasContext = canvas.getContext(\"2d\");\r\n          canvas.width = viewport.width;\r\n          canvas.height = viewport.height;\r\n          await page.render({ canvasContext, viewport }).promise;\r\n          setFirstPageBlob(canvas.toDataURL());\r\n        } catch (error) {\r\n          console.error(\"Error loading PDF:\", error);\r\n        }\r\n      };\r\n\r\n      fetchPdfFirstPage();\r\n    }\r\n  }, [blob]);\r\n\r\n  useEffect(() => {\r\n    fetch(`/api/uploads/${props.item.File}`)\r\n      .then((res) => {\r\n        if (res.ok) return res.blob();\r\n        else throw Error(\"\");\r\n      })\r\n      .then((blob) => {\r\n        if (blob) {\r\n          const url = window.URL.createObjectURL(blob);\r\n          setBlob(url);\r\n          return () => {\r\n            window.URL.revokeObjectURL(url);\r\n          };\r\n        }\r\n      })\r\n      .catch((e) => { });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"stk\"\r\n    // onClick={()=>{\r\n    //   window.location.href = \"/portal/knowledgehub/preview/\" + props.item.PublicationID\r\n    // }}\r\n    >\r\n      {firstPageBlob ? (\r\n        <img src={firstPageBlob} alt=\"\" />\r\n      ) : (\r\n        <img src={placeholder} alt=\"\" />\r\n      )}\r\n      <div className=\"np\">\r\n        <div className=\"tp\">\r\n          <h3>{props.item.Title}</h3>\r\n        </div>\r\n        <br />\r\n        <p>{props.item.Description}</p>\r\n        <p>Category: {props.item.Type}</p>\r\n        {blob && (\r\n          <a title=\"Download File\" href={blob} target=\"_blank\">\r\n            View/Download <i className=\"fa fa-file-pdf-o\">&#xf1c1;</i>\r\n          </a>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst StoryMap = (props) => {\r\n  const [blob, setBlob] = useState(null);\r\n  const [firstPageBlob, setFirstPageBlob] = useState(null);\r\n\r\n\r\n  return (\r\n    <div className=\"stk\"\r\n      onClick={() => {\r\n        // window.location.href = \"/portal/knowledgehub/preview/\" + props.item.StoryMapID\r\n      }}\r\n    >\r\n      {props.item?.Images?.length > 0 ? <img src={\"/api/uploads/\" + props.item.Images[0]} alt=\"\" /> : <img src={placeholder} alt=\"\" />}\r\n      <div className=\"np\">\r\n        <div className=\"tp\">\r\n          <h3>{props.item.Title}</h3>\r\n        </div>\r\n        <br />\r\n        <p>Category: {props.item.Category}</p>\r\n        <a href={`/knowledgehub/storymap/${props.item.StoryMapID}`}>Click to view more</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport { React, useEffect, useState } from \"react\";\r\nimport \"../Styles/storymaps.scss\";\r\n\r\nexport default function StoryMapPage(props) {\r\n  const [data, setData] = useState();\r\n    const pathname = window.location.pathname.split(\"/\")[3];\r\n\r\nlet contentClass = \"\";\r\n\r\n    if (data) {\r\n  switch (data.Content) {\r\n    case \"h1\":\r\n    case \"h2\":\r\n    case \"h4\":\r\n    case \"h5\":\r\n    case \"p\":\r\n    case \"a\":\r\n      contentClass = \"left\";\r\n      break;\r\n    case \"img\":\r\n      contentClass = \"right\";\r\n      break;\r\n    default:\r\n      contentClass = \"default\";\r\n  }\r\n}\r\n\r\n    \r\n  useEffect(() => {\r\n    fetch(`/api/storymaps/${pathname}`)\r\n      .then((res) => {\r\n        if (res.ok) return res.json();\r\n        else throw Error(\"\");\r\n      })\r\n      .then((data) => {\r\n        // setLoading(false);\r\n        setData(data);\r\n      })\r\n      .catch((e) => {\r\n        // setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"data\">\r\n      <Header\r\n        isAuthenticated={props.isAuthenticated}\r\n        setIsAuthenticated={props.setIsAuthenticated}\r\n        currentUser={props.currentUser}\r\n        setCurrentUser={props.setCurrentUser}\r\n        parent=\"Story Maps\"\r\n      />\r\n      <div className=\"storymaps\">\r\n        <div className=\"innercontent\">\r\n          {data && (\r\n            <>\r\n              <h1>{data.Title}</h1>\r\n\r\n              <h2 className=\"theme\">Theme: {data.Category}</h2>\r\n\r\n              <div className={contentClass}\r\n                dangerouslySetInnerHTML={{ __html: data.Content?.slice(1, -1) }}\r\n              ></div>\r\n            </>\r\n          )}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function Accordion(props) {\r\n    const [show, setShow] = useState(false);\r\n    const [arrow, setArrow] = useState(\"fa fa-angle-up\");\r\n\r\n    const toggle = () => {\r\n        setShow(!show)\r\n        if(show){\r\n            setArrow(\"fa fa-angle-down\");\r\n        } else  setArrow(\"fa fa-angle-up\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"accordion\">\r\n            <div className=\"accordion-header\" onClick={() => {\r\n                toggle();\r\n            }}>\r\n                <h4>{props.title}</h4>\r\n                <h4></h4>\r\n                <i className={arrow}></i>\r\n            </div>\r\n            {show && (\r\n                <>\r\n                {props.children}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default function AccordionBody(props) {\r\n    let url = \"http://localhost:3004/uploads/\" + props.file;\r\n    return (\r\n        <div className=\"accordion-body\">\r\n            <p>{props.description}</p>\r\n            {/* <div className=\"accordion-footer\">\r\n                <a href={url}>Open File</a>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport Header from \"../components/Utils/header\";\r\nimport Footer from \"../components/Utils/footer\";\r\nimport Accordion from \"../components/Utils/Accordion\";\r\nimport AccordionBody from \"../components/Utils/AccordionBody\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function FAQs(props) {\r\n    const [data, setData] = useState();\r\n\r\n    useEffect(() => {\r\n        fetch(`/api/faqs`,{\r\n            method: \"get\",\r\n            credentials: \"include\",\r\n        })\r\n        .then(\r\n            (res) => {\r\n                if (res.ok) return res.json();\r\n                else throw Error(\"Something went wrong!!!\");\r\n            }\r\n        )\r\n        .then(\r\n            (data) => {\r\n                setData(data);\r\n            }\r\n        )\r\n        .catch((err)=>{\r\n           \r\n        })\r\n    },[])\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"headings\">\r\n                <Header\r\n                isAuthenticated={props.isAuthenticated}\r\n                setIsAuthenticated={props.setIsAuthenticated}\r\n                currentUser={props.currentUser}\r\n                setCurrentUser={props.setCurrentUser}\r\n                />\r\n            </div>\r\n            <div className=\"faqs\">\r\n                <div className=\"title\">\r\n                    <h3>Frequently Asked Questions</h3>\r\n                </div>\r\n                {data && \r\n                    data.map((item, index)=>{\r\n                        return (\r\n                        <Accordion title={item.Question}>\r\n                            <AccordionBody \r\n                                description={item.Answer}\r\n                            />\r\n                        </Accordion>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n                \r\n            <Footer />\r\n        </div>\r\n    )\r\n}","import { React, useEffect, useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport \"./App.scss\";\r\nimport Aos from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\nimport NotFound from \"./Pages/404\";\r\nimport LandingPage from \"./Pages/LandingNew\";\r\nimport DataPage from \"./Pages/DataPage\";\r\nimport SingleInstancePage from \"./Pages/SingleInstancePage\";\r\nimport SingleCollection from \"./Pages/SingleCollection\";\r\nimport AboutPage from \"./Pages/AboutPage\";\r\nimport ContactUsPage from \"./Pages/ContactUsPage\";\r\nimport Terms from \"./Pages/Terms\";\r\nimport PrivacyPolicy from \"./Pages/PrivacyPolicy\";\r\nimport Category from \"./Pages/Category\";\r\nimport PublicationsPage from \"./Pages/Publications\";\r\nimport StoryMapsPage from \"./Pages/StoryMapPage\";\r\nimport FAQs from \"./Pages/FAQs\";\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    Aos.init();\r\n  }, []);\r\n\r\n  var jwt = require(\"jsonwebtoken\");\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(true);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n  const [page, setPage] = useState();\r\n  const [instancePage, setInstancePage] = useState();\r\n  const [body, updateBody] = useState({\r\n    Page: null,\r\n    Adress: null,\r\n    Keywords: null,\r\n    OtherInfo: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"cilbup_OSL\");\r\n    if (token) {\r\n      try {\r\n        var decoded = jwt.decode(token);\r\n        //window.location.reload(false)\r\n        setCurrentUser(decoded);\r\n\r\n        if (Date.now() >= decoded.exp * 1000) {\r\n          setIsAuthenticated(false);\r\n        } else {\r\n          //window.location.reload(false)\r\n          setIsAuthenticated(true);\r\n        }\r\n      } catch (error) {\r\n        //window.location.reload(false)\r\n        setIsAuthenticated(false);\r\n      }\r\n    } else {\r\n      //window.location.reload(false)\r\n      setIsAuthenticated(false);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    trackPageView(); // To track the first pageview upon load\r\n  }, []);\r\n\r\n  function trackPageView() {\r\n    const pathDirectories = window.location.pathname.split(\"/\");\r\n    if (pathDirectories.length > 2) {\r\n      if (pathDirectories.includes(\"maps\")) {\r\n        setPage(pathDirectories[2].replaceAll(\"%20\", \" \"));\r\n        setInstancePage(pathDirectories[2].replaceAll(\"%20\", \" \"));\r\n      }\r\n    } else {\r\n      if (pathDirectories.length === 2) {\r\n        switch (pathDirectories[1]) {\r\n          case \"\":\r\n            setPage(\"Home\");\r\n            break;\r\n          case \"contact\":\r\n            setPage(\"Contact Us\");\r\n            break;\r\n          case \"about\":\r\n            setPage(\"About Us\");\r\n            break;\r\n          case \"data\":\r\n            setPage(\"Data\");\r\n            break;\r\n        }\r\n      } else {\r\n        setPage(pathDirectories[1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let d = body;\r\n    d.Page = page;\r\n    d.Keywords = instancePage ? instancePage : null;\r\n    d.OtherInfo = window.location.pathname;\r\n    updateBody(d);\r\n    page &&\r\n      fetch(\"/api/stats/create\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else throw Error(\"\");\r\n        })\r\n        .catch((err) => {});\r\n  }, [page]);\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <LandingPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/Categories/*\">\r\n          <Category\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n\r\n        <Route exact path=\"/data\">\r\n          <DataPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n\r\n        <Route exact path=\"/maps/*\">\r\n          <SingleInstancePage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/collections/*\">\r\n          <SingleCollection\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/about\">\r\n          <AboutPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/publications\">\r\n          <PublicationsPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/knowledgehub/storymap/*\">\r\n          <StoryMapsPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/faqs\">\r\n          <FAQs\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/contact\">\r\n          <ContactUsPage\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/terms\">\r\n          <Terms\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/privacypolicy\">\r\n          <PrivacyPolicy\r\n            isAuthenticated={isAuthenticated}\r\n            setIsAuthenticated={setIsAuthenticated}\r\n            currentUser={currentUser}\r\n            setCurrentUser={setCurrentUser}\r\n          />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <NotFound />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"ol/ol.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}